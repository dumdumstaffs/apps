(this.webpackJsonplambda=this.webpackJsonplambda||[]).push([[9],{113:function(e,t,n){"use strict";var a,i,r,c,o,l=n(0),s=n(94),d=n(31),p=n(13),b=n(19),j=n(10),u=n(100),x=n(130),h=n(126),f=n(95),m=n(1),O=j.d.aside(a||(a=Object(p.a)(["\n  grid-area: navbar;\n  height: 48px;\n  width: 100%;\n\n  margin: 0;\n  padding: 0 80px;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  z-index: 2;\n\n  background-color: ",";\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  /* display: none; */\n\n  @media screen and (max-width: ",") {\n    padding: 0 12px;\n  }\n"])),(function(e){var t=e.bg,n=e.theme;return n.colors[t]||t||n.colors.bgContrast}),(function(e){return e.theme.breakpoints.xl})),g=Object(j.d)(u.e)(i||(i=Object(p.a)(["\n  font-size: 24px;\n  width: 24px;\n"]))),v=j.d.h3(r||(r=Object(p.a)(["\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    min-width: 20px;\n    display: inline-block;\n    margin-right: 8px;\n  }\n"]))),y=j.d.div(c||(c=Object(p.a)(["\n  position: fixed;\n  top: calc(48px + 12px);\n  left: 80px;\n\n  width: calc(100% - 24px);\n  max-width: 360px;\n  max-height: 0;\n  transition: max-height 0.15s ease-out;\n  overflow: hidden;\n\n  background-color: ",";\n  border-radius: 12px;\n\n  ","\n\n  @media screen and (max-width: ",") {\n    left: 12px;\n  }\n"])),(function(e){var t=e.bg,n=e.theme;return n.colors[t]||t||n.colors.bgContrast}),(function(e){return e.open&&Object(j.c)(o||(o=Object(p.a)(["\n      max-height: 500px;\n      transition: max-height 0.25s ease-in;\n    "])))}),(function(e){return e.theme.breakpoints.xl})),k=function(){var e=Object(l.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=function(){return a(!n)};return Object(m.jsxs)(O,{children:[Object(m.jsx)(g,{onClick:i}),Object(m.jsx)(b.b,{to:"/dashboard",children:Object(m.jsxs)(v,{children:[Object(m.jsx)(x.a,{}),"Stellar Trade FX"]})}),Object(m.jsx)(h.a,{open:n,onClick:i}),Object(m.jsx)(y,{open:n,children:Object(m.jsxs)(s.a,{p:"12px",wide:!0,children:[Object(m.jsx)(f.a,{as:"a",display:"block",href:"https://".concat("stellartradefx.com"),children:"Home"}),Object(m.jsx)(f.a,{display:"block",to:"/account/login",children:"Login"}),Object(m.jsx)(f.a,{display:"block",to:"/account/register",children:"Register"}),Object(m.jsx)(f.a,{display:"block",to:"/account/forgot-password",children:"Forgot Password"})]})})]})};t.a=function(e){var t=e.children;return Object(m.jsxs)(s.a,{flex:"center",bg:"bg",m:"48px 0 0 0",h:"calc(100% - 48px)",minH:"calc(100vh - 48px)",children:[Object(m.jsx)(k,{}),Object(m.jsx)(s.a,{p:"16px",m:"64px 0",bg:"bgContrast",radius:"6px",maxW:"calc(100vw - 28px)",w:"400px",h:"auto",children:t})]})}},394:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var a=n(0),i=n(2),r=n(32),c=n(98),o=n.n(c),l=n(99),s=n(103),d=n(106),p=n(94),b=n(95),j=n(104),u=n(112),x=n(97),h=n(105),f=n(206),m=n(119),O=n(113),g=n(102),v=n(211),y=n(30),k=n(212),w=n(1),C=function(){var e,t,n,a,r,c,C,S,D,N,V,E=Object(i.g)(),P=Object(g.a)(),Y=P.profile,F=P.mutate,R=Object(s.c)({defaultValues:{firstName:Y.firstName,lastName:Y.lastName,profile:{phone:"",gender:"",dob:new Date,city:"",country:(null===(e=k.a.find((function(e){return"US"===e.code})))||void 0===e?void 0:e.name)||""}},resolver:Object(d.yupResolver)(v.a)}),z=R.register,H=R.control,L=R.handleSubmit,q=R.errors,A=R.setError,B=R.formState.isSubmitting,I=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date(t.profile.dob),a=new Date,i=new Date(a.setFullYear(a.getFullYear()-10)),n<i){e.next=6;break}return e.abrupt("return",A("profile.dob",{type:"server",message:"Select valid Date"}));case 6:return e.prev=6,e.next=9,y.a.put("/profile",t);case 9:return e.next=11,F();case 11:E.push("/dashboard"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Y.profile?Object(w.jsx)(i.a,{to:"/dashboard"}):Object(w.jsxs)(O.a,{children:[Object(w.jsxs)(p.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(b.a,{font:"16px",p:"0",align:"center",bold:!0,children:"KYC Verification"}),Object(w.jsx)(b.a,{font:"12px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Kindly complete identification process to complete verification"})]}),Object(w.jsxs)(p.a,{as:"form",wide:!0,onSubmit:L(I),children:[Object(w.jsx)("input",{hidden:!0,ref:z,name:"firstName"}),Object(w.jsx)("input",{hidden:!0,ref:z,name:"lastName"}),Object(w.jsx)(u.a,{radius:"6px",p:"12px",label:"Country",ref:z,name:"profile.country",error:null===(t=q.profile)||void 0===t||null===(n=t.country)||void 0===n?void 0:n.message,children:k.a.map((function(e){return Object(w.jsx)("option",{value:e.name,children:e.name},e.code)}))}),Object(w.jsx)(j.a,{radius:"6px",p:"12px",label:"City",placeholder:"City",ref:z,name:"profile.city",error:null===(a=q.profile)||void 0===a||null===(r=a.city)||void 0===r?void 0:r.message}),Object(w.jsx)(f.a,{radius:"6px",p:"12px",type:"tel",label:"Phone Number",placeholder:"Phone Number",ref:z,name:"profile.phone",error:null===(c=q.profile)||void 0===c||null===(C=c.phone)||void 0===C?void 0:C.message}),Object(w.jsxs)(u.a,{radius:"6px",p:"12px",label:"Gender",ref:z,name:"profile.gender",error:null===(S=q.profile)||void 0===S||null===(D=S.gender)||void 0===D?void 0:D.message,children:[Object(w.jsx)("option",{value:"male",children:"Male"}),Object(w.jsx)("option",{value:"female",children:"Female"}),Object(w.jsx)("option",{value:"other",children:"Other"})]}),Object(w.jsx)(m.a,{radius:"6px",p:"12px",label:"Date of Birth",hint:"Pick Date",placeholder:"Date of Birth",control:H,name:"profile.dob",error:null===(N=q.profile)||void 0===N||null===(V=N.dob)||void 0===V?void 0:V.message}),Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"2px",p:"14px 12px",m:"12px 0",font:"13px",full:!0,bold:!0,disabled:B,children:B?Object(w.jsx)(h.a,{}):"Submit"})]})]})},S=n(31),D=n(101),N=function(){var e=Object(g.a)().profile,t=Object(a.useState)(!1),n=Object(S.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),d=Object(S.a)(s,2),j=d[0],u=d[1],f=Object(a.useState)(!1),m=Object(S.a)(f,2),v=m[0],k=m[1],C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,y.a.post("/profile/request-email-verification");case 4:c(!0),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return e.meta.isEmailVerified?Object(w.jsx)(i.a,{to:"/dashboard"}):Object(w.jsxs)(O.a,{children:[Object(w.jsxs)(p.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(b.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Verify Your Email"}),Object(w.jsx)(b.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:r?"We just sent you a verification link. Check your email and click on the link to verify your account":"Please check your email to verify your account"})]}),Object(w.jsxs)(p.a,{m:"24px 0 0",wide:!0,children:[!r&&Object(w.jsxs)(b.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,children:["Didn't get a verification email?",Object(w.jsx)(D.a,{font:"inherit",color:"primary",p:"0",m:"0 0 0 4px",bold:!0,underline:!0,onClick:function(){return k(!0)},children:"Click Here"})]}),v&&Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"2px",m:"12px 0 12px",full:!0,bold:!0,disabled:r,onClick:C,children:j?Object(w.jsx)(h.a,{}):r?"Please check your email":"Request Verification"})]})]})},V=n(8),E=n(43),P=n.n(E),Y={loading:!0,valid:!1},F=function(e,t){switch(t.type){case"load":return Object(V.a)(Object(V.a)({},e),{},{loading:!0});case"success":return{loading:!1,valid:!0};case"error":return{loading:!1,valid:!1}}},R=function(){var e=Object(i.i)().token,t=Object(i.g)(),n=Object(g.a)().mutate,c=Object(a.useReducer)(F,Y),s=Object(S.a)(c,2),d=s[0],j=d.loading,u=d.valid,h=s[1];Object(a.useEffect)((function(){e||h({type:"error"}),function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post("/api/auth/verify-email",{emailToken:e});case 3:n=t.sent,a=n.data,h({type:"success",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),h({type:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()()}),[e]);var f=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:t.push("/dashboard");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j?Object(w.jsx)(r.a,{}):u?Object(w.jsxs)(O.a,{children:[Object(w.jsxs)(p.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(b.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Email Verification"}),Object(w.jsx)(b.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Your email has been verified"})]}),Object(w.jsx)(p.a,{wide:!0,children:Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"2px",m:"24px 0 12px",full:!0,bold:!0,onClick:f,children:"Log In"})})]}):Object(w.jsx)(O.a,{children:Object(w.jsxs)(p.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(b.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Email Verification"}),Object(w.jsx)(b.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Sorry this link is broken"})]})})},z=function(){var e=Object(g.a)(),t=e.profile,n=e.logout;return t.meta.isActive?Object(w.jsx)(i.a,{to:"/dashboard"}):Object(w.jsxs)(O.a,{children:[Object(w.jsxs)(p.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(b.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Account Disabled"}),Object(w.jsx)(b.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Your account has been deactivated"})]}),Object(w.jsxs)(p.a,{wide:!0,children:[Object(w.jsx)(b.a,{font:"12px",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"If you think this is a mistake kindly send us a message"}),Object(w.jsx)(x.a,{type:"submit",bg:"secondary",color:"black",radius:"2px",m:"12px 0",full:!0,bold:!0,onClick:n,children:"Log Out"})]})]})},H=function(e){var t=e.children,n=Object(i.h)(),a=Object(g.a)(),c=a.profile;if(a.loading)return Object(w.jsx)(r.a,{});var o=n.pathname.split("/").slice(0,3).join("/"),l=["/confirmation/verify-email"].includes(o);return c||l?t:Object(w.jsx)(i.a,{to:"/account/login"})};function L(){var e=Object(i.j)(),t=e.path,n=e.url;return Object(w.jsx)(H,{children:Object(w.jsxs)(i.d,{children:[Object(w.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(w.jsx)("p",{children:"Confirm something"})}),Object(w.jsx)(i.b,{exact:!0,path:"".concat(t,"/kyc"),children:Object(w.jsx)(C,{})}),Object(w.jsx)(i.b,{exact:!0,path:"".concat(t,"/verify-email/:token"),children:Object(w.jsx)(R,{})}),Object(w.jsx)(i.b,{exact:!0,path:"".concat(t,"/email-verification"),children:Object(w.jsx)(N,{})}),Object(w.jsx)(i.b,{exact:!0,path:"".concat(t,"/lock"),children:Object(w.jsx)(z,{})}),Object(w.jsx)(i.b,{children:Object(w.jsx)(i.a,{to:"".concat(n)})})]})})}}}]);
//# sourceMappingURL=9.028e5b36.chunk.js.map