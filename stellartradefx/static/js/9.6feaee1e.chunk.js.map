{"version":3,"sources":["components/organisms/AuthNavBar.js","components/templates/Auth.js","components/pages/restriction/KYC.js","components/pages/restriction/EmailVerification.js","components/pages/restriction/VerifyEmail.js","components/pages/restriction/Deactivated.js","routes/RestrictionRoute.js"],"names":["Wrapper","styled","aside","bg","theme","colors","bgContrast","breakpoints","xl","Menu","FaBars","Heading","h3","Dropdown","div","open","css","AuthNavBar","useState","dropdownOpen","setDropdownOpen","toggleDropdown","onClick","to","process","Backdrop","Container","p","wide","Text","as","display","href","Auth","children","flex","m","h","minH","radius","maxW","w","KYC","history","useHistory","useProfile","profile","mutate","useForm","defaultValues","firstName","lastName","phone","gender","dob","Date","city","country","countries","find","c","code","name","resolver","yupResolver","profileSchema","register","control","handleSubmit","errors","setError","isSubmitting","formState","onSubmit","formData","a","today","tenYears","setFullYear","getFullYear","type","message","axiosInstance","put","push","font","align","bold","opacity","multiline","hidden","ref","Select","label","error","map","value","Input","placeholder","PhoneInput","ControlledDateInput","hint","Button","full","disabled","Spinner","RequestEmailVerification","requested","setRequested","loading","setLoading","showRequestButton","setShowRequestButton","requestVerification","post","meta","isEmailVerified","SubText","color","underline","initialState","valid","callbackReducer","state","VerifyEmail","token","useParams","useReducer","dispatch","useEffect","axios","emailToken","data","payload","verifyEmail","login","PreLoader","Deactivated","logout","isActive","AuthChecker","location","useLocation","path","pathname","split","slice","join","whitelisted","includes","RestrictionRoute","useRouteMatch","url","exact","EmailVerification"],"mappings":"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","file":"static/js/9.6feaee1e.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled, { css } from \"styled-components\";\nimport { FaBars } from \"react-icons/fa\";\n\nimport { ReactComponent as Logo } from \"../../assets/icons/logo.svg\";\n\nimport Backdrop from \"../atoms/Backdrop\";\nimport Container from \"../atoms/Container\";\nimport Text from \"../atoms/Text\";\n\nconst Wrapper = styled.aside`\n  grid-area: navbar;\n  height: 48px;\n  width: 100%;\n\n  margin: 0;\n  padding: 0 80px;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  z-index: 2;\n\n  background-color: ${({ bg, theme }) =>\n    theme.colors[bg] || bg || theme.colors.bgContrast};\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  /* display: none; */\n\n  @media screen and (max-width: ${({ theme }) => theme.breakpoints.xl}) {\n    padding: 0 12px;\n  }\n`;\n\nconst Menu = styled(FaBars)`\n  font-size: 24px;\n  width: 24px;\n`;\n\nconst Heading = styled.h3`\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    min-width: 20px;\n    display: inline-block;\n    margin-right: 8px;\n  }\n`;\n\nconst Dropdown = styled.div`\n  position: fixed;\n  top: calc(48px + 12px);\n  left: 80px;\n\n  width: calc(100% - 24px);\n  max-width: 360px;\n  max-height: 0;\n  transition: max-height 0.15s ease-out;\n  overflow: hidden;\n\n  background-color: ${({ bg, theme }) =>\n    theme.colors[bg] || bg || theme.colors.bgContrast};\n  border-radius: 12px;\n\n  ${({ open }) =>\n    open &&\n    css`\n      max-height: 500px;\n      transition: max-height 0.25s ease-in;\n    `}\n\n  @media screen and (max-width: ${({ theme }) => theme.breakpoints.xl}) {\n    left: 12px;\n  }\n`;\n\nconst AuthNavBar = () => {\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const toggleDropdown = () => setDropdownOpen(!dropdownOpen);\n\n  return (\n    <Wrapper>\n      <Menu onClick={toggleDropdown} />\n      <Link to=\"/dashboard\">\n        <Heading>\n          <Logo />\n          {process.env.REACT_APP_NAME}\n        </Heading>\n      </Link>\n\n      <Backdrop open={dropdownOpen} onClick={toggleDropdown} />\n      <Dropdown open={dropdownOpen}>\n        <Container p=\"12px\" wide>\n          <Text\n            as=\"a\"\n            display=\"block\"\n            href={`https://${process.env.REACT_APP_DOMAIN}`}\n          >\n            Home\n          </Text>\n          <Text display=\"block\" to=\"/account/login\">\n            Login\n          </Text>\n          <Text display=\"block\" to=\"/account/register\">\n            Register\n          </Text>\n          <Text display=\"block\" to=\"/account/forgot-password\">\n            Forgot Password\n          </Text>\n        </Container>\n      </Dropdown>\n    </Wrapper>\n  );\n};\n\nexport default AuthNavBar;\n","import React from \"react\";\n\nimport Container from \"../atoms/Container\";\n\nimport AuthNavBar from \"../organisms/AuthNavBar\";\n\nconst Auth = ({ children }) => {\n  return (\n    <Container\n      flex=\"center\"\n      bg=\"bg\"\n      m=\"48px 0 0 0\"\n      h=\"calc(100% - 48px)\"\n      minH=\"calc(100vh - 48px)\"\n    >\n      <AuthNavBar />\n\n      <Container\n        p=\"16px\"\n        m=\"64px 0\"\n        bg=\"bgContrast\"\n        radius=\"6px\"\n        maxW=\"calc(100vw - 28px)\"\n        w=\"400px\"\n        h=\"auto\"\n      >\n        {children}\n      </Container>\n    </Container>\n  );\n};\n\nexport default Auth;\n","import React from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Input from \"../../atoms/Input\";\nimport Select from \"../../atoms/Select\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport PhoneInput from \"../../molecules/PhoneInput\";\nimport ControlledDateInput from \"../../molecules/ControlledDateInput\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nimport { profileSchema } from \"../../../validators/profile\";\n\nimport axiosInstance from \"../../../utils/axios\";\n\nimport countries from \"../../../store/countries\";\n\nconst KYC = () => {\n  const history = useHistory();\n  const { profile, mutate } = useProfile();\n\n  const {\n    register,\n    control,\n    handleSubmit,\n    errors,\n    setError,\n    formState,\n  } = useForm({\n    defaultValues: {\n      firstName: profile.firstName,\n      lastName: profile.lastName,\n      profile: {\n        phone: \"\",\n        gender: \"\",\n        dob: new Date(),\n        city: \"\",\n        country: countries.find((c) => c.code === \"US\")?.name || \"\",\n      },\n    },\n    resolver: yupResolver(profileSchema),\n  });\n\n  const { isSubmitting } = formState;\n\n  const onSubmit = async (formData) => {\n    const dob = new Date(formData.profile.dob);\n    const today = new Date();\n    const tenYears = new Date(today.setFullYear(today.getFullYear() - 10));\n    const valid = dob < tenYears;\n\n    if (!valid) {\n      return setError(\"profile.dob\", {\n        type: \"server\",\n        message: \"Select valid Date\",\n      });\n    }\n\n    try {\n      await axiosInstance.put(\"/profile\", formData);\n      await mutate();\n      history.push(\"/dashboard\");\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  if (profile.profile) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          KYC Verification\n        </Text>\n        <Text\n          font=\"12px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          Kindly complete identification process to complete verification\n        </Text>\n      </Container>\n      <Container as=\"form\" wide onSubmit={handleSubmit(onSubmit)}>\n        <input hidden ref={register} name=\"firstName\" />\n        <input hidden ref={register} name=\"lastName\" />\n        <Select\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"Country\"\n          ref={register}\n          name=\"profile.country\"\n          error={errors.profile?.country?.message}\n        >\n          {countries.map((country) => (\n            <option key={country.code} value={country.name}>\n              {country.name}\n            </option>\n          ))}\n        </Select>\n        <Input\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"City\"\n          placeholder=\"City\"\n          ref={register}\n          name=\"profile.city\"\n          error={errors.profile?.city?.message}\n        />\n        <PhoneInput\n          radius=\"6px\"\n          p=\"12px\"\n          type=\"tel\"\n          label=\"Phone Number\"\n          placeholder=\"Phone Number\"\n          ref={register}\n          name=\"profile.phone\"\n          error={errors.profile?.phone?.message}\n        />\n        <Select\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"Gender\"\n          ref={register}\n          name=\"profile.gender\"\n          error={errors.profile?.gender?.message}\n        >\n          <option value=\"male\">Male</option>\n          <option value=\"female\">Female</option>\n          <option value=\"other\">Other</option>\n        </Select>\n        <ControlledDateInput\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"Date of Birth\"\n          hint=\"Pick Date\"\n          placeholder=\"Date of Birth\"\n          control={control}\n          name=\"profile.dob\"\n          error={errors.profile?.dob?.message}\n        />\n\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"2px\"\n          p=\"14px 12px\"\n          m=\"12px 0\"\n          font=\"13px\"\n          full\n          bold\n          disabled={isSubmitting}\n        >\n          {isSubmitting ? <Spinner /> : \"Submit\"}\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default KYC;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport SubText from \"../../atoms/SubText\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nimport axiosInstance from \"../../../utils/axios\";\n\nconst RequestEmailVerification = () => {\n  const { profile } = useProfile();\n\n  const [requested, setRequested] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [showRequestButton, setShowRequestButton] = useState(false);\n\n  const requestVerification = async () => {\n    try {\n      setLoading(true);\n      await axiosInstance.post(\"/profile/request-email-verification\");\n      setRequested(true);\n      setLoading(false);\n    } catch (err) {\n      // console.log(err);\n      setLoading(false);\n    }\n  };\n\n  if (profile.meta.isEmailVerified) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n          Verify Your Email\n        </Text>\n        <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n          {requested\n            ? \"We just sent you a verification link. Check your email and click on the link to verify your account\"\n            : \"Please check your email to verify your account\"}\n        </Text>\n      </Container>\n      <Container m=\"24px 0 0\" wide>\n        {!requested && (\n          <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold>\n            Didn't get a verification email?\n            <SubText\n              font=\"inherit\"\n              color=\"primary\"\n              p=\"0\"\n              m=\"0 0 0 4px\"\n              bold\n              underline\n              onClick={() => setShowRequestButton(true)}\n            >\n              Click Here\n            </SubText>\n          </Text>\n        )}\n        {showRequestButton && (\n          <Button\n            type=\"submit\"\n            bg=\"primary\"\n            radius=\"2px\"\n            m=\"12px 0 12px\"\n            full\n            bold\n            disabled={requested}\n            onClick={requestVerification}\n          >\n            {loading ? (\n              <Spinner />\n            ) : requested ? (\n              \"Please check your email\"\n            ) : (\n              \"Request Verification\"\n            )}\n          </Button>\n        )}\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default RequestEmailVerification;\n","import React, { useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\n\nimport PreLoader from \"../../atoms/PreLoader\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nconst initialState = {\n  loading: true,\n  valid: false,\n};\n\nconst callbackReducer = (state, { type }) => {\n  switch (type) {\n    case \"load\":\n      return { ...state, loading: true };\n\n    case \"success\":\n      return { loading: false, valid: true };\n\n    case \"error\":\n      return { loading: false, valid: false };\n\n    default:\n      break;\n  }\n};\n\nconst VerifyEmail = () => {\n  const { token } = useParams();\n  const history = useHistory();\n  const { mutate } = useProfile();\n\n  const [{ loading, valid }, dispatch] = useReducer(\n    callbackReducer,\n    initialState\n  );\n\n  useEffect(() => {\n    if (!token) {\n      dispatch({\n        type: \"error\",\n      });\n    }\n    const verifyEmail = async () => {\n      try {\n        // console.log(token);\n        const { data } = await axios.post(\"/api/auth/verify-email\", {\n          emailToken: token,\n        });\n        // console.log(data);\n        dispatch({\n          type: \"success\",\n          payload: data,\n        });\n      } catch (err) {\n        // console.log(err.response);\n        dispatch({\n          type: \"error\",\n        });\n      }\n    };\n    verifyEmail();\n  }, [token]);\n\n  const login = async () => {\n    await mutate();\n    history.push(\"/dashboard\");\n  };\n\n  if (loading) return <PreLoader />;\n\n  if (!valid)\n    return (\n      <AuthLayout>\n        <Container p=\"12px 0\" wide>\n          <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n            Email Verification\n          </Text>\n          <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n            Sorry this link is broken\n          </Text>\n        </Container>\n      </AuthLayout>\n    );\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n          Email Verification\n        </Text>\n        <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n          Your email has been verified\n        </Text>\n      </Container>\n      <Container wide>\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"2px\"\n          m=\"24px 0 12px\"\n          full\n          bold\n          onClick={login}\n        >\n          Log In\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default VerifyEmail;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nconst Deactivated = () => {\n  const { profile, logout } = useProfile();\n\n  if (profile.meta.isActive) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n          Account Disabled\n        </Text>\n        <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n          Your account has been deactivated\n        </Text>\n      </Container>\n      <Container wide>\n        <Text font=\"12px\" align=\"center\" opacity=\"0.6\" bold multiline>\n          If you think this is a mistake kindly send us a message\n        </Text>\n        <Button\n          type=\"submit\"\n          bg=\"secondary\"\n          color=\"black\"\n          radius=\"2px\"\n          m=\"12px 0\"\n          full\n          bold\n          onClick={logout}\n        >\n          Log Out\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default Deactivated;\n","import React from \"react\";\nimport {\n  Switch,\n  Route,\n  Redirect,\n  useRouteMatch,\n  useLocation,\n} from \"react-router-dom\";\n\nimport PreLoader from \"../components/atoms/PreLoader\";\n\nimport KYC from \"../components/pages/restriction/KYC\";\nimport EmailVerification from \"../components/pages/restriction/EmailVerification\";\nimport VerifyEmail from \"../components/pages/restriction/VerifyEmail\";\nimport Deactivated from \"../components/pages/restriction/Deactivated\";\n\nimport { useProfile } from \"../hooks/useProfile\";\n\nconst AuthChecker = ({ children }) => {\n  const location = useLocation();\n\n  const { profile, loading } = useProfile();\n\n  if (loading) return <PreLoader />;\n\n  const whitelist = [\"/confirmation/verify-email\"];\n  const path = location.pathname.split(\"/\").slice(0, 3).join(\"/\");\n  const whitelisted = whitelist.includes(path);\n\n  if (!profile && !whitelisted) return <Redirect to=\"/account/login\" />;\n\n  return children;\n};\n\nexport default function RestrictionRoute() {\n  const { path, url } = useRouteMatch();\n\n  return (\n    <AuthChecker>\n      <Switch>\n        <Route exact path={`${path}`}>\n          <p>Confirm something</p>\n        </Route>\n        <Route exact path={`${path}/kyc`}>\n          <KYC />\n        </Route>\n        <Route exact path={`${path}/verify-email/:token`}>\n          <VerifyEmail />\n        </Route>\n        <Route exact path={`${path}/email-verification`}>\n          <EmailVerification />\n        </Route>\n        <Route exact path={`${path}/lock`}>\n          <Deactivated />\n        </Route>\n\n        <Route>\n          <Redirect to={`${url}`} />\n        </Route>\n      </Switch>\n    </AuthChecker>\n  );\n}\n"],"sourceRoot":""}