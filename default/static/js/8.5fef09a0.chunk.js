(this.webpackJsonplambda=this.webpackJsonplambda||[]).push([[8],{111:function(e,t,n){"use strict";var r,a=n(8),c=n(97),i=n(13),s=n(0),o=n(100),l=n(10),d=n(1),p=l.d.label(r||(r=Object(i.a)(["\n  position: relative;\n  display: ",";\n\n  display: inline-flex;\n  align-items: center;\n\n  width: ",";\n  padding: ",";\n  margin: ",";\n\n  font-size: 12px;\n\n  color: ",";\n\n  span {\n    width: 18px;\n    height: 18px;\n\n    background-color: lightgrey;\n    color: transparent;\n\n    font-size: 12px;\n    margin-right: 12px;\n\n    border-radius: 2px;\n    border: 0.5px solid #ccc;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    flex-shrink: 0;\n\n    transition: 0.2s;\n  }\n\n  input:checked + span {\n    background-color: #2196f3;\n    color: white;\n    border-color: #2196f3;\n  }\n"])),(function(e){var t=e.display;return t&&t}),(function(e){return e.w||"100%"}),(function(e){return e.p||"12px 8px"}),(function(e){return e.m||"8px 0"}),(function(e){var t=e.color,n=e.theme;return t?n.colors[t]||t:void 0})),b=function(e,t){var n=e.label,r=e.w,i=e.p,s=e.m,l=e.weight,b=e.display,j=e.color,u=Object(c.a)(e,["label","w","p","m","weight","display","color"]);return Object(d.jsxs)(p,{w:r,p:i,m:s,weight:l,display:b,color:j,children:[Object(d.jsx)("input",Object(a.a)({type:"checkbox",hidden:!0,ref:t},u)),Object(d.jsx)("span",{children:Object(d.jsx)(o.f,{})}),n]})};t.a=Object(s.forwardRef)(b)},121:function(e,t,n){"use strict";var r=n(8),a=n(97),c=(n(0),n(102)),i=n(142),s=n(143),o=n(1);t.a=function(e){var t,n,l,d=e.size,p=void 0===d?"32px":d,b=e.user,j=e.demo,u=Object(a.a)(e,["size","user","demo"]),x=Object(c.a)().profile,m=b||x,h=(null===(t=m.avatar)||void 0===t?void 0:t.url)&&m.avatar.url.split("/");return h&&(h.splice(6,0,"w_200,h_200,c_fill"),l=h.join("/")),(null===(n=m.avatar)||void 0===n?void 0:n.url)?Object(o.jsx)(s.a,{src:l,w:p,h:p,radius:"50%",alt:m.fullName}):Object(o.jsx)(i.a,Object(r.a)({size:p,name:m.fullName,demo:j},u))}},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));var r=n(109),a=r.e().shape({oldPassword:r.g().trim().label("Old Password").required("Old Password is required"),password:r.g().trim().label("New Password").required("New Password is required").min(8,"Password must be at least 8 characters").notOneOf([r.f("oldPassword")],"New password cannot be same as old password"),pass:r.g().trim().label("Password Confirmation").required("Password confirmation is required").oneOf([r.f("password")],"Password do not match")}),c=r.e().shape({password:r.g().trim().label("New Password").required("New Password is required").min(8,"Password must be at least 8 characters").notOneOf([r.f("oldPassword")],"New password cannot be same as old password"),pass:r.g().trim().label("Password Confirmation").required("Password confirmation is required").oneOf([r.f("password")],"Password do not match")}),i=r.e().shape({email:r.g().email("Invalid Email Address").lowercase().required("Email is required")}),s=r.e().shape({password:r.g().trim().label("New Password").required("New Password is required").min(8,"Password must be at least 8 characters"),pass:r.g().trim().label("Password Confirmation").required("Password confirmation is required").oneOf([r.f("password")],"Password do not match")})},142:function(e,t,n){"use strict";var r,a=n(8),c=n(97),i=n(13),s=n(10),o=n(1),l=s.d.div(r||(r=Object(i.a)(["\n  --size: ",";\n  width: var(--size);\n  height: var(--size);\n\n  min-width: var(--size);\n\n  border-radius: 50%;\n  background-color: ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  color: ",";\n\n  font-size: ",";\n  cursor: pointer;\n"])),(function(e){return e.size||"32px"}),(function(e){var t=e.bg,n=e.theme;return e.demo?"white":n.colors[t]||t||n.colors.primary}),(function(e){var t=e.bg,n=e.demo,r=e.theme;return n?r.colors[t]||t||r.colors.primary:"white"}),(function(e){return e.font||"calc(0.4375 * var(--size))"}));t.a=function(e){var t=e.name,n=e.demo,r=Object(c.a)(e,["name","demo"]),i=null===t||void 0===t?void 0:t.split(" ").slice(0,2).map((function(e){return e.substring(0,1)})).join("");return Object(o.jsx)(l,Object(a.a)(Object(a.a)({demo:n},r),{},{children:i}))}},395:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Fc}));var r,a=n(0),c=n.n(a),i=n(2),s=n(32),o=n(31),l=n(100),d=n(33),p=function(){var e=Object(d.b)("/transactions"),t=e.data,n=e.mutate,r=e.error,a=!t&&!r,c=null===t||void 0===t?void 0:t.filter((function(e){return"investment"===e.type}));return{transactions:t,investments:c,loading:a,error:r,mutate:n}},b=function(e){var t=Object(d.b)("/transactions/"+e),n=t.data,r=t.mutate,a=t.error;return{transaction:n,loading:!n&&!a,error:a,mutate:r}},j=function(){var e=Object(d.b)("/transactions/admin"),t=e.data,n=e.mutate,r=e.error,a=!t&&!r,c=null===t||void 0===t?void 0:t.filter((function(e){return"investment"===e.type}));return{transactions:t,investments:c,loading:a,error:r,mutate:n}},u=function(e){var t=Object(d.b)("/transactions/admin/user/"+e),n=t.data,r=t.mutate,a=t.error;return{transactions:n,loading:!n&&!a,error:a,mutate:r}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(null===e||void 0===e?void 0:e.toLocaleString("en-US",{style:"decimal",maximumFractionDigits:t,minimumFractionDigits:t}))||"0.00"},m=function(e){return parseFloat(e.toString().replaceAll(",",""))},h=function(e){var t;if(e.autoIncrement){var n=new Date(e.date).getTime(),r=new Date(e.date).setDate(new Date(e.date).getDate()+e.duration)-n,a=(Date.now()-n)/r;a>1&&(a=1),a<0&&(a=0),t=e.profit*a}else t=e.profit;return t+(e.extra||0)},O=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return new Date(e.date).setHours(0,0,0,0)<=(new Date).setHours(0,0,0,0)}))},f=function(e){var t,n=null===(t=O(e))||void 0===t?void 0:t.reduce((function(e,t){var n=e+t.amount;return t.profit&&(n+=h(t)),n}),0);return x(n)},v=function(e){var t,n=null===(t=O(e))||void 0===t?void 0:t.reduce((function(e,t){if("investment"===t.type){var n=e+t.amount,r=new Date(t.date),a=r.setDate(r.getDate()+t.duration);return new Date>a&&(n+=h(t)),n}return e+t.amount}),0);return x(n)},g=function(e){var t,n=null===e||void 0===e||null===(t=e.filter((function(e){return"referral"===e.type})))||void 0===t?void 0:t.reduce((function(e,t){return e+t.amount}),0);return x(n)},w=function(e){var t,n,r=null===(t=O(e))||void 0===t||null===(n=t.filter((function(e){return"deposit"===e.type})))||void 0===n?void 0:n.reduce((function(e,t){return e+t.amount}),0);return x(r)},y=function(e){var t,n,r=null===(t=O(e))||void 0===t||null===(n=t.filter((function(e){return"investment"===e.type})))||void 0===n?void 0:n.reduce((function(e,t){return e+h(t)}),0);return x(r)},k=function(){var e=p(),t=e.transactions,n=e.loading;return{total:f(t),available:v(t),bonus:g(t),deposit:w(t),profit:y(t),loading:n}},C=function(e){var t=p(),n=t.transactions,r=t.loading,a=null===n||void 0===n?void 0:n.filter((function(t){return t.wallet.toLowerCase()===(null===e||void 0===e?void 0:e.toLowerCase())}));return{total:f(a),available:v(a),loading:r}},S=function(e,t){var n=u(e),r=n.transactions,a=n.loading,c=null===r||void 0===r?void 0:r.filter((function(e){return e.wallet.toLowerCase()===t.toLowerCase()}));return{total:f(c),available:v(c),loading:a}},D=n(102),A=function(){var e=Object(d.b)("/wallets"),t=e.data,n=e.mutate,r=e.error;return{wallets:t,loading:!t&&!r,error:r,mutate:n}},N=function(e){var t=Object(d.b)("/wallets/"+e),n=t.data,r=t.mutate,a=t.error;return{wallet:n,loading:!n&&!a,error:a,mutate:r}},q=function(e){var t=Object(d.b)("/users/"+e+"/wallets"),n=t.data,r=t.mutate,a=t.error;return{wallets:n,loading:!n&&!a,error:a,mutate:r}},U=n(94),P=n(101),E=n(95),I=n(8),R=n(13),B=n(10),M=B.d.div(r||(r=Object(R.a)(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  /* background: linear-gradient(-90deg, #f0f0f0 0%, #f8f8f8 50%, #f0f0f0 100%); */\n  /* background: linear-gradient(-90deg, #2f3137 0%, #242526 50%, #2f3137 100%); */\n  background: ",";\n  background-size: 400% 400%;\n  animation: pulse 1.2s ease-in infinite;\n\n  @keyframes pulse {\n    0% {\n      background-position: 0 0;\n    }\n    100% {\n      background-position: -140% 0;\n    }\n  }\n"])),(function(e){return e.theme.colors.skeleton})),z=n(1),_=function(){return Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(X,{m:"12px 0",h:"64px"}),Object(z.jsx)(X,{m:"12px 0",h:"24px"}),Object(z.jsx)(X,{m:"12px 0",h:"240px"})]})},W=function(e){var t=e.count,n=void 0===t?5:t;return Object(z.jsx)(U.a,{radius:"8px",o:"hidden",wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsx)(X,{m:"1px 0",h:"70px",radius:"0px"},t)}))})},T=function(e){var t=e.count,n=void 0===t?5:t;return Object(z.jsx)(U.a,{wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsxs)(U.a,{p:"12px 0",flex:"flex-start",children:[Object(z.jsx)(X,{minW:"36px",w:"36px",h:"36px",radius:"50%"}),Object(z.jsx)(X,{m:"0 0 0 12px",h:"36px",radius:"8px"})]},t)}))})},L=function(e){var t=e.count,n=void 0===t?5:t;return Object(z.jsx)(U.a,{wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsx)(X,{m:"0 0 12px 0",h:"98px"},t)}))})},F=function(e){var t=e.count,n=void 0===t?5:t;return Object(z.jsx)(U.a,{wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsx)(X,{m:"0 0 12px 0",h:"64px"},t)}))})},V=function(e){var t=e.count,n=void 0===t?5:t;return Object(z.jsx)(U.a,{wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsx)(X,{m:"0 0 12px 0",h:"178px"},t)}))})},H=function(e){var t=e.count,n=void 0===t?2:t;return Object(z.jsx)(U.a,{wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsx)(X,{m:"0 0 12px 0",h:"227px",radius:"12px"},t)}))})},Y=function(e){var t=e.count,n=void 0===t?9:t;return Object(z.jsx)(U.a,{wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsxs)(U.a,{p:"12px 0",flex:"flex-start",children:[Object(z.jsx)(X,{minW:"36px",w:"36px",h:"36px",radius:"50%"}),Object(z.jsx)(X,{m:"0 0 0 12px",h:"36px",radius:"8px"})]},t)}))})},$=function(e){var t=e.count,n=void 0===t?5:t;return Object(z.jsx)(U.a,{wide:!0,children:Array(n).fill().map((function(e,t){return Object(z.jsxs)(U.a,{p:"12px 0",flex:"flex-start",children:[Object(z.jsx)(X,{minW:"36px",w:"36px",h:"36px",radius:"50%"}),Object(z.jsx)(X,{m:"0 0 0 12px",h:"32px",radius:"8px"})]},t)}))})},X=function(e){return Object(z.jsx)(U.a,Object(I.a)(Object(I.a)({radius:"8px"},e),{},{o:"hidden",children:Object(z.jsx)(M,{})}))},Z=n(97),G=n(166);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q=a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("circle",{cx:16,cy:16,fill:"#efb914",fillRule:"nonzero",r:16}),a.createElement("path",{d:"M21.002 9.855A7.947 7.947 0 0124 15.278l-2.847-.708a5.357 5.357 0 00-3.86-3.667c-2.866-.713-5.76.991-6.465 3.806s1.05 5.675 3.917 6.388a5.373 5.373 0 005.134-1.43l2.847.707a7.974 7.974 0 01-5.2 3.385L16.716 27l-2.596-.645.644-2.575a8.28 8.28 0 01-1.298-.323l-.643 2.575-2.596-.646.81-3.241c-2.378-1.875-3.575-4.996-2.804-8.081s3.297-5.281 6.28-5.823L15.323 5l2.596.645-.644 2.575a8.28 8.28 0 011.298.323l.643-2.575 2.596.646z",fill:"#fff"}));function ee(e,t){var n=e.title,r=e.titleId,c=K(e,["title","titleId"]);return a.createElement("svg",J({height:32,viewBox:"0 0 32 32",width:32,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Q)}var te,ne,re,ae,ce,ie,se,oe,le,de,pe,be,je,ue,xe,me,he,Oe,fe,ve,ge,we,ye,ke,Ce,Se,De,Ae,Ne=a.forwardRef(ee),qe=(n.p,Object(B.d)(G.a)(te||(te=Object(R.a)(["\n  --size: ",";\n  height: var(--size);\n  width: var(--size);\n  min-width: var(--size);\n\n  svg {\n    height: var(--size);\n    width: var(--size);\n\n    min-width: var(--size);\n\n    border-radius: 50%;\n  }\n"])),(function(e){return e.size||"36px"}))),Ue=function(e){var t=e.symbol,n=Object(Z.a)(e,["symbol"]);return Object(z.jsx)(qe,Object(I.a)({fallback:function(){return Object(z.jsx)(Ne,{})},loading:function(){return Object(z.jsx)(Ne,{})},src:"/assets/icons/coin/".concat(t.toLowerCase(),".svg")},n))},Pe=Object(B.d)(l.d)(ne||(ne=Object(R.a)(["\n  margin-left: 4px;\n  color: ",";\n  transform: ",";\n  transition: transform 0.4s ease-in-out;\n"])),(function(e){var t=e.negative,n=e.theme;return t?n.colors.danger:n.colors.success}),(function(e){return e.negative&&"rotateZ(180deg)"})),Ee=n(384),Ie=Object(B.d)(Ee.a)(re||(re=Object(R.a)(["\n  height: 100%;\n  min-height: ",";\n  max-height: ",";\n"])),(function(e){return e.min||"200px"}),(function(e){var t=e.max;return t&&t})),Re=n(30),Be=[{name:"Bitcoin",symbol:"BTC",id:"bitcoin"},{name:"Ethereum",symbol:"ETH",id:"ethereum"},{name:"Litecoin",symbol:"LTC",id:"litecoin"},{name:"Ripple",symbol:"XRP",id:"ripple"},{name:"Bitcoin Cash",symbol:"BCH",id:"bitcoin-cash"},{name:"Chainlink",symbol:"LINK",id:"link"},{name:"Binance Coin",symbol:"BNB",id:"binancecoin"},{name:"Dogecoin",symbol:"DGE",id:"dogecoin"},{name:"Monero",symbol:"XMR",id:"monero"},{name:"Stellar",symbol:"XLM",id:"stellar"},{name:"Tron",symbol:"TRX",id:"tron"},{name:"Tether",symbol:"USDT",id:"tether"},{name:"USD Coin",symbol:"USDC",id:"usd-coin"},{name:"Tezos",symbol:"XTZ",id:"tezos"}],Me=function(e){var t=Be.find((function(t){return t.symbol.toLowerCase()===(null===e||void 0===e?void 0:e.toLowerCase())}));return(null===t||void 0===t?void 0:t.id)||"usd-coin"},ze=Be,_e=function(e){return Re.a.get("https://api.coingecko.com/api/v3/simple/price",{params:{ids:e,vs_currencies:"usd",include_24hr_change:"true"}}).then((function(e){return e.data}))},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=A(),r=n.wallets,a=null===r||void 0===r?void 0:r.map((function(e){return Me(e.symbol)})).join(","),c=Object(d.b)(a,_e,{dedupingInterval:1e4}),i=c.data,s=i?i[Me(e)]||{usd:1,usd_24h_change:1}:{usd:0,usd_24h_change:0},o=s.usd,l=x(o),p=x(m(t)/parseFloat(o),8),b=x(s.usd_24h_change);return{rate:l,amount:p,change:b}},Te=function(e){return Re.a.get("https://api.coingecko.com/api/v3/coins"+e).then((function(e){return e.data}))},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Me(e),r=Object(d.b)("/".concat(n,"/market_chart?vs_currency=usd&days=").concat(t),Te,{dedupingInterval:1e4}),a=r.data,c=a?a.prices.map((function(e){return e[1]})):[0,0];return{klines:c}},Fe=function(e){var t=e.wallet,n=e.action,r=Object(Z.a)(e,["wallet","action"]),a=Object(B.f)(),c=Le(null===t||void 0===t?void 0:t.symbol).klines,i=We(null===t||void 0===t?void 0:t.symbol),s=i.rate,o=i.change,l=m(o)<0;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px 0",h:"180px",w:"220px",radius:"12px",noscroll:"true",display:"grid",templaterows:"40px auto 14px",bg:"bg",onClick:function(){return n(t)}},r),{},{children:[Object(z.jsxs)(U.a,{p:"12px",flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ue,{symbol:t.symbol,size:"32px"}),Object(z.jsxs)(U.a,{m:"0 0 0 8px",flexCol:"flex-start",justify:"space-between",h:"32px",children:[Object(z.jsx)(E.a,{font:"13px",p:"0",bold:!0,children:t.name}),Object(z.jsx)(E.a,{font:"12px",p:"0",opacity:"0.6",bold:!0,children:t.symbol})]})]}),Object(z.jsx)(U.a,{flexCol:"center",wide:!0,children:Object(z.jsx)(Ie,{smooth:!0,autoDraw:!0,autoDrawDuration:3e3,autoDrawEasing:"ease-out",data:c.slice(-20),gradient:[a.colors.chart],radius:8,strokeWidth:2.5,strokeLinecap:"round",min:"0"})}),Object(z.jsxs)(U.a,{p:"0 12px",flex:"space-between",wide:!0,children:[Object(z.jsxs)(E.a,{p:"0",font:"13px",opacity:"0.8",bold:!0,children:[s," USD"]}),Object(z.jsxs)(E.a,{font:"12px",p:"0",color:l?"danger":"success",flexalign:!0,opacity:"0.8",bold:!0,children:[l?"":"+"," ",o,"%",Object(z.jsx)(Pe,{negative:l?"true":void 0})]})]})]}))},Ve=function(e){var t=e.wallet,n=Object(Z.a)(e,["wallet"]),r=We(null===t||void 0===t?void 0:t.symbol),a=r.rate,c=r.change,i=m(c)<0;return Object(z.jsx)(U.a,Object(I.a)(Object(I.a)({flex:"center",p:"12px",wide:"wide",to:"/dashboard/wallets/".concat(t.symbol.toLowerCase())},n),{},{children:Object(z.jsxs)(U.a,{bg:"bg",radius:"12px",p:"12px",flex:"space-between",wide:!0,children:[Object(z.jsx)(Ue,{size:"40px",symbol:t.symbol}),Object(z.jsxs)(U.a,{flexCol:"flex-start",justify:"space-between",p:"0 12px",children:[Object(z.jsx)(E.a,{font:"14px",p:"0 0 8px",bold:!0,children:t.name}),Object(z.jsxs)(E.a,{p:"0",flexalign:!0,bold:!0,children:[Object(z.jsx)(P.a,{font:"12px",opacity:"0.8",p:"0",children:"Market Price:"}),Object(z.jsxs)(P.a,{font:"13px",p:"0 0 0 8px",bold:!0,children:["$ ",a]}),Object(z.jsxs)(P.a,{font:"12px",p:"0 0 0 16px",color:i?"danger":"success",flexalign:!0,bold:!0,children:[i?"":"+"," ",c,"%",Object(z.jsx)(Pe,{negative:i?"true":void 0})]})]})]})]})}))},He=function(e){var t=e.children,n=e.heading,r=(e.action,e.text),a=e.hStyles,c=Object(Z.a)(e,["children","heading","action","text","hStyles"]),i=r||{},s=i.name,o=Object(Z.a)(i,["name"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",noscroll:!0},c),{},{children:[Object(z.jsxs)(U.a,{p:"8px 0",flex:"space-between",wide:!0,children:[Object(z.jsx)(E.a,Object(I.a)(Object(I.a)({p:"0",font:"16px",bold:!0},a),{},{children:n})),r&&Object(z.jsx)(E.a,Object(I.a)(Object(I.a)({},o),{},{children:s}))]}),Object(z.jsx)(U.a,{h:"calc(100% - 32px)",scroll:!0,children:t})]}))},Ye=function(e){var t=e.wallet,n=Object(Z.a)(e,["wallet"]),r=We(null===t||void 0===t?void 0:t.symbol),a=r.rate,c=r.change,i=m(c)<0;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px 0",flex:"space-between",pointer:"pointer",wide:"wide",to:"/dashboard/wallets/".concat(t.symbol.toLowerCase())},n),{},{children:[Object(z.jsx)(Ue,{symbol:t.symbol}),Object(z.jsxs)(U.a,{w:"calc(100% - 36px)",p:"2px 0px 2px 12px",h:"36px",flex:"space-between",children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",justify:"space-between",o:"hidden",children:[Object(z.jsx)(E.a,{font:"13px",p:"0",bold:!0,children:t.name}),Object(z.jsxs)(E.a,{font:"12px",p:"0",opacity:"0.6",bold:!0,children:["$ ",a]})]}),Object(z.jsx)(U.a,{flexCol:"flex-end",justify:"center",children:Object(z.jsxs)(E.a,{font:"10px",p:"0",color:i?"danger":"success",flexalign:!0,bold:!0,children:[i?"":"+"," ",c,"%",Object(z.jsx)(Pe,{negative:i?"true":void 0})]})})]})]}))},$e=function(e){var t=e.wallet,n=e.nolink,r=e.action,a=e.placeholder,c=Object(Z.a)(e,["wallet","nolink","action","placeholder"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px 0",flex:"space-between",pointer:"true",wide:"true",to:n?void 0:"/dashboard/admin/wallets/".concat(t.symbol.toLowerCase()),onClick:r?function(){return r(t)}:void 0},c),{},{children:[Object(z.jsx)(Ue,{symbol:t.symbol}),Object(z.jsxs)(U.a,{w:"calc(100% - 36px)",p:"2px 0px 2px 12px",h:"36px",flex:"space-between",children:[Object(z.jsx)(U.a,{flexCol:"flex-start",o:"hidden",children:Object(z.jsx)(E.a,{font:"13px",p:"0",bold:!0,children:t.name})}),Object(z.jsx)(U.a,{flexCol:"flex-end",children:Object(z.jsx)(E.a,{font:"12px",p:"0",children:a||t.symbol})})]})]}))},Xe=function(e){var t=e.wallet,n=Object(Z.a)(e,["wallet"]),r=C(t.symbol).total;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"20px 18px",m:"0 0 12px 0",radius:"8px",bg:"bg",pointer:"pointer",display:"grid",gap:"16px",wide:"wide",to:"/dashboard/wallets/".concat(t.symbol.toLowerCase())},n),{},{children:[Object(z.jsxs)(U.a,{flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ue,{symbol:t.symbol,size:"24px"}),Object(z.jsxs)(E.a,{m:"0 0 0 8px",font:"13px",p:"0",bold:!0,children:[t.name," Wallet"]})]}),Object(z.jsx)(U.a,{flex:"flex-start",wide:!0,children:Object(z.jsxs)(E.a,{font:"16px",p:"0",bold:!0,children:[r,Object(z.jsx)(P.a,{p:"0",m:"0 0 0 4px",children:"USD"})]})})]}))},Ze=function(e){var t=e.wallet,n=e.nolink,r=e.placeholder,a=Object(Z.a)(e,["wallet","nolink","placeholder"]);return Object(z.jsx)(U.a,Object(I.a)(Object(I.a)({p:"20px 18px",m:"0 0 12px 0",radius:"8px",bg:"bg",pointer:"pointer",display:"grid",gap:"16px",wide:"wide",to:n?void 0:"/dashboard/admin/wallets/".concat(t.symbol.toLowerCase())},a),{},{children:Object(z.jsxs)(U.a,{flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ue,{symbol:t.symbol,size:"24px"}),Object(z.jsxs)(E.a,{m:"0 0 0 8px",font:"13px",p:"0",bold:!0,flexalign:!0,children:[t.name," Wallet"," ",r&&Object(z.jsx)(P.a,{p:"0",font:"12px",m:"0 0 0 8px",children:r})]}),Object(z.jsx)(E.a,{p:"0",m:"0 0 0 auto",children:Object(z.jsx)(P.a,{font:"11px",p:"0",flexalign:!0,children:Object(z.jsx)(l.i,{})})})]})}))},Ge=function(e){var t=e.wallet,n=Object(Z.a)(e,["wallet"]),r=C(t.symbol).total,a=We(null===t||void 0===t?void 0:t.symbol,r).amount;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({m:"0 0 12px 0",radius:"8px",bg:"bg",display:"grid",gap:"12px",wide:"wide"},n),{},{children:[Object(z.jsxs)(U.a,{p:"16px",flex:"flex-start",wide:"true",to:"/dashboard/wallets/".concat(t.symbol.toLowerCase()),children:[Object(z.jsx)(Ue,{symbol:t.symbol,size:"32px"}),Object(z.jsxs)(E.a,{m:"0 0 0 12px",p:"0",bold:!0,children:[t.name," Wallet"]})]}),Object(z.jsxs)(U.a,{p:"0 16px",flexCol:"flex-start",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"2px 0",bold:!0,children:[a,Object(z.jsx)(P.a,{p:"0",m:"0 0 0 4px",children:t.symbol})]}),Object(z.jsxs)(E.a,{font:"13px",p:"2px 0",bold:!0,children:[Object(z.jsx)(P.a,{font:"10px",p:"0",m:"0 4px 0 0",children:"Balance in USD"}),r,Object(z.jsx)(P.a,{font:"inherit",p:"0",m:"0 0 0 4px",children:"USD"})]})]}),Object(z.jsxs)(U.a,{p:"16px",flex:"flex-start",bordertop:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"12px",p:"0",m:"0 24px 0 0",flexalign:"true",to:"/dashboard/wallets/".concat(t.symbol.toLowerCase(),"/deposit"),children:[Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 4px 0 0",flexalign:!0,children:Object(z.jsx)(l.p,{})}),"Deposit"]}),Object(z.jsxs)(E.a,{font:"12px",p:"0",flexalign:"true",to:{pathname:"/dashboard/wallets/withdraw",state:{wallet:t.symbol}},children:[Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 4px 0 0",flexalign:!0,children:Object(z.jsx)(l.d,{})}),"Withdraw"]})]})]}))},Je=function(e){var t=A(),n=t.wallets,r=t.loading,a=null===n||void 0===n?void 0:n.slice(0,5);return Object(z.jsx)(He,Object(I.a)(Object(I.a)({heading:"My Wallets",wide:!0,text:{name:"View All",color:"grey",p:"0",to:"/dashboard/wallets"}},e),{},{children:r?Object(z.jsx)(L,{}):Object(z.jsx)(U.a,{minH:"240px",scroll:!0,wide:!0,children:a.length?a.map((function(e){return Object(z.jsx)(Xe,{wallet:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Wallets"})})})}))},Ke=n(96),Qe=B.d.span(ae||(ae=Object(R.a)(["\n  width: ",";\n  height: ",";\n\n  margin: ",";\n\n  border-radius: ",";\n  background-color: ",";\n\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.size||"16px"}),(function(e){return e.size||"16px"}),(function(e){return e.m||"0 6px"}),(function(e){return e.radius||"50%"}),(function(e){var t=e.bg;return e.theme.colors[t]||t||"darkseagreen"}),(function(e){return e.color||"white"}),(function(e){return e.font||"8px"}),(function(e){var t=e.bold,n=e.weight;return n||(t?"600":"500")})),et=function(){var e=Object(d.b)("/messages"),t=e.data,n=e.mutate,r=e.error;return{messages:t,loading:!t&&!r,error:r,mutate:n}},tt=function(e){var t=Object(d.b)("/messages/admin/user/"+e),n=t.data,r=t.mutate,a=t.error;return{messages:n,loading:!n&&!a,error:a,mutate:r}},nt=function(){var e=Object(d.b)("/payments"),t=e.data,n=e.mutate,r=e.error;return{payments:t,loading:!t&&!r,error:r,mutate:n}},rt=function(e){var t=Object(d.b)("/payments/admin/user/"+e),n=t.data,r=t.mutate,a=t.error;return{payments:n,loading:!n&&!a,error:a,mutate:r}},at=function(){var e=et().messages,t=nt().payments,n=null===e||void 0===e?void 0:e.reduce((function(e,t){return t.read?e:e+1}),0),r=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.completed?e:e+1}),0);return Object(z.jsxs)(z.Fragment,{children:[n>0&&Object(z.jsxs)(E.a,{flexalign:!0,p:"0 12px",m:"12px 0 12px",font:"13px",opacity:"0.8",children:["You have a new message",Object(z.jsx)(Qe,{m:"0 0 0 12px",bg:"orangered",size:"18px",font:"10px",bold:!0,children:n}),Object(z.jsx)(Ke.a,{font:"12px",p:"0 12px",m:"0 0 0 auto",bg:"bg",color:"text",radius:"12px",bold:"bold",to:"/dashboard/messages",children:"View"})]}),r>0&&Object(z.jsxs)(E.a,{flexalign:!0,p:"0 12px",m:"12px 0 12px",font:"13px",opacity:"0.8",children:["You have a pending payment",Object(z.jsx)(Qe,{m:"0 0 0 12px",bg:"orangered",size:"18px",font:"10px",bold:!0,children:r}),Object(z.jsx)(Ke.a,{font:"12px",p:"0 12px",m:"0 0 0 auto",bg:"bg",color:"text",radius:"12px",bold:"true",to:"/dashboard/payments",children:"View"})]})]})},ct=n(124),it=n(383),st=function(e){if(e)return e[0].toUpperCase()+e.substring(1)},ot=function(e){return Object(ct.a)(e).map((function(e,t){return t%4===0?" "+e:e})).join("").trim()},lt=function(e){return e.split("-").map((function(e){return st(e)})).join(" ")},dt=function(e){var t=new Date(e);return isNaN(t)?"":t.toDateString()},pt=function(e){return Object(it.a)(e)||e},bt=B.d.div(ce||(ce=Object(R.a)(["\n  width: ",";\n  height: ",";\n\n  min-width: ",";\n\n  border-radius: 6px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: ",";\n  color: white;\n"])),(function(e){var t=e.size;return t||"36px"}),(function(e){var t=e.size;return t||"36px"}),(function(e){return e.size||"36px"}),(function(e){var t=e.theme,n=e.type;return["deposit","investment"].includes(n)?t.colors.success:["withdrawal","transfer","fee"].includes(n)?t.colors.danger:t.colors.actionBg})),jt=function(e){var t,n=e.type,r=Object(Z.a)(e,["type"]);switch(n){case"deposit":case"income":t=Object(z.jsx)(l.b,{});break;case"fee":t=Object(z.jsx)(l.d,{});break;case"transfer":t=Object(z.jsx)(l.o,{});break;case"investment":t=Object(z.jsx)(l.r,{});break;case"withdrawal":t=Object(z.jsx)(l.d,{});break;case"referral":t=Object(z.jsx)(l.w,{})}return Object(z.jsx)(bt,Object(I.a)(Object(I.a)({type:n},r),{},{children:t}))},ut=Object(B.d)(U.a)(ie||(ie=Object(R.a)(["\n  :last-child {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  }\n"]))),xt=function(e){var t=e.transaction,n=Object(Z.a)(e,["transaction"]),r="referral"===t.type?null:"investment"===t.type?"/dashboard/investment/".concat(t._id):"/dashboard/transactions/".concat(t._id),a=We(t.wallet,t.amount).amount;return Object(z.jsxs)(ut,Object(I.a)(Object(I.a)({p:"16px",flex:"space-between",wide:"wide",border:"1px solid",borderbottom:"none",to:r},n),{},{children:[Object(z.jsx)(jt,{type:t.type}),Object(z.jsxs)(U.a,{w:"calc(100% - 36px)",p:"2px 0px 2px 12px",h:"36px",flex:"space-between",children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",justify:"space-between",o:"hidden",children:[Object(z.jsxs)(E.a,{font:"12px",p:"0",bold:!0,children:["referral"===t.type?"Referral Bonus":t.description||t.wallet.toUpperCase()+" "+st(t.type),"withdrawal"===t.type&&"pending"===t.status?" (Pending)":""]}),Object(z.jsx)(E.a,{font:"10px",p:"0",opacity:"0.8",children:new Date(t.date).toDateString()})]}),Object(z.jsxs)(U.a,{flexCol:"flex-end",justify:"center",w:"auto",children:[Object(z.jsx)(E.a,{font:"12px",p:"0",children:a+" "+t.wallet.toUpperCase()}),Object(z.jsxs)(E.a,{font:"11px",p:"0",children:[t.amount.toLocaleString()," USD"," ","investment"===t.type?Object(z.jsxs)(P.a,{p:"0",font:"inherit",bold:!0,color:"success",children:["+",x(h(t))," USD"]}):void 0]})]})]})]}))},mt=function(e){var t,n=e.transaction,r=e.showUsername,a=Object(Z.a)(e,["transaction","showUsername"]),c="referral"===n.type?null:"/dashboard/admin/users/".concat(n.user._id,"/transactions/").concat(n._id),i=We(n.wallet,n.amount).amount;return Object(z.jsxs)(ut,Object(I.a)(Object(I.a)({p:"16px",flex:"space-between",wide:"wide",border:"1px solid",borderbottom:"none",to:c},a),{},{children:[Object(z.jsx)(jt,{type:n.type}),Object(z.jsxs)(U.a,{w:"calc(100% - 36px)",p:"2px 0px 2px 12px",h:"36px",flex:"space-between",children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",justify:"space-between",o:"hidden",children:[Object(z.jsxs)(E.a,{font:"12px",p:"0",bold:!0,children:[r?null===(t=n.user)||void 0===t?void 0:t.fullName:"".concat(n.wallet.toUpperCase()," ").concat(st(n.type))," ",n.demo&&"(Demo)","withdrawal"===n.type&&"pending"===n.status?" (Pending)":""]}),Object(z.jsx)(E.a,{font:"10px",p:"0",opacity:"0.8",children:new Date(n.date).toDateString()})]}),Object(z.jsxs)(U.a,{flexCol:"flex-end",justify:"center",children:[Object(z.jsx)(E.a,{font:"12px",p:"0",children:i+" "+n.wallet.toUpperCase()}),Object(z.jsxs)(E.a,{font:"11px",p:"0",children:[n.amount.toLocaleString()," USD"," ","investment"===n.type?Object(z.jsxs)(P.a,{p:"0",font:"inherit",bold:!0,color:"success",children:["+",x(h(n))," USD"," ",n.profit>h(n)&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(P.a,{p:"0",font:"inherit",bold:!0,color:"text",children:"of"})," ",Object(z.jsxs)(P.a,{p:"0",font:"inherit",bold:!0,color:"danger",children:[n.profit," USD"]})]})]}):void 0]})]})]})]}))},ht=function(e){var t,n=e.wallet,r=p(),a=r.transactions,c=r.loading,i=null===(t=O(a))||void 0===t?void 0:t.filter((function(e){return!n||e.wallet.toLowerCase()===n.toLowerCase()})).slice(0,5);return Object(z.jsx)(He,{heading:"Recent Transactions",wide:!0,text:{name:"View All",color:"grey",p:"0",to:{pathname:"/dashboard/transactions",state:{wallet:n}}},children:c?Object(z.jsx)(W,{}):Object(z.jsx)(U.a,{minH:"240px",scroll:!0,wide:!0,children:(null===i||void 0===i?void 0:i.length)?i.map((function(e){return Object(z.jsx)(xt,{transaction:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No transaction"})})})})},Ot=n(203),ft=function(){var e=Object(D.a)().profile,t=k().bonus,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],i=r[1],s=function(){return i(!0)},d=window.location.origin+"/account/referral/"+e.id;return Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(U.a,{p:"12px",bg:"actionBg",color:"white",radius:"8px",wide:!0,children:[Object(z.jsxs)(E.a,{p:"8px 0",font:"12px",multiline:!0,children:["Refer someone and you both earn"," ",Object(z.jsxs)(P.a,{font:"inherit",p:"0",bold:!0,children:["$","25"]})," ","when they sign up using your referral link."]}),Object(z.jsx)(Ot.CopyToClipboard,{text:d,onCopy:s,children:Object(z.jsx)(P.a,{display:"block",font:"12px",p:"8px",m:"12px 0 24px",radius:"6px",bg:"white",color:"black",children:d})}),Object(z.jsxs)(U.a,{p:"12px",m:"12px 0",border:"1px dashed",bordercolor:"rgba(255,255,255,0.4)",radius:"4px",wide:!0,children:[Object(z.jsxs)(E.a,{font:"12px",p:"0",bold:!0,flexalign:!0,children:[Object(z.jsx)(P.a,{font:"14px",p:"0",m:"0 8px 0 0",opacity:"0.6",flexalign:!0,children:Object(z.jsx)(l.x,{})}),"Referral Bonus"]}),Object(z.jsxs)(E.a,{font:"14px",p:"0",m:"8px 0 0",bold:!0,children:[t," USD"]})]}),Object(z.jsx)(Ot.CopyToClipboard,{text:d,onCopy:s,children:Object(z.jsx)(Ke.a,{font:"12px",bg:"primary",p:"8px 24px",m:"4px 0",bold:!0,children:c?"Copied":"Copy Referral Link"})})]})})},vt=function(e){var t=Object(D.a)().profile;return t.meta.requireUpgrade?Object(z.jsx)(U.a,Object(I.a)(Object(I.a)({p:"12px",wide:!0},e),{},{children:Object(z.jsx)(U.a,{bg:"orange",p:"6px",radius:"8px",wide:!0,children:Object(z.jsxs)(E.a,{children:["Please Upgrade Your Account,"," ",Object(z.jsxs)(E.a,{p:"0",underline:"true",bold:"true",to:"/dashboard/settings/verification",children:[" ","Click here"]})]})})})):t.isDocumentRequested?Object(z.jsx)(U.a,Object(I.a)(Object(I.a)({p:"12px",wide:!0},e),{},{children:Object(z.jsx)(U.a,{bg:"orange",p:"6px",radius:"8px",wide:!0,children:Object(z.jsxs)(E.a,{children:["Please Upload Required documents,"," ",Object(z.jsxs)(E.a,{p:"0",bold:"true",underline:"true",to:"/confirmation/documents/upload",children:[" ","Click here"]})]})})})):null},gt=B.d.p(se||(se=Object(R.a)(["\n  --count: ",";\n  width: calc(100% * (1 / var(--count)));\n\n  height: ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: ",";\n\n  color: ",";\n\n  background: transparent;\n  transition: none;\n\n  cursor: pointer;\n"])),(function(e){return e.count}),(function(e){var t=e.h;return t&&t}),(function(e){return e.radius||"16px"}),(function(e){var t=e.theme;return e.active?t.colors.invertText:t.colors.text})),wt=B.d.div(oe||(oe=Object(R.a)(["\n  --count: ",";\n  --index: ",";\n\n  width: calc(100% * (1 / var(--count)));\n  height: ",";\n\n  padding: 8px 16px;\n  background-color: ",";\n  border-radius: ",";\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n\n  transform: translateX(calc(100% * var(--index)));\n\n  transition: none;\n  transition: transform 0.2s ease;\n"])),(function(e){return e.count}),(function(e){return e.index||"0"}),(function(e){var t=e.h;return t&&t}),(function(e){var t=e.bg;return e.theme.colors[t]||t||"darkseagreen"}),(function(e){return e.radius||"16px"})),yt=function(e){var t=e.intervals,n=e.active,r=e.action,a=e.h,c=e.bg,i=e.radius,s=Object(Z.a)(e,["intervals","active","action","h","bg","radius"]),o=a||"22px",l=t.length,d=t.findIndex((function(e){return e.name===n}));return Object(z.jsx)(U.a,Object(I.a)(Object(I.a)({flex:"center",p:"0 8px",wide:!0},s),{},{children:Object(z.jsxs)(U.a,{flex:"center",position:"relative",z:"1",maxW:"480px",children:[Object(z.jsx)(wt,{bg:c,h:o,radius:i,count:l,index:d}),t.map((function(e){return Object(z.jsx)(gt,{h:o,radius:i,count:l,active:e.name===n,onClick:function(){return r(e.name)},children:e.name},e.value)}))]})}))},kt=function(e){var t=e.wallet,n=e.intervalStyle,r=e.reverse,c=Object(Z.a)(e,["wallet","intervalStyle","reverse"]),i=Object(B.f)(),s=[{name:"1Y",value:365},{name:"6M",value:182},{name:"3M",value:121},{name:"1M",value:30},{name:"1W",value:7},{name:"1D",value:1}],l=Object(a.useState)("1D"),d=Object(o.a)(l,2),p=d[0],b=d[1],j=s.find((function(e){return e.name===p})),u=Le(null===t||void 0===t?void 0:t.symbol,null===j||void 0===j?void 0:j.value).klines;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({display:"flex",justify:"space-between",direction:r?"column-reverse":"column",wide:!c.h},c),{},{children:[Object(z.jsx)(Ie,{smooth:!0,autoDraw:!0,autoDrawDuration:3e3,autoDrawEasing:"ease-out",data:u,gradient:[i.colors.chart],radius:8,strokeWidth:1.5,strokeLinecap:"round",min:"calc(100% - ".concat(n&&n.h||"24px",")")}),Object(z.jsx)(yt,Object(I.a)(Object(I.a)({},n),{},{active:p,action:function(e){return b(e)},intervals:s,bg:i.colors.primary}))]}))},Ct=n(19),St=n(134),Dt=n(121),At=B.d.aside(le||(le=Object(R.a)(["\n  grid-area: navbar;\n  height: 48px;\n  width: 100%;\n\n  margin: 0;\n  padding: 0 80px;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  z-index: 2;\n\n  background-color: ",";\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  /* display: none; */\n\n  @media screen and (max-width: ",") {\n    padding: 0 12px;\n  }\n"])),(function(e){var t=e.bg,n=e.theme;return e.demo?n.colors.primary:n.colors[t]||t||n.colors.bgContrast}),(function(e){return e.theme.breakpoints.xl})),Nt=Object(B.d)(l.e)(de||(de=Object(R.a)(["\n  font-size: 24px;\n  width: 24px;\n  display: none;\n  color: ",";\n\n  @media screen and (max-width: ",") {\n    display: block;\n  }\n"])),(function(e){var t=e.demo,n=e.theme;return t?"white":n.colors.text}),(function(e){return e.theme.breakpoints.lg})),qt=B.d.h3(pe||(pe=Object(R.a)(["\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n  color: ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    width: 20px;\n    display: inline-block;\n    margin-right: 8px;\n  }\n"])),(function(e){var t=e.demo,n=e.theme;return t?"white":n.colors.text})),Ut=function(e){var t=e.action,n=e.demo;return Object(z.jsxs)(At,{demo:n,children:[Object(z.jsx)(Nt,{onClick:t,demo:n||void 0}),Object(z.jsx)(Ct.b,{to:"/dashboard",children:Object(z.jsxs)(qt,{demo:n,children:[Object(z.jsx)(St.a,{}),"Bittellar",n&&Object(z.jsx)(P.a,{m:"0 0 0 8px",p:"2px 8px",bg:"white",color:"primary",bold:!0,radius:"12px",children:"Demo"})]})}),Object(z.jsx)(Dt.a,{demo:n})]})},Pt=n(204),Et=n(339),It=n(127),Rt=Object(B.d)(Ct.b).attrs((function(e){var t=e.to;return{as:e.href?"a":!t&&"div"}}))(be||(be=Object(R.a)(["\n  padding: 12px 16px;\n  margin-bottom: 12px;\n  border-radius: 6px;\n  font-size: 12px;\n\n  color: ",";\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n\n  svg {\n    font-size: ",";\n    opacity: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n\n  ","\n"])),(function(e){var t=e.color;return e.theme.colors[t]||t&&t}),(function(e){return e.iconSize||"10px"}),(function(e){return e.iconOpacity||"0.4"}),(function(e){var t=e.theme;return!e.nohover&&t.colors.bg}),(function(e){return e.active&&Object(B.c)(je||(je=Object(R.a)(["\n      background-color: ",";\n      color: white;\n\n      svg {\n        opacity: 1;\n      }\n\n      &:hover {\n        background-color: ",";\n        color: white;\n      }\n    "])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}))})),Bt=function(e){var t=e.name,n=e.to,r=e.exact,a=e.icon,c=Object(Z.a)(e,["name","to","exact","icon"]),s=Object(i.j)(n),o=n&&s?r?s.isExact?"true":void 0:"true":void 0;return Object(z.jsxs)(Rt,Object(I.a)(Object(I.a)({active:o,to:n},c),{},{children:[t,a||Object(z.jsx)(l.i,{})]}))},Mt=B.d.label(ue||(ue=Object(R.a)(["\n  position: relative;\n  display: inline-block;\n\n  --size: ",';\n  height: var(--size);\n  width: calc(1.75 * var(--size));\n\n  span {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border-radius: 24px;\n    background-color: #ccc;\n    transition: 0.4s;\n  }\n\n  span::before {\n    content: "";\n    position: absolute;\n    left: calc(0.125 * var(--size));\n    bottom: calc(0.125 * var(--size));\n    height: calc(0.75 * var(--size));\n    width: calc(0.75 * var(--size));\n    border-radius: 50%;\n    background-color: white;\n    transition: 0.4s;\n  }\n\n  input:checked + span {\n    background-color: ',";\n  }\n\n  input:checked + span::before {\n    transform: translateX(100%);\n  }\n"])),(function(e){return e.size||"24px"}),(function(e){var t=e.color;return e.theme.colors[t]||t||"#2196f3"})),zt=function(e,t){var n=e.size,r=e.color,a=Object(Z.a)(e,["size","color"]);return Object(z.jsxs)(Mt,{color:r,size:n,children:[Object(z.jsx)("input",Object(I.a)({type:"checkbox",hidden:!0,ref:t},a)),Object(z.jsx)("span",{})]})},_t=Object(a.forwardRef)(zt),Wt=n(126),Tt=Object(B.d)(l.l)(xe||(xe=Object(R.a)(["\n  width: 64px;\n  height: 64px;\n  margin: 12px;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),Lt=function(e){var t=e.title,n=e.message,r=e.action,a=e.open,c=e.dismiss,i=e.preventDismiss;return Object(z.jsx)(Wt.a,{open:a,dismiss:c,preventDismiss:i,children:Object(z.jsxs)(U.a,{flexCol:"center",maxW:"480px",w:"90vw",h:"auto",bg:"bgContrast",p:"16px",radius:"12px",children:[Object(z.jsx)(E.a,{font:"14px",p:"0 0 12px",align:"center",bold:!0,children:t}),Object(z.jsx)(Tt,{}),Object(z.jsx)(E.a,{font:"12px",p:"12px 0",align:"center",multiline:!0,children:n}),Object(z.jsxs)(U.a,{m:"12px 0",display:"grid",flow:"column",gap:"12px",wide:!0,children:[Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",p:"12px",bold:!0,full:!0,onClick:c,children:"Cancel"}),Object(z.jsx)(Ke.a,{bg:"primary",p:"12px",bold:!0,full:!0,onClick:function(){r(),c()},children:"Continue"})]})]})})},Ft=n(106),Vt=n(53),Ht=B.d.div(me||(me=Object(R.a)(["\n  grid-area: sidebar;\n\n  position: relative;\n  height: 100%;\n\n  color: ",";\n  background-color: ",";\n  padding: 12px;\n\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 1;\n\n  display: flex;\n  flex-direction: column;\n\n  border-radius: 6px;\n\n  @media screen and (max-width: ",") {\n    border-radius: 0;\n\n    transform: translateX(-100%);\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 30%;\n    transition: transform 0.2s ease-in-out;\n\n    ","\n\n    border: none;\n\n    height: calc(100% - 48px);\n\n    margin-top: 48px;\n  }\n  @media screen and (max-width: ",") {\n    width: 50%;\n  }\n\n  @media screen and (max-width: ",") {\n    width: 85%;\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.bgContrast}),(function(e){return e.theme.breakpoints.lg}),(function(e){return e.open&&Object(B.c)(he||(he=Object(R.a)(["\n        transform: translateX(0);\n        transition: transform 0.2s ease-in-out;\n      "])))}),(function(e){return e.theme.breakpoints.md}),(function(e){return e.theme.breakpoints.sm})),Yt=function(e){var t,n=e.open,r=e.toggle,c=Object(a.useContext)(Vt.a),i=c.theme,s=c.toggle,o=Object(D.a)(),l=o.profile,d=o.logout,p=Object(Ft.a)(),b=p.show,j=p.toggle,u="true"===(null===(t="true")?void 0:t.toLowerCase());return Object(z.jsxs)(U.a,{as:"aside",z:"10",radius:"4px",wide:!0,media:{breakpoint:"lg",overflowY:"hidden"},children:[Object(z.jsx)(It.a,{mobile:!0,open:n,onClick:r}),Object(z.jsxs)(Ht,{open:n,children:[Object(z.jsxs)(U.a,{m:"12px 0 0",wide:!0,children:[Object(z.jsx)(Bt,{name:"Dashboard",to:"/dashboard",exact:!0}),Object(z.jsx)(Bt,{name:"Wallets",to:"/dashboard/wallets"}),Object(z.jsx)(Bt,{name:"Transactions",to:"/dashboard/transactions"}),Object(z.jsx)(Bt,{name:"Messages",to:"/dashboard/messages"}),Object(z.jsx)(Bt,{name:"Payments",to:"/dashboard/payments"}),Object(z.jsx)(Bt,{name:"Settings",to:"/dashboard/settings"}),("admin"===l.role||"moderator"===l.role)&&Object(z.jsx)(Bt,{name:"Admin",to:"/dashboard/admin"}),Object(z.jsxs)(U.a,{p:"12px 0",m:"24px 0 0",bordertop:"1px solid",wide:!0,children:[u&&Object(z.jsx)(Bt,{name:"Dark Mode",icon:Object(z.jsx)(_t,{size:"18px",color:"primary",checked:"dark"===i,onChange:s}),nohover:!0,onClick:s}),Object(z.jsx)(Bt,{name:"Customer Support",icon:Object(z.jsx)(Et.a,{}),iconSize:"20px",nohover:!0,href:"https://bittellar.co",target:"_blank"}),Object(z.jsx)(Bt,{color:"danger",name:"Logout",icon:Object(z.jsx)(Pt.a,{}),iconSize:"20px",iconOpacity:"0.8",nohover:!0,onClick:j})]})]}),Object(z.jsx)(Lt,{open:b,dismiss:j,title:"Logout",message:"Are you sure you want to logout?",action:d})]})]})},$t=B.d.div(Oe||(Oe=Object(R.a)(["\n  grid-area: userbar;\n\n  position: relative;\n  height: 100%;\n\n  /* background-color: ","; */\n\n  overflow-y: hidden;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  border-radius: 6px;\n\n  @media screen and (max-width: ",") {\n    display: none;\n  }\n"])),(function(e){return e.theme.colors.bgContrast}),(function(e){return e.theme.breakpoints.lg})),Xt=function(){var e=Object(D.a)().profile,t=k(),n=t.total,r=t.available,a=A(),c=a.wallets,i=a.loading;return Object(z.jsx)(U.a,{as:"aside",z:"1",wide:!0,o:"hidden",children:Object(z.jsxs)($t,{open:!0,children:[Object(z.jsxs)(U.a,{bg:"bgContrast",p:"12px",radius:"6px",wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",flexCol:"center",wide:!0,children:[Object(z.jsx)(Dt.a,{size:"48px"}),Object(z.jsx)(E.a,{p:"0",m:"12px 0 4px",font:"12px",bold:"true",flexalign:"true",opacity:"0.6",children:e.fullName}),Object(z.jsx)(E.a,{p:"0",font:"10px",bold:"true",flexalign:"true",opacity:"0.4",children:st(e.plan)})]}),Object(z.jsxs)(U.a,{p:"12px",m:"12px 0",radius:"8px",flex:"space-between",bg:"bg",wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",children:[Object(z.jsx)(E.a,{font:"10px",p:"0 4px",opacity:"0.6",bold:!0,children:"Total Balance"}),Object(z.jsxs)(E.a,{font:"18px",p:"12px 0 0",bold:!0,children:["$ ",n]})]}),Object(z.jsxs)(U.a,{flexCol:"flex-end",children:[Object(z.jsx)(E.a,{font:"10px",p:"0 4px",opacity:"0.6",bold:!0,children:"Available Balance"}),Object(z.jsxs)(E.a,{font:"18px",p:"12px 0 0",bold:!0,children:["$ ",r]})]})]})]}),Object(z.jsx)(U.a,{bg:"bgContrast",p:"12px",m:"12px 0 0",maxH:"calc(100% - 230px - 12px)",radius:"6px",scroll:!0,wide:!0,children:i?Object(z.jsx)(T,{}):c.length?c.map((function(e){return Object(z.jsx)(Ye,{wallet:e},e._id)})):Object(z.jsx)(U.a,{flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Wallets"})})})]})})},Zt=B.d.div(fe||(fe=Object(R.a)(["\n  position: relative;\n\n  height: 100vh;\n  overflow: hidden;\n\n  background-color: ",";\n\n  @media screen and (max-width: ",") {\n    height: 100%;\n  }\n"])),(function(e){return e.theme.colors.bg}),(function(e){return e.theme.breakpoints.lg})),Gt=B.d.div(ve||(ve=Object(R.a)(['\n  position: relative;\n\n  height: calc(100% - 48px);\n  margin-top: 48px;\n\n  display: grid;\n  grid-template-columns: minmax(240px, 2fr) 8fr minmax(280px, 2fr);\n  grid-template-areas: "sidebar content userbar";\n  grid-gap: 12px;\n\n  z-index: 1;\n\n  padding: 12px 80px;\n\n  @media screen and (max-width: ',") {\n    padding: 12px;\n  }\n  @media screen and (max-width: ",') {\n    padding: 0;\n\n    overflow: auto;\n    grid-template-columns: 1fr;\n    grid-template-areas: "content";\n    grid-gap: 0;\n  }\n'])),(function(e){return e.theme.breakpoints.xl}),(function(e){return e.theme.breakpoints.lg})),Jt=B.d.main(ge||(ge=Object(R.a)(["\n  grid-area: content;\n  background-color: ",";\n\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  height: 100%;\n  border-radius: 6px;\n\n  @media screen and (max-width: ",") {\n    min-height: calc(100vh - 48px);\n    border-radius: 0;\n  }\n"])),(function(e){return e.theme.colors.bgContrast}),(function(e){return e.theme.breakpoints.lg})),Kt=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],s=r[1],l=function(){return s(!c)},d=Object(i.h)().pathname,p=Object(D.a)().profile;return Object(a.useEffect)((function(){return s(!1)}),[d]),Object(z.jsxs)(Zt,{children:[Object(z.jsx)(Ut,{demo:p.demoMode,action:l}),Object(z.jsxs)(Gt,{children:[Object(z.jsx)(Yt,{open:c,toggle:l}),Object(z.jsx)(Jt,{children:t}),Object(z.jsx)(Xt,{})]})]})},Qt=function(){var e=Object(D.a)().profile,t=k(),n=t.total,r=t.available,c=A(),i=c.wallets,s=c.loading,d=Object(a.useState)(null),p=Object(o.a)(d,2),b=p[0],j=p[1];return Object(a.useEffect)((function(){i&&j(i[0])}),[i]),Object(z.jsxs)(Kt,{children:[Object(z.jsx)(vt,{}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:["Welcome ",e.firstName,","]}),Object(z.jsxs)(U.a,{color:"white",radius:"8px",bg:"board",display:"grid",gap:"12px",wide:!0,children:[Object(z.jsxs)(U.a,{p:"16px",flex:"flex-start",wide:"true",to:"/dashboard/wallets",children:[Object(z.jsxs)(E.a,{p:"0",bold:!0,flexalign:!0,children:[Object(z.jsx)(P.a,{font:"24px",p:"0",m:"0 8px 0 0",opacity:"0.6",flexalign:!0,children:Object(z.jsx)(l.x,{})}),"Total Balance"]}),Object(z.jsx)(E.a,{p:"0",m:"0 0 0 auto",children:Object(z.jsx)(P.a,{font:"11px",p:"0",flexalign:!0,children:Object(z.jsx)(l.i,{})})})]}),Object(z.jsxs)(U.a,{p:"0 16px",flexCol:"flex-start",wide:!0,children:[Object(z.jsxs)(E.a,{font:"20px",p:"2px 0",bold:!0,children:[n,Object(z.jsx)(P.a,{font:"18px",p:"0",m:"0 0 0 4px",children:"USD"})]}),Object(z.jsxs)(E.a,{font:"16px",p:"2px 0",bold:!0,children:[Object(z.jsx)(P.a,{font:"12px",p:"0",m:"0 8px 0 0",children:"Available"}),r,Object(z.jsx)(P.a,{font:"14px",p:"0",m:"0 0 0 4px",children:"USD"})]})]}),Object(z.jsxs)(U.a,{p:"16px",flex:"flex-start",bordertop:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"12px",p:"0",m:"0 24px 0 0",flexalign:"true",bold:"true",to:"/dashboard/wallets",children:[Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 6px 0 0",flexalign:!0,children:Object(z.jsx)(l.x,{})}),"My Wallets"]}),Object(z.jsxs)(E.a,{font:"12px",p:"0",flexalign:"true",bold:"true",to:"/dashboard/wallets/withdraw",children:[Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 6px 0 0",flexalign:!0,children:Object(z.jsx)(l.d,{})}),"Withdraw"]})]})]})]}),Object(z.jsx)(at,{}),b?Object(z.jsxs)(U.a,{p:"12px 0",id:"wallet-preview",wide:!0,children:[Object(z.jsx)(Ve,{wallet:b}),Object(z.jsx)(kt,{wallet:b,reverse:!0,h:"300px",media:{breakpoint:"md",h:"364px"}})]}):Object(z.jsx)(_,{}),Object(z.jsx)(E.a,{font:"16px",p:"0 12px 12px",bold:!0,children:"Top Wallets"}),Object(z.jsx)(U.a,{p:"12px",display:"grid",flow:"column",gap:"12px",scrollX:!0,wide:!0,children:s?Array(3).fill().map((function(e,t){return Object(z.jsx)(X,{h:"200px",w:"280px",radius:"8px"},t)})):i.length?i.map((function(e){return Object(z.jsx)(Fe,{wallet:e,action:j,to:"wallet-preview",scrollto:"true",smooth:!0,duration:400,offset:-50},e._id)})):Object(z.jsx)(U.a,{minH:"200px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Wallets"})})}),Object(z.jsx)(ht,{}),Object(z.jsx)(Je,{}),Object(z.jsx)(ft,{})]})},en=n(114),tn=function(){var e,t=Object(i.h)().state,n=null===t||void 0===t?void 0:t.wallet,r=Object(a.useState)(),c=Object(o.a)(r,2),s=c[0],l=c[1],d=p(),b=d.transactions,j=d.loading,u=A(),x=u.wallets,m=u.loading,h=null===(e=O(b))||void 0===e?void 0:e.filter((function(e){return!s||"All"===s||e.wallet.toLowerCase()===s.toLowerCase()}));return Object(a.useEffect)((function(){if(x&&n){var e=x.find((function(e){return e.symbol.toLowerCase()===n.toLowerCase()}));l(e.symbol)}}),[n,x]),Object(z.jsxs)(Kt,{children:[Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"My Transactions"}),Object(z.jsx)(U.a,{p:"12px 0",wide:!0,children:Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,children:"View all your transactions across all wallets"})}),Object(z.jsxs)(U.a,{m:"12px 0 0",flex:"space-between",wide:!0,children:[Object(z.jsxs)(U.a,{flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ke.a,{p:"8px 24px",radius:"6px",bg:"primary",bold:"true",to:"/dashboard/wallets",children:"My Wallets"}),Object(z.jsx)(Ke.a,{p:"8px 20px",m:"0 0 0 12px",radius:"6px",bg:"secondary",color:"black",bold:"true",flexalign:"true",to:"/dashboard/wallets/withdraw",children:"Withdraw"})]}),Object(z.jsxs)(en.a,{bg:"secondary",p:"8px",radius:"6px",w:"120px",value:s,onChange:function(e){var t=e.target;return l(t.value)},children:[Object(z.jsx)("option",{children:"All"}),!m&&x.map((function(e){return Object(z.jsx)("option",{value:e.symbol,children:e.name},e.symbol)}))]})]})]}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:j?Object(z.jsx)(W,{count:9}):h.length?h.map((function(e){return Object(z.jsx)(xt,{transaction:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:s&&"All"!==s?"No Transaction found for this wallet":"No Transaction"})})})]})},nn=function(e){var t=e.children,n=e.title,r=e.titleStyle,a=e.textStyle,c=Object(Z.a)(e,["children","title","titleStyle","textStyle"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",m:"8px 0",radius:"16px",flex:"space-between",wide:!0},c),{},{children:[Object(z.jsx)(E.a,Object(I.a)(Object(I.a)({p:"0",font:"12px"},r),{},{children:n})),Object(z.jsx)(E.a,Object(I.a)(Object(I.a)({p:"0",font:"12px",bold:!0},a),{},{children:t}))]}))},rn=function(){var e=Object(i.i)().id,t=Object(i.g)(),n=b(e),r=n.transaction,a=n.loading;return n.error&&t.goBack(),a?Object(z.jsx)(Kt,{children:Object(z.jsx)(s.a,{page:!0})}):Object(z.jsxs)(Kt,{children:[Object(z.jsx)(U.a,{p:"24px",flex:"center",wide:!0,children:Object(z.jsx)(Ue,{symbol:r.wallet,size:"64px"})}),Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsx)(E.a,{p:"0",align:"center",bold:!0,children:r.description||r.wallet.toUpperCase()+" "+st(r.type)}),Object(z.jsx)(E.a,{font:"12px",opacity:"0.6",align:"center",bold:!0,children:new Date(r.date).toDateString()})]}),Object(z.jsx)(U.a,{p:"12px",flex:"center",wide:!0,children:Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"8px",wide:!0,children:[Object(z.jsx)(nn,{title:"Type",children:st(r.type)}),Object(z.jsx)(nn,{title:"Block ID",children:r._id}),Object(z.jsxs)(nn,{title:"Amount",children:[Math.abs(r.amount).toLocaleString()," USD"]}),"investment"===r.type&&Object(z.jsxs)(nn,{title:"Profit",children:["+",x(h(r))," USD"]}),Object(z.jsx)(nn,{title:"Status",children:st(r.status)||"Approved"}),Object(z.jsxs)(nn,{title:"Total Amount",children:[r.amount+(r.profit||0)," USD"]}),Object(z.jsx)(U.a,{flex:"center",wide:!0,children:Object(z.jsx)(Ke.a,{bg:"primary",p:"8px",m:"12px 0 0",radius:"4px",full:"full",to:"/dashboard/transactions",children:"All Transactions"})})]})})]})},an=function(){var e=Object(i.i)().id,t=Object(i.g)(),n=b(e),r=n.transaction,a=n.loading,c=n.error,o=A().wallets,l=null===o||void 0===o?void 0:o.find((function(e){return e.symbol===(null===r||void 0===r?void 0:r.wallet)}));return c&&t.goBack(),a?Object(z.jsx)(Kt,{children:Object(z.jsx)(s.a,{page:!0})}):Object(z.jsxs)(Kt,{children:[Object(z.jsx)(U.a,{p:"24px",flex:"center",wide:!0,children:Object(z.jsx)(Ue,{symbol:r.wallet,size:"64px"})}),Object(z.jsx)(U.a,{p:"12px 0",wide:!0,children:Object(z.jsx)(kt,{wallet:l,h:"280px",media:{breakpoint:"md",h:"360px"}})}),Object(z.jsx)(U.a,{p:"12px",m:"12px 0",flex:"center",wide:!0,children:Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"8px",maxW:"480px",wide:!0,children:[Object(z.jsxs)(nn,{title:"Amount",children:[Math.abs(r.amount).toLocaleString()," USD"]}),Object(z.jsxs)(nn,{title:"Profit",children:["+",x(h(r))," USD"]}),Object(z.jsxs)(nn,{title:"Duration",children:[r.duration," Day",r.duration>1?"s":""]}),Object(z.jsx)(U.a,{flex:"center",wide:!0,children:Object(z.jsx)(Ke.a,{bg:"primary",p:"8px",m:"12px 0 0",radius:"4px",full:"full",to:"/dashboard/transactions/".concat(e),children:"View Details"})})]})})]})},cn=function(e){var t=e.investment,n=Object(Z.a)(e,["investment"]),r=Object(B.f)(),a=A().wallets,c=null===a||void 0===a?void 0:a.find((function(e){return e.symbol===t.wallet})),i=Le(null===c||void 0===c?void 0:c.symbol).klines;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px 0",h:"180px",w:"220px",radius:"12px",noscroll:"true",display:"grid",templaterows:"40px auto 14px",bg:"bg",to:"/dashboard/investment/".concat(t._id)},n),{},{children:[Object(z.jsxs)(U.a,{p:"12px",flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ue,{symbol:t.wallet,size:"32px"}),Object(z.jsxs)(E.a,{font:"13px",p:"0",m:"0 0 0 8px",bold:!0,children:[t.wallet," Investment"]})]}),Object(z.jsx)(U.a,{flexCol:"center",wide:!0,children:Object(z.jsx)(Ie,{smooth:!0,autoDraw:!0,autoDrawDuration:3e3,autoDrawEasing:"ease-out",data:i.slice(-30),gradient:[r.colors.chart],radius:8,strokeWidth:2.5,strokeLinecap:"round",min:"0"})}),Object(z.jsxs)(U.a,{p:"0 12px",flex:"space-between",wide:!0,children:[Object(z.jsxs)(E.a,{flexalign:!0,p:"0",font:"10px",opacity:"0.8",children:["Capital:",Object(z.jsxs)(P.a,{p:"0",m:"0 0 0 6px",font:"12px",bold:!0,children:[Math.abs(t.amount)," USD"]})]}),Object(z.jsxs)(E.a,{flexalign:!0,p:"0",font:"10px",opacity:"0.8",children:["Profit:",Object(z.jsxs)(P.a,{p:"0",m:"0 0 0 6px",font:"12px",bold:!0,children:[x(h(t))," USD"]})]})]})]}))},sn=function(){var e,t=p().investments,n=A(),r=n.wallets,a=n.loading,c=k(),i=c.total,s=c.bonus,o=c.profit,d=c.deposit,b=null===(e=O(t))||void 0===e?void 0:e.filter((function(e){var t=new Date(e.date),n=new Date(t.setDate(t.getDate()+e.duration));return new Date<n}));return Object(z.jsxs)(Kt,{children:[Object(z.jsx)(vt,{}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(U.a,{bg:"bg",p:"12px",m:"12px 0 0",radius:"8px",wide:!0,children:[Object(z.jsxs)(U.a,{flex:"space-between",wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",flexCol:"space-between",wide:!0,children:[Object(z.jsxs)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,flexalign:!0,children:[Object(z.jsx)(P.a,{font:"14px",p:"0",m:"0 6px 0 0",flexalign:!0,children:Object(z.jsx)(l.x,{})}),"Total Balance"]}),Object(z.jsxs)(E.a,{p:"0",font:"20px",bold:!0,children:["$ ",i]})]}),Object(z.jsxs)(U.a,{p:"12px",radius:"8px",flexCol:"space-between",align:"flex-end",wide:!0,children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,children:"Bonus"}),Object(z.jsxs)(E.a,{p:"0",font:"14px",bold:!0,children:["$ ",s]})]})]}),Object(z.jsxs)(U.a,{flex:"space-between",wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",flexCol:"space-between",wide:!0,children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,children:"Deposits"}),Object(z.jsxs)(E.a,{p:"0",font:"16px",bold:!0,children:["$ ",d]})]}),Object(z.jsxs)(U.a,{p:"12px",flexCol:"space-between",align:"flex-end",wide:!0,children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,children:"Profit"}),Object(z.jsxs)(E.a,{p:"0",font:"16px",bold:!0,children:["$ ",o]})]})]}),Object(z.jsx)(Ke.a,{m:"12px 0 0",bg:"primary",full:"true",bold:"true",to:"/dashboard/wallets/withdraw",children:"Withdraw"})]})}),Object(z.jsx)(at,{}),(null===b||void 0===b?void 0:b.length)>0&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(E.a,{font:"16px",p:"12px",bold:!0,children:"Active Investments"}),Object(z.jsx)(U.a,{p:"12px",display:"grid",flow:"column",gap:"12px",scrollX:!0,wide:!0,children:b.map((function(e){return Object(z.jsx)(cn,{investment:e},e._id)}))})]}),Object(z.jsx)(E.a,{font:"16px",p:"12px",bold:!0,children:"My Wallets"}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:a?Object(z.jsx)(V,{}):r.length?r.map((function(e){return Object(z.jsx)(Ge,{wallet:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Wallets"})})})]})},on=n(98),ln=n.n(on),dn=n(99),pn=n(103),bn=n(107),jn=n(105),un=n(104),xn=n(340),mn=function(e){var t=e.wallet,n=Object(Z.a)(e,["wallet"]),r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],s=c[1],l=C(null===t||void 0===t?void 0:t.symbol),d=l.available,p=l.total,b=We(null===t||void 0===t?void 0:t.symbol,i?p:d).amount;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({wide:!0},n),{},{children:[Object(z.jsxs)(U.a,{p:"12px 0 24px",flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ue,{symbol:null===t||void 0===t?void 0:t.symbol,size:"40px"}),Object(z.jsxs)(E.a,{m:"0 0 0 12px",font:"16px",p:"0",bold:!0,children:[null===t||void 0===t?void 0:t.name," Wallet"]})]}),Object(z.jsxs)(U.a,{p:"12px 0",wide:!0,children:[Object(z.jsxs)(U.a,{flex:"space-between",wide:!0,children:[Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(E.a,{p:"0",m:"0 0 12px",bold:!0,children:[i?"Total":"Available"," Balance"]}),Object(z.jsx)(E.a,{p:"0 0 6px",font:"28px",weight:"400",children:b})]}),Object(z.jsx)(E.a,{bg:i?"secondary":"primary",color:"white",font:"24px",multiline:!0,p:"6px",radius:"4px",pointer:!0,bold:!0,flexalign:!0,onClick:function(){return s(!i)},children:Object(z.jsx)(xn.a,{})})]}),Object(z.jsxs)(E.a,{p:"0",children:[Object(z.jsx)(P.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,children:"Balance in USD:"})," ",Object(z.jsxs)(P.a,{p:"0",font:"14px",opacity:"0.9",bold:!0,children:[i?p:d," USD"]})]})]})]}))},hn=B.d.div(we||(we=Object(R.a)(["\n  display: flex;\n  align-items: center;\n\n  border-radius: ",";\n  width: ",";\n  padding: ",";\n  margin: ",";\n\n  background-color: ",";\n  overflow: hidden;\n\n  &::focus-within {\n    border: 1px solid lightblue;\n  }\n"])),(function(e){return e.radius||"12px"}),(function(e){var t=e.w;return t&&t}),(function(e){var t=e.p;return t&&t}),(function(e){var t=e.m;return t&&t}),(function(e){var t=e.theme,n=e.bg;return t.colors[n]||n||t.colors.bg})),On=Object(B.d)(l.q)(ye||(ye=Object(R.a)(["\n  font-size: 16px;\n  margin-left: 12px;\n  color: grey;\n"]))),fn=B.d.input(ke||(ke=Object(R.a)(["\n  padding: 12px;\n  background-color: transparent;\n  width: 100%;\n  height: 100%;\n  font-size: 12px;\n  font-weight: 500;\n  border: none;\n  outline: none;\n"]))),vn=function(e){var t=e.w,n=e.p,r=e.m,a=e.bg,c=e.radius,i=Object(Z.a)(e,["w","p","m","bg","radius"]);return Object(z.jsxs)(hn,{w:t,p:n,bg:a,radius:c,m:r,children:[Object(z.jsx)(On,{}),Object(z.jsx)(fn,Object(I.a)({},i))]})},gn=function(e,t){var n=Object(a.useState)(e),r=Object(o.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c},wn=function(e){var t=e.title,n=e.wallets,r=void 0===n?[]:n,c=e.action,i=e.open,s=e.dismiss,l=Object(a.useState)(r),d=Object(o.a)(l,2),p=d[0],b=d[1],j=Object(a.useState)(""),u=Object(o.a)(j,2),x=u[0],m=u[1],h=gn(x,600);Object(a.useEffect)((function(){var e=r.filter((function(e){return e.name.toLowerCase().startsWith(h.toLowerCase())||e.symbol.toLowerCase().startsWith(h.toLowerCase())}));b(e)}),[h,r]),Object(a.useEffect)((function(){m("")}),[i]);var O=function(e){var t=r.find((function(t){return t.symbol.toLowerCase()===e.symbol.toLowerCase()}));c(t),s()};return Object(z.jsx)(Wt.a,{open:i,dismiss:s,children:Object(z.jsxs)(U.a,{flexCol:"center",w:"95%",h:"400px",maxW:"480px",maxH:"80vh",bg:"bgContrast",p:"12px",radius:"12px",children:[Object(z.jsx)(E.a,{font:"14px",p:"8px 0 20px",bold:!0,children:t||"Select Wallet"}),Object(z.jsx)(vn,{placeholder:"Search Wallets",value:x,onChange:function(e){return m(e.target.value)},w:"100%",p:"0"}),Object(z.jsx)(U.a,{h:"calc(100% - 48px)",scroll:!0,children:p.map((function(e){return Object(z.jsx)($e,{action:O,wallet:e,nolink:!0},e.symbol)}))})]})})},yn=function(e){var t=e.label,n=e.error,r=e.placeholder,a=e.hint,c=e.wallet,i=e.wallets,s=e.onChange,o=e.name,d=Object(Z.a)(e,["label","error","placeholder","hint","wallet","wallets","onChange","name"]),p=Object(Ft.a)(),b=p.show,j=p.toggle,u=d.w,x=d.m,m=d.weight,h=d.display,O=d.color,f=Object(Z.a)(d,["w","m","weight","display","color"]),v=i.find((function(e){return e.symbol.toLowerCase()===(null===c||void 0===c?void 0:c.toLowerCase())}));return Object(z.jsxs)(U.a,{wide:!u,w:u,m:x||"8px 0",weight:m,display:h,children:[Object(z.jsx)(E.a,{color:n?"danger":O||void 0,font:"12px",p:"5px 12px",bold:!0,children:n||t}),Object(z.jsxs)(E.a,Object(I.a)(Object(I.a)({bg:"bg",p:"12px 8px 12px 12px",radius:"4px",onClick:j,flexalign:!0},f),{},{children:[(null===v||void 0===v?void 0:v.name)||r,Object(z.jsx)(P.a,{font:"16px",p:"0",m:"0 0 0 auto",opacity:"0.7",flexalign:!0,children:Object(z.jsx)(l.x,{})})]})),Object(z.jsx)(wn,{open:b,dismiss:j,title:a||t,wallets:i,action:function(e){return s({target:{name:o,type:"wallet",value:e.symbol,rawValue:e}})}})]})},kn=function(e){var t=e.name,n=e.control,r=Object(Z.a)(e,["name","control"]);return Object(z.jsx)(pn.a,{name:t,control:n,defaultValue:null,render:function(e){var t=e.onChange,n=e.value,a=e.name;return Object(z.jsx)(yn,Object(I.a)(Object(I.a)({},r),{},{name:a,wallet:n,onChange:function(e){var n=e.target;return t(n.value)}}))}})},Cn=Object(B.d)(G.a)(Ce||(Ce=Object(R.a)(["\n  height: ",";\n  overflow: hidden;\n\n  svg {\n    height: ",";\n    width: 60px;\n\n    vertical-align: top;\n  }\n"])),(function(e){return e.size||"36px"}),(function(e){return e.size||"36px"})),Sn=function(e){var t=e.logo,n=Object(Z.a)(e,["logo"]);return["american-express","discover","mastercard","visa"].includes(t)?Object(z.jsx)(Cn,Object(I.a)({fallback:function(){return""},loading:function(){return Object(z.jsx)(X,{w:"60px",h:n.size,radius:"4px"})},src:"/assets/icons/card/".concat(t.toLowerCase(),".svg")},n)):null},Dn=[{code:"jpm",color:"#3D3A4B",official_name:"JPMORGAN CHASE BANK, NATIONAL ASSOCIATION",name:"J.P. Morgan"},{code:"citi",color:"#1583c7",official_name:"CITIBANK, N.A.",name:"Citibank"},{code:"boa",color:"#e11e3c",official_name:"BANK OF AMERICA, NATIONAL ASSOCIATION",name:"Bank of America"}],An=Object(B.d)(G.a)(Se||(Se=Object(R.a)(["\n  height: ",";\n  overflow: hidden;\n  background-color: ",";\n  border-radius: 4px;\n\n  svg {\n    height: ",";\n    width: 40px;\n    padding: 4px;\n\n    vertical-align: top;\n  }\n"])),(function(e){return e.size||"40px"}),(function(e){return e.bg}),(function(e){return e.size||"40px"})),Nn=function(e){var t=e.logo,n=Object(Z.a)(e,["logo"]),r=Dn.find((function(e){return e.name===t}));return r?Object(z.jsx)(An,Object(I.a)({fallback:function(){return""},loading:function(){return Object(z.jsx)(X,{w:"40px",h:n.size||"40px",radius:"4px"})},src:"/assets/icons/bank/".concat(r.code,".svg"),bg:r.color},n)):null},qn=Object(B.d)(U.a)(De||(De=Object(R.a)(["\n  transform: ",";\n  transition: transform 0.2s ease-in-out;\n  box-shadow: 0px 4px 6px 3px rgba(0, 0, 0, 0.1);\n"])),(function(e){return e.active?"scale(1)":"scale(0.95)"})),Un=function(e){var t=e.card,n=e.action,r=e.active,a=Object(Z.a)(e,["card","action","active"]),c=function(e){switch(e){case"mastercard":return{bg:"#3D3A4B",text:"white"};case"visa":return{bg:"#EFF1ED",text:"black"};case"american-express":return{bg:"#D8E1FF",text:"black"};case"discover":return{bg:"#E3D8C9",text:"black"};default:return{bg:"#321c10",text:"white"}}}(t.issuer),i=c.bg,s=c.text;return Object(z.jsxs)(qn,Object(I.a)(Object(I.a)({p:"12px 16px 24px",h:"200px",w:"280px",radius:"14px",pointer:!0,o:"hidden",position:"relative",flexCol:"flex-start",justify:"space-between",bg:i,color:s,active:r,onClick:function(){return n?n(t):void 0}},a),{},{children:[Object(z.jsx)(U.a,{flex:"flex-start",align:"flex-start",wide:!0,children:Object(z.jsx)(Sn,{size:"48px",logo:t.issuer})}),Object(z.jsxs)(U.a,{flexCol:"flex-start",wide:!0,children:[Object(z.jsx)(U.a,{children:Object(z.jsx)(E.a,{font:"18px",p:"0",m:"0 0 24px 0",opacity:"0.8",bold:!0,children:ot(t.cardNumber)})}),Object(z.jsxs)(U.a,{flex:"space-between",children:[Object(z.jsx)(E.a,{p:"0",opacity:"0.8",bold:!0,children:t.cardHolder}),Object(z.jsx)(E.a,{font:"12px",p:"0",opacity:"0.8",bold:!0,children:t.expDate})]})]})]}))},Pn=function(){return Object(z.jsx)(U.a,{h:"180px",w:"280px",radius:"14px",pointer:!0,flex:"center",bg:"secondary",children:Object(z.jsx)(E.a,{p:"0",font:"13px",opacity:"0.6",children:"No Saved Card"})})},En=function(e){var t=e.card,n=e.action,r=Object(Z.a)(e,["card","action"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",m:"12px 0",border:"1px solid",radius:"12px",flex:"space-between",wide:"true",onClick:function(){return n?n(t):void 0}},r),{},{children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",wide:!0,children:[Object(z.jsxs)(E.a,{font:"13px",p:"0",m:"0 0 4px 0",bold:!0,children:[lt(t.issuer).toUpperCase()," ****",t.cardNumber.slice(-5)]}),Object(z.jsx)(E.a,{font:"10px",p:"0",opacity:"0.6",children:t.cardHolder.toUpperCase()})]}),Object(z.jsx)(Sn,{size:"32px",logo:t.issuer})]}))},In=function(e){e.card;var t=Object(Z.a)(e,["card"]),n=Object(i.h)().pathname;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",m:"12px 0",bg:"bg",radius:"12px",flex:"center",pointer:"true",wide:"true",to:{pathname:"/dashboard/settings/cards",state:{add:!0,redirect:n}}},t),{},{children:[Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 8px 0 0",flexalign:!0,children:Object(z.jsx)(l.p,{})}),Object(z.jsx)(P.a,{font:"12px",p:"0",m:"0",children:"Add New Card"})]}))},Rn=function(e){var t=e.card,n=e.action,r=Object(Z.a)(e,["card","action"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",m:"12px 0",bg:"bg",color:"danger",radius:"12px",flex:"center",pointer:!0,wide:"true",onClick:function(){return n?n(t):void 0}},r),{},{children:[Object(z.jsx)(P.a,{font:"12px",p:"0",m:"0",children:"Delete Card"}),Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 0 0 8px",flexalign:!0,children:Object(z.jsx)(l.u,{})})]}))},Bn=Object(B.d)(U.a)(Ae||(Ae=Object(R.a)(["\n  transform: ",";\n  transition: transform 0.2s ease-in-out;\n  box-shadow: 0px 4px 6px 3px rgba(0, 0, 0, 0.1);\n"])),(function(e){return e.active?"scale(1)":"scale(0.95)"})),Mn=function(e){var t=e.bank,n=e.action,r=e.active,a=Object(Z.a)(e,["bank","action","active"]),c=function(e){var t=Dn.find((function(t){return t.name===e}));return t?{bg:null===t||void 0===t?void 0:t.color,text:"white"}:{bg:"#EFF1ED",text:"black"}}(t.bank),i=c.bg,s=c.text;return Object(z.jsxs)(Bn,Object(I.a)(Object(I.a)({p:"12px 16px 24px",h:"220px",w:"200px",radius:"14px",pointer:!0,o:"hidden",position:"relative",flexCol:"flex-start",justify:"space-between",bg:i,color:s,active:r,onClick:function(){return n?n(t):void 0}},a),{},{children:[Object(z.jsx)(U.a,{flex:"flex-start",align:"flex-start",wide:!0,children:Object(z.jsx)(Nn,{size:"48px",logo:t.bank})}),Object(z.jsxs)(U.a,{flexCol:"flex-start",wide:!0,children:[Object(z.jsx)(U.a,{children:Object(z.jsx)(E.a,{font:"18px",p:"0",m:"0 0 24px 0",opacity:"0.8",bold:!0,children:t.userId})}),Object(z.jsx)(U.a,{flex:"space-between",children:Object(z.jsx)(E.a,{p:"0",opacity:"0.8",bold:!0,children:t.bank.toUpperCase()})})]})]}))},zn=function(){return Object(z.jsx)(U.a,{h:"220px",w:"200px",radius:"14px",pointer:!0,flex:"center",bg:"secondary",children:Object(z.jsx)(E.a,{p:"0",font:"13px",opacity:"0.6",children:"No Linked Bank"})})},_n=function(e){var t=e.bank,n=e.action,r=Object(Z.a)(e,["bank","action"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px 0",flex:"space-between",pointer:"true",wide:"true",onClick:n?function(){return n(t)}:void 0},r),{},{children:[Object(z.jsx)(Nn,{logo:t.name}),Object(z.jsxs)(U.a,{w:"calc(100% - 36px)",p:"2px 0px 2px 12px",h:"36px",flex:"space-between",children:[Object(z.jsx)(U.a,{flexCol:"flex-start",o:"hidden",children:Object(z.jsx)(E.a,{font:"13px",p:"0",bold:!0,children:t.name})}),Object(z.jsx)(U.a,{flexCol:"flex-end",children:Object(z.jsx)(E.a,{font:"12px",p:"0",children:t.code.toUpperCase()})})]})]}))},Wn=function(e){var t=e.bank,n=e.action,r=Object(Z.a)(e,["bank","action"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",m:"12px 0",border:"1px solid",radius:"12px",flex:"space-between",wide:"true",onClick:function(){return n?n(t):void 0}},r),{},{children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",wide:!0,children:[Object(z.jsx)(E.a,{font:"13px",p:"0",m:"0 0 4px 0",bold:!0,children:t.userId}),Object(z.jsx)(E.a,{font:"10px",p:"0",opacity:"0.6",children:t.bank.toUpperCase()})]}),Object(z.jsx)(Nn,{size:"32px",logo:t.bank})]}))},Tn=function(e){e.bank;var t=Object(Z.a)(e,["bank"]),n=Object(i.h)().pathname;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",m:"12px 0",bg:"bg",radius:"12px",flex:"center",pointer:"true",wide:"true",to:{pathname:"/dashboard/settings/banks",state:{add:!0,redirect:n}}},t),{},{children:[Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 8px 0 0",flexalign:!0,children:Object(z.jsx)(l.p,{})}),Object(z.jsx)(P.a,{font:"12px",p:"0",m:"0",children:"Link New Bank"})]}))},Ln=function(e){var t=e.bank,n=e.action,r=Object(Z.a)(e,["bank","action"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px",m:"12px 0",bg:"bg",color:"danger",radius:"12px",flex:"center",pointer:!0,wide:"true",onClick:function(){return n?n(t):void 0}},r),{},{children:[Object(z.jsx)(P.a,{font:"12px",p:"0",m:"0",children:"Delete Bank"}),Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 0 0 8px",flexalign:!0,children:Object(z.jsx)(l.u,{})})]}))},Fn=function(e){var t=e.title,n=e.icon,r=Object(Z.a)(e,["title","icon"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"14px",m:"12px 0",bg:"bg",radius:"12px",flex:"center",pointer:!0,wide:!0},r),{},{children:[Object(z.jsx)(P.a,{font:"12px",p:"0",m:"0",children:t}),Object(z.jsx)(P.a,{font:"11px",p:"0",m:"0 0 0 8px",flexalign:!0,children:n})]}))};function Vn(e){var t=e.cards,n=e.action,r=e.noadd,a=function(e){return n(e,"card")};return Object(z.jsxs)(U.a,{h:"calc(100% - 48px)",scroll:!0,children:[t.filter((function(e){return!e.removed})).map((function(e){return Object(z.jsx)(En,{nolink:!0,action:a,card:e},e._id)})),!r&&Object(z.jsx)(In,{}),!t.length&&Object(z.jsx)(U.a,{minH:"120px",flex:"center",wide:!0,children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No card"})})]})}function Hn(e){var t=e.banks,n=e.action,r=e.noadd,a=function(e){return n(e,"bank")};return Object(z.jsxs)(U.a,{h:"calc(100% - 48px)",scroll:!0,children:[t.filter((function(e){return!e.removed})).map((function(e){return Object(z.jsx)(Wn,{nolink:!0,action:a,bank:e},e._id)})),!r&&Object(z.jsx)(Tn,{}),!t.length&&Object(z.jsx)(U.a,{minH:"120px",flex:"center",wide:!0,children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No bank linked"})})]})}function Yn(e){var t=e.action,n=Object(a.useState)({value:"",error:null}),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({value:"BTC",error:null}),l=Object(o.a)(s,2),d=l[0],p=l[1];return Object(z.jsxs)(U.a,{h:"calc(100% - 48px)",flexCol:"center",children:[Object(z.jsx)(jn.a,{radius:"8px",label:"Wallet Address",placeholder:"Enter wallet address",onChange:function(e){i({error:null,value:e.target.value})},value:c.value,error:c.error}),Object(z.jsx)(yn,{label:"Select wallet",onChange:function(e){p({error:null,value:e.target.value})},wallet:d.value,wallets:ze,error:d.error}),Object(z.jsx)(Ke.a,{bg:"primary",full:!0,m:"12px 0",radius:"8px",onClick:function(){return c.value?d.value?void t({value:c.value,wallet:d.value},"address"):p((function(e){return Object(I.a)(Object(I.a)({},e),{},{error:"Please Select Wallet"})})):i((function(e){return Object(I.a)(Object(I.a)({},e),{},{error:"Please Enter Wallet Address"})}))},children:"Done"})]})}var $n,Xn,Zn,Gn,Jn,Kn,Qn=function(e){var t,n=e.title,r=e.cards,c=void 0===r?[]:r,i=e.banks,s=void 0===i?[]:i,d=e.action,p=e.open,b=e.dismiss,j=e.noadd,u=Object(a.useState)("intro"),x=Object(o.a)(u,2),m=x[0],h=x[1],O=function(){b(),h("intro")},f=function(e,t){d({selected:e,type:t}),O()},v="true"===(null===(t="true")?void 0:t.toLowerCase());return Object(z.jsx)(Wt.a,{open:p,dismiss:O,children:Object(z.jsxs)(U.a,{flexCol:"center",w:"95%",h:"400px",maxW:"480px",maxH:"80vh",bg:"bgContrast",p:"12px",radius:"12px",children:[Object(z.jsxs)(U.a,{position:"relative",wide:!0,children:[Object(z.jsx)(U.a,{display:"intro"!==m?"block":"none",position:"absolute",top:"8px",left:"4px",w:"24px",h:"24px",onClick:function(){return h("intro")},children:Object(z.jsx)(l.h,{})}),Object(z.jsx)(E.a,{align:"center",font:"14px",p:"8px 0 20px",bold:!0,children:n||"Withdrawal Method"})]}),"intro"===m?Object(z.jsxs)(U.a,{flexCol:"center",h:"calc(100% - 48px)",scroll:!0,children:[Object(z.jsx)(Fn,{title:"Withdraw to Card",icon:Object(z.jsx)(l.j,{}),onClick:function(){return h("card")}}),v&&Object(z.jsx)(Fn,{title:"Withdraw to Bank",icon:Object(z.jsx)(l.v,{}),onClick:function(){return h("bank")}}),Object(z.jsx)(Fn,{title:"Withdraw to Wallet Address",icon:Object(z.jsx)(l.j,{}),onClick:function(){return h("address")}})]}):"card"===m?Object(z.jsx)(Vn,{cards:c,action:f,noadd:j}):"bank"===m?Object(z.jsx)(Hn,{banks:s,action:f,noadd:j}):"address"===m&&Object(z.jsx)(Yn,{action:f})]})})},er=function(e){var t=e.label,n=e.error,r=e.placeholder,c=e.hint,i=e.method,s=e.cards,o=e.banks,d=e.noadd,p=e.onChange,b=e.name,j=Object(Z.a)(e,["label","error","placeholder","hint","method","cards","banks","noadd","onChange","name"]),u=Object(Ft.a)(),x=u.show,m=u.toggle,h=j.w,O=j.m,f=j.weight,v=j.display,g=j.color,w=Object(Z.a)(j,["w","m","weight","display","color"]),y=Object(a.useCallback)((function(e){return"object"===typeof i?(null===i||void 0===i?void 0:i.type)===e:null}),[i]),k=Object(a.useCallback)((function(e){return"string"===typeof i?e(i):null}),[i]),C=y("card")?i.address:k((function(e){return s.find((function(t){return t._id===e}))})),S=y("bank")?i.address:k((function(e){return o.some((function(t){return t._id===e}))})),D=y("address")?i.address:k((function(e){return(null===e||void 0===e?void 0:e.startsWith("address://"))?{value:null===e||void 0===e?void 0:e.replace("address://","")}:null}));return Object(z.jsxs)(U.a,{wide:!h,w:h,m:O||"8px 0",weight:f,display:v,children:[Object(z.jsx)(E.a,{color:n?"danger":g||void 0,font:"12px",p:"5px 12px",bold:!0,children:n||t}),Object(z.jsxs)(E.a,Object(I.a)(Object(I.a)({as:"div",bg:"bg",p:"0 8px 0 12px",radius:"4px",onClick:m,flexalign:!0},w),{},{children:[Object(z.jsx)(P.a,{p:"12px 0",font:"inherit",children:C?"".concat(C.issuer.toUpperCase()," **** ").concat(C.cardNumber.slice(-5)):S?"".concat(S.bank.toUpperCase()," - ").concat(S.userId):D?D.value:r}),Object(z.jsx)(P.a,{as:"div",font:"16px",p:"0",m:"0 0 0 auto",opacity:"0.7",flexalign:!0,children:C?Object(z.jsx)(Sn,{size:"32px",logo:C.issuer}):S?Object(z.jsx)(Nn,{size:"32px",logo:S.bank}):Object(z.jsx)(l.j,{})})]})),Object(z.jsx)(Qn,{open:x,dismiss:m,title:c||t,cards:s,banks:o,action:function(e){var t=e.selected,n=e.type;return p({target:{name:b,type:n,value:t,rawValue:t}})},noadd:d})]})},tr=function(e){var t=e.name,n=e.control,r=Object(Z.a)(e,["name","control"]);return Object(z.jsx)(pn.a,{name:t,control:n,defaultValue:null,render:function(e){var t=e.onChange,n=e.value,a=e.name;return Object(z.jsx)(er,Object(I.a)(Object(I.a)({},r),{},{name:a,method:n,onChange:function(e){var n=e.target;return t({type:n.type,address:n.value})}}))}})},nr=function(){var e,t=p(),n=t.transactions,r=t.loading,a=null===(e=O(n))||void 0===e?void 0:e.filter((function(e){return"withdrawal"===e.type})).slice(0,5);return Object(z.jsx)(He,{heading:"Recent Withdrawals",wide:!0,text:{name:"View All",color:"grey",p:"0",to:"/dashboard/transactions"},children:r?Object(z.jsx)(W,{}):Object(z.jsx)(U.a,{minH:"240px",scroll:!0,wide:!0,children:(null===a||void 0===a?void 0:a.length)?a.map((function(e){return Object(z.jsx)(xt,{transaction:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No transaction"})})})})},rr=n(149),ar=Object(B.e)($n||($n=Object(R.a)(["\n  0% {\n      transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),cr=Object(B.d)(rr.a)(Xn||(Xn=Object(R.a)(["\n  width: 64px;\n  height: 64px;\n  margin: 12px;\n\n  color: ",";\n\n  animation: "," 0.8s linear infinite;\n"])),(function(e){return e.theme.colors.primary}),ar),ir=Object(B.d)(l.g)(Zn||(Zn=Object(R.a)(["\n  width: 64px;\n  height: 64px;\n  margin: 12px;\n\n  color: ",";\n"])),(function(e){return e.theme.colors.success})),sr=Object(B.d)(l.t)(Gn||(Gn=Object(R.a)(["\n  width: 64px;\n  height: 64px;\n  margin: 12px;\n\n  color: ",";\n"])),(function(e){return e.theme.colors.danger})),or=function(e){var t=e.title,n=e.open,r=e.dismiss,a=e.processing,c=e.response,i=e.success;return Object(z.jsx)(Wt.a,{open:n,dismiss:r,preventDismiss:!0,children:Object(z.jsxs)(U.a,{flexCol:"center",maxW:"480px",w:"90vw",h:"auto",bg:"bgContrast",p:"16px",radius:"12px",children:[Object(z.jsx)(E.a,{font:"14px",p:"0 0 12px",align:"center",bold:!0,children:t}),a?Object(z.jsx)(cr,{}):i?Object(z.jsx)(ir,{}):Object(z.jsx)(sr,{}),Object(z.jsx)(E.a,{align:"center",font:"11px",p:"12px 0",bold:!0,multiline:!0,children:c}),a?Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",p:"12px",m:"12px 0",full:!0,disabled:!0,children:Object(z.jsx)(un.a,{})}):Object(z.jsx)(Ke.a,{bg:"actionBg",p:"12px",m:"12px 0",bold:!0,full:!0,onClick:r,children:"Ok"})]})})},lr=n(110),dr=n(109),pr=parseInt("1000")||2e3,br=dr.e().shape({type:dr.g().required("Type is required").lowercase().oneOf(["investment","deposit","withdrawal","transfer","income","fee"],"Invalid transaction type"),wallet:dr.g().required("Wallet is required").lowercase(),amount:dr.d().required("Amount is required").label("Amount").positive(),description:dr.g().when("type",{is:function(e){return["income","fee"].includes(e)},then:dr.g().required("Please provide a description for income")}),date:dr.b(),receiver_email:dr.g().when("type",{is:"transfer",then:dr.g().email("Invalid Recipient Email").required("Recipient Email is required")}),method:dr.e().when("type",{is:"withdrawal",then:dr.e({type:dr.g().required("Method type is required"),address:dr.c().required("Method address is required")}).typeError("Withdrawal method is required").required("Withdrawal method is required")}),profit:dr.d().label("Profit").min(0,"Invalid profit"),extra:dr.d().label("Extra").min(0,"Invalid amount"),duration:dr.d().label("Duration").positive().when("type",{is:"investment",then:dr.d().required("Please provide duration for investment")}),autoIncrement:dr.a()}),jr=dr.e().shape({wallet:dr.g().required("Wallet is required"),amount:dr.d().typeError("Amount is required").required("Amount is required").min(pr,"Amount too low"),method:dr.e({type:dr.g().required("Method type is required"),address:dr.c().required("Method address is required")}).typeError("Withdrawal method is required").required("Withdrawal method is required"),status:dr.g()}),ur=function(){var e,t,n,r=Object(i.h)().state,a=Object(D.a)().profile,c=A(),o=c.wallets,l=c.loading,d=p().mutate,b=Object(lr.a)(),j=b.show,u=b.processing,x=b.response,h=b.success,O=b.start,f=b.complete,v=b.fail,g=b.close,w=Object(Ft.a)(),y=w.show,k=w.open,S=w.close,N=Object(pn.c)({defaultValues:{amount:null,wallet:(null===r||void 0===r?void 0:r.wallet)||"BTC",method:null},resolver:Object(bn.yupResolver)(jr)}),q=N.register,R=N.control,B=N.handleSubmit,M=N.watch,_=N.formState,W=N.setValue,T=N.setError,L=N.getValues,F=N.reset,V=N.errors,H=M(),Y=H.amount,$=H.wallet,X=_.isSubmitting,Z=null===o||void 0===o?void 0:o.find((function(e){return(null===e||void 0===e?void 0:e.symbol.toLowerCase())===(null===$||void 0===$?void 0:$.toLowerCase())})),G=C($).available,J=m(G),K=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n,r,c;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=L()).amount>J)){e.next=4;break}return T("amount",{type:"server",message:"You do not have sufficient balance"}),e.abrupt("return");case 4:return n=Object(I.a)(Object(I.a)({},t),{},{user:a._id,type:"withdrawal",status:"pending"}),e.prev=5,O(),e.next=9,Re.a.post("/transactions",n);case 9:r=e.sent,c=r.data,console.log(c),f("pending"===c.status?"Your withdrawal is awaiting approval, you will be contacted by email":"Your withdrawal is currently being processed, you will be contacted by email"),d(),F({amount:null,wallet:t.wallet}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0.response),v("Account Restricted"===e.t0.response.data.message?"Your Account has been temporarily restricted":void 0);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}();return l?Object(z.jsx)(Kt,{children:Object(z.jsx)(s.a,{page:!0})}):Object(z.jsxs)(Kt,{children:[Z&&Object(z.jsxs)(U.a,{p:"24px 12px 12px",wide:!0,children:[Object(z.jsx)(mn,{wallet:Z}),Object(z.jsxs)(U.a,{m:"12px 0 0",display:"grid",gap:"12px",flow:"column",wide:!0,children:[Object(z.jsx)(Ke.a,{bg:"primary",p:"12px",radius:"6px",bold:"true",to:"/dashboard/settings/cards",children:"Manage Cards"}),Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",p:"12px",radius:"6px",bold:"true",to:"/dashboard/wallets",children:"All Wallets"})]})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px 12px 24px",m:"24px 0",bg:"actionBg",wide:!0,onSubmit:B(k),children:[Object(z.jsxs)(E.a,{color:"white",p:"24px 8px 0",bold:!0,flexalign:!0,justify:"flex-end",children:[G," USD",Object(z.jsx)(P.a,{bg:"bg",color:"text",font:"11px",p:"6px 8px",m:"0 0 0 12px",radius:"4px",bold:!0,pointer:!0,onClick:function(){return W("amount",J,{shouldValidate:!0})},children:"MAX"})]}),Object(z.jsx)(kn,{color:"white",radius:"8px",label:"Select Wallet",placeholder:"Select Wallet",wallets:o,control:R,name:"wallet",error:null===(e=V.wallet)||void 0===e?void 0:e.message}),Object(z.jsx)(jn.a,{color:"white",radius:"8px",label:"Amount",placeholder:"Amount",type:"number",m:"12px 0",ref:q({valueAsNumber:!0}),name:"amount",error:null===(t=V.amount)||void 0===t?void 0:t.message}),Object(z.jsx)(tr,{color:"white",radius:"8px",label:"Withdrawal Method",placeholder:"Withdrawal Method",cards:a.cards,banks:a.banks,control:R,name:"method",error:null===(n=V.method)||void 0===n?void 0:n.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",color:"invertText",full:!0,m:"24px 0",radius:"8px",bold:!0,disabled:X,children:X?Object(z.jsx)(un.a,{}):"Withdraw"}),Object(z.jsx)(Lt,{open:y,dismiss:S,action:K,title:"Confirm Withdrawal",message:"Withdraw ".concat(Y," USD from your ").concat($.toUpperCase()," wallet")}),Object(z.jsx)(or,{title:"Request Successful",open:j,processing:u,response:x,success:h,dismiss:g})]}),Object(z.jsx)(nr,{})]})},xr=n(341),mr=Object(B.d)(xr.QRCode)(Jn||(Jn=Object(R.a)(["\n  width: 240px;\n  border-radius: 4px;\n\n  .qrcode-cell {\n    opacity: 1;\n  }\n\n  .qrcode-cell-empty {\n    fill: transparent;\n  }\n\n  .qrcode-cell-filled {\n    fill: ",";\n  }\n"])),(function(e){return e.theme.colors.text})),hr=function(e){return Object(z.jsx)(mr,Object(I.a)({cellClassPrefix:"qrcode"},e))},Or=function(){var e=Object(i.i)().symbol,t=N(e).wallet,n=Object(D.a)().profile,r=Object(i.g)(),a=n.wallets.find((function(t){return t.symbol.toLowerCase()===e})),c=(null===a||void 0===a?void 0:a.address)||t.address;return Object(z.jsxs)(U.a,{p:"24px 0",wide:!0,children:[Object(z.jsx)(U.a,{flex:"center",wide:!0,children:Object(z.jsx)(Ue,{symbol:t.symbol,size:"80px"})}),Object(z.jsx)(U.a,{p:"24px 0",flex:"center",wide:!0,children:Object(z.jsx)(U.a,{bg:"bg",p:"24px",radius:"16px",w:"auto",h:"auto",children:Object(z.jsx)(hr,{value:c})})}),Object(z.jsxs)(U.a,{p:"24px",flexCol:"center",wide:!0,children:[Object(z.jsx)(E.a,{font:"12px",bold:!0,children:"Scan or Click QR Code to open mobile wallet"}),Object(z.jsx)(U.a,{maxW:"480px",flex:"center",wide:!0,children:Object(z.jsx)(Ke.a,{bg:"primary",p:"16px",radius:"24px",bold:!0,full:!0,onClick:function(){return r.goBack()},children:"Done"})})]})]})},fr=Object(B.d)(U.a)(Kn||(Kn=Object(R.a)(["\n  "," {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    :last-child {\n      border: none;\n    }\n  }\n"])),E.a),vr=function(e){var t=e.children,n=Object(Z.a)(e,["children"]);return Object(z.jsx)(fr,Object(I.a)(Object(I.a)({as:"ul",bg:"bgContrast",radius:"16px",noscroll:!0,wide:!0},n),{},{children:t}))},gr=function(e){var t=e.children,n=e.icon,r=e.iconStyle,a=Object(Z.a)(e,["children","icon","iconStyle"]);return Object(z.jsxs)(E.a,Object(I.a)(Object(I.a)({as:"li",p:"12px",pointer:"pointer",flexalign:"true",justify:"space-between"},a),{},{children:[t,Object(z.jsx)(P.a,Object(I.a)(Object(I.a)({p:"0",opacity:"0.6",flexalign:!0},r),{},{children:n||Object(z.jsx)(l.i,{})}))]}))},wr=function(){var e=Object(i.i)().symbol,t=Object(D.a)().profile,n=N(e).wallet,r=Object(a.useState)(!1),c=Object(o.a)(r,2),s=c[0],l=c[1],d=function(){return l(!0)},p=t.wallets.find((function(t){return t.symbol.toLowerCase()===e})),b=(null===p||void 0===p?void 0:p.address)||n.address;return Object(z.jsxs)(U.a,{p:"24px 0",wide:!0,children:[Object(z.jsx)(U.a,{flex:"center",wide:!0,children:Object(z.jsx)(Ue,{symbol:n.symbol,size:"80px"})}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(E.a,{opacity:"0.6",children:"Payment Method"}),Object(z.jsxs)(vr,{children:[Object(z.jsx)(gr,{bg:"bg",href:"https://bitcoin.com",target:"_blank",children:"Bitcoin.com"}),Object(z.jsx)(gr,{bg:"bg",href:"https://coinmama.com",target:"_blank",children:"Coinmama"}),Object(z.jsx)(gr,{bg:"bg",href:"https://changelly.com",target:"_blank",children:"Changelly"})]})]}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(E.a,{opacity:"0.6",children:"More"}),Object(z.jsx)(vr,{children:Object(z.jsx)(gr,{bg:"bg",to:"./qrcode",children:"QR Code"})})]}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(E.a,{opacity:"0.6",children:"Address"}),Object(z.jsx)(Ot.CopyToClipboard,{text:b,onCopy:d,children:Object(z.jsx)(E.a,{bg:"bg",p:"24px",radius:"24px",breakword:!0,multiline:!0,children:b})})]}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(E.a,{p:"0 12px",bold:!0,children:"Minimum deposit: 100 USD"}),Object(z.jsx)(E.a,{font:"12px",multiline:!0,opacity:"0.6",children:"If a deposit is below the required minimum, the funds will not be credited to your account."})]}),Object(z.jsx)(U.a,{p:"12px",flex:"center",wide:!0,children:Object(z.jsx)(Ot.CopyToClipboard,{text:b,onCopy:d,children:Object(z.jsx)(Ke.a,{bg:"primary",p:"16px",radius:"24px",max:"480px",bold:!0,full:!0,children:s?"Copied":"Copy Address"})})})]})},yr=function(e){var t=e.children,n=e.action,r=e.center,c=e.textStyle,i=Object(Z.a)(e,["children","action","center","textStyle"]),s=Object(a.useState)(null),l=Object(o.a)(s,2),d=l[0],p=l[1],b=n||{},j=b.name,u=Object(Z.a)(b,["name"]);return Object(a.useEffect)((function(){var e=t&&t[0].props.name;p(e)}),[t]),Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({},i),{},{children:[Object(z.jsxs)(U.a,{flex:"space-between",h:"48px",children:[Object(z.jsx)(U.a,{p:"0 12px",flex:r?"center":"flex-start",scrollX:!0,children:t&&t.map((function(e){var t=e.props;return Object(z.jsx)(E.a,Object(I.a)(Object(I.a)({bold:!0,center:!0,pointer:!0,multiline:!0,padding:"12px 8px"},c),{},{opacity:d===t.name?"1":"0.6",onClick:function(){return p(t.name)},children:t.name}),t.name)}))}),n&&Object(z.jsx)(U.a,{w:"auto",p:"0 12px",as:"section",media:{breakpoint:"lg",targetBelow:!0,display:"none"},children:Object(z.jsx)(Ke.a,Object(I.a)(Object(I.a)({},u),{},{children:j}))})]}),Object(z.jsx)(U.a,{h:"calc(100% - 48px)",children:t&&t.map((function(e){return Object(z.jsx)(U.a,{display:d===e.props.name?"block":"none",children:e},e.props.name)}))})]}))};function kr(e){var t,n=e.action,r=e.demo,a=Object(i.i)().symbol,c=C(a).available,s=Object(Ft.a)(),o=s.show,l=s.open,d=s.close,p=m(c),b=dr.e().shape({amount:dr.d().typeError("Minimum amount is 100 USD").required("Amount is required").min(100,"Minimum amount is 100 USD").max(p,"You do not have sufficient balance"),duration:dr.d().required()}),j=Object(pn.c)({defaultValues:{amount:null,duration:r?1:7},resolver:Object(bn.yupResolver)(b)}),u=j.register,x=j.handleSubmit,h=j.watch,O=j.formState,f=j.reset,v=j.setValue,g=j.getValues,w=j.errors,y=h().amount,k=O.isSubmitting,S="true"==="true".toLowerCase(),D=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g(),n(Object(I.a)(Object(I.a)({},t),{},{type:"investment",wallet:a,autoIncrement:S})),f({amount:null,duration:r?1:7});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{as:"form",onSubmit:x(l),wide:!0,children:[Object(z.jsxs)(E.a,{color:"white",p:"12px 8px 0",bold:!0,flexalign:!0,justify:"flex-end",children:[c," USD",Object(z.jsx)(P.a,{bg:"bg",color:"text",font:"11px",p:"6px 8px",m:"0 0 0 12px",radius:"4px",bold:!0,pointer:!0,onClick:function(){return v("amount",p,{shouldValidate:!0})},children:"MAX"})]}),Object(z.jsx)(jn.a,{color:"white",radius:"8px",label:"Amount",placeholder:"Amount in USD",type:"number",ref:u({valueAsNumber:!0}),name:"amount",error:null===(t=w.amount)||void 0===t?void 0:t.message}),Object(z.jsx)(en.a,{color:"white",radius:"8px",label:"Duration",ref:u({valueAsNumber:!0}),name:"duration",children:r?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("option",{value:"1",children:"24 Hours"}),Object(z.jsx)("option",{value:"2",children:"48 Hours"}),Object(z.jsx)("option",{value:"3",children:"72 Hours"})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("option",{value:"7",children:"7 Days"}),Object(z.jsx)("option",{value:"14",children:"14 Days"}),Object(z.jsx)("option",{value:"21",children:"21 Days"}),Object(z.jsx)("option",{value:"30",children:"1 Month"}),Object(z.jsx)("option",{value:"60",children:"2 Months"}),Object(z.jsx)("option",{value:"90",children:"3 Months"})]})}),Object(z.jsx)(Ke.a,{type:"submit",bg:"white",color:"black",bold:!0,full:!0,m:"24px 0 0",p:"14px",radius:"8px",disabled:k,children:k?Object(z.jsx)(un.a,{}):"Invest"}),Object(z.jsx)(Lt,{open:o,dismiss:d,action:D,title:"Confirm Investment",message:"You are about to invest ".concat(y," USD from your ").concat(a.toUpperCase()," wallet")})]})}function Cr(e){var t,n,r=e.action,a=Object(D.a)().profile,c=Object(i.i)().symbol,s=C(c).available,o=Object(Ft.a)(),l=o.show,d=o.open,p=o.close,b=m(s),j=dr.e().shape({amount:dr.d().typeError("Minimum amount is 100 USD").required("Amount is required").min(100,"Minimum amount is 100 USD").max(b,"You do not have sufficient balance"),email:dr.g().email("Invalid Email").required("Email is required")}),u=Object(pn.c)({defaultValues:{amount:null,email:"",receiver:"",receiver_name:""},resolver:Object(bn.yupResolver)(j)}),x=u.register,h=u.handleSubmit,O=u.watch,f=u.formState,v=u.reset,g=u.getValues,w=u.setValue,y=u.setError,k=u.errors,S=O(),A=S.amount,N=S.receiver_name,q=f.isSubmitting,R=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r,c;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,e.prev=1,e.next=4,Re.a.post("/profile/email",{email:n});case 4:if(r=e.sent,(c=r.data).email!==a.email){e.next=8;break}return e.abrupt("return",y("email",{type:"server",message:"Cannot transfer to own address"}));case 8:w("receiver",c._id),w("receiver_name","".concat(c.firstName," ").concat(c.lastName)),d(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),y("email",{type:"server",message:"Unable to find receipient"});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{as:"form",onSubmit:h(R),wide:!0,children:[Object(z.jsxs)(E.a,{color:"white",p:"12px 8px 0",bold:!0,flexalign:!0,justify:"flex-end",children:[s," USD",Object(z.jsx)(P.a,{bg:"bg",color:"text",font:"11px",p:"6px 8px",m:"0 0 0 12px",radius:"4px",bold:!0,pointer:!0,onClick:function(){return w("amount",b,{shouldValidate:!0})},children:"MAX"})]}),Object(z.jsx)(jn.a,{color:"white",radius:"8px",label:"Amount",placeholder:"Amount in USD",type:"number",ref:x({valueAsNumber:!0}),name:"amount",error:null===(t=k.amount)||void 0===t?void 0:t.message}),Object(z.jsx)(jn.a,{color:"white",radius:"8px",type:"email",label:"Recipient Email",placeholder:"Recipient Email Address",ref:x,name:"email",error:null===(n=k.email)||void 0===n?void 0:n.message}),Object(z.jsx)("input",{ref:x,name:"receiver",hidden:!0}),Object(z.jsx)("input",{ref:x,name:"receiver_name",hidden:!0}),Object(z.jsx)(Ke.a,{type:"submit",bg:"white",color:"black",bold:!0,full:!0,m:"24px 0 0",p:"14px",radius:"8px",disabled:q,children:q?Object(z.jsx)(un.a,{}):"Transfer"}),Object(z.jsx)(Lt,{open:l,dismiss:p,action:function(){var e=g(),t=(e.email,e.receiver_name,Object(Z.a)(e,["email","receiver_name"]));r(Object(I.a)(Object(I.a)({},t),{},{type:"transfer",wallet:c})),v({amount:null,email:"",receiver:"",receiver_name:""})},title:"Confirm Transfer",message:"You are about to transfer ".concat(A," USD to ").concat(N," from your ").concat(c.toUpperCase()," wallet")})]})}var Sr,Dr,Ar,Nr,qr=function(e){var t=Object(D.a)().profile,n=p().mutate,r=Object(lr.a)(),a=r.show,c=r.processing,i=r.response,s=r.success,o=r.start,l=r.complete,d=r.fail,b=r.close,j=function(){var e=Object(dn.a)(ln.a.mark((function e(r){var a;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(I.a)(Object(I.a)({},r),{},{user:t._id}),e.prev=1,o(),e.next=5,Re.a.post("/transactions",a);case 5:l("Transaction Successful"),n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),d("Account Restricted"===e.t0.response.data.message?"Your Account has been temporarily restricted":void 0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(yr,Object(I.a)(Object(I.a)({p:"24px 0 12px",m:"12px 0",bg:"actionBg",center:!0,textStyle:{bg:"bg",p:"12px 48px",m:"0 12px",radius:"12px"}},e),{},{children:[Object(z.jsx)(U.a,{name:"Invest",p:"12px",wide:!0,children:Object(z.jsx)(kr,{demo:t.demoMode,action:j})}),Object(z.jsx)(U.a,{name:"Transfer",p:"12px",wide:!0,children:Object(z.jsx)(Cr,{action:j})})]})),Object(z.jsx)(or,{title:"Completing Transaction",open:a,processing:c,response:i,success:s,dismiss:b})]})},Ur=function(){var e=Object(i.j)().url,t=Object(i.i)().symbol,n=N(t).wallet;return Object(z.jsxs)(U.a,{display:"grid",gap:"12px",wide:!0,children:[Object(z.jsxs)(U.a,{p:"24px 12px 12px",wide:!0,children:[Object(z.jsx)(mn,{wallet:n}),Object(z.jsxs)(U.a,{m:"12px 0 0",display:"grid",gap:"12px",flow:"column",wide:!0,children:[Object(z.jsx)(Ke.a,{p:"12px",bg:"primary",radius:"6px",full:"true",bold:"true",to:"".concat(e,"/deposit"),children:"Deposit"}),Object(z.jsx)(Ke.a,{p:"12px",bg:"secondary",color:"black",radius:"6px",full:"true",bold:"true",to:{pathname:"./withdraw",state:{wallet:t}},children:"Withdraw"})]})]}),Object(z.jsx)(U.a,{p:"12px 0",bordertop:"1px solid",wide:!0,children:Object(z.jsx)(kt,{wallet:n,intervals:["1M","1w","1hr","30m","15m","Now"],h:"240px",media:{breakpoint:"md",h:"280px"}})}),Object(z.jsx)(qr,{}),Object(z.jsx)(ht,{wallet:t})]})},Pr=function(){var e=Object(i.j)(),t=e.path,n=e.url,r=Object(i.i)().symbol,a=N(r),c=a.loading,o=a.error;return c?Object(z.jsx)(Kt,{children:Object(z.jsx)(s.a,{page:!0})}):o?Object(z.jsx)(i.a,{to:"/dashboard/wallets"}):Object(z.jsx)(Kt,{children:Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsx)(Ur,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/deposit"),children:Object(z.jsx)(wr,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/qrcode"),children:Object(z.jsx)(Or,{})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]})})},Er=function(){var e=Object(i.j)(),t=e.path,n=e.url;return Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsx)(sn,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/withdraw"),children:Object(z.jsx)(ur,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/:symbol"),children:Object(z.jsx)(Pr,{})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]})},Ir=B.d.div(Sr||(Sr=Object(R.a)(["\n  width: ",";\n  height: ",";\n\n  min-width: ",";\n\n  border-radius: ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: lightgrey;\n  color: ",";\n"])),(function(e){var t=e.size;return t||"36px"}),(function(e){var t=e.size;return t||"36px"}),(function(e){return e.size||"36px"}),(function(e){var t=e.square,n=e.radius;return n||(t?"8px":"50%")}),(function(e){return e.theme.colors.invertText})),Rr=function(e){var t=e.read,n=Object(Z.a)(e,["read"]);return Object(z.jsx)(Ir,Object(I.a)(Object(I.a)({read:t},n),{},{children:t?Object(z.jsx)(Pt.b,{}):Object(z.jsx)(Pt.c,{})}))},Br=function(e){var t=e.message,n=Object(Z.a)(e,["message"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px 0",flex:"space-between",wide:"true",to:"/dashboard/messages/".concat(t._id)},n),{},{children:[Object(z.jsx)(Rr,{read:t.read}),Object(z.jsxs)(U.a,{w:"calc(100% - 36px)",p:"2px 0px 2px 12px",h:"36px",flex:"space-between",children:[Object(z.jsxs)(U.a,{w:"60%",flexCol:"flex-start",justify:"space-between",children:[Object(z.jsxs)(E.a,{font:"13px",p:"0",flexalign:!0,bold:!0,children:[t.title,!t.read&&Object(z.jsx)(Qe,{size:"8px",m:"0 0 0 8px",bg:"skyblue"})]}),Object(z.jsx)(E.a,{font:"11px",w:"100%",p:"0",opacity:"0.8",children:t.body})]}),Object(z.jsx)(U.a,{w:"40%",flexCol:"flex-end",justify:"center",children:Object(z.jsx)(E.a,{font:"12px",p:"0",opacity:"0.8",children:new Date(t.date).toDateString()})})]})]}))},Mr=function(){var e=et(),t=e.messages,n=e.loading;return Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"My Messages"}),Object(z.jsx)(U.a,{p:"12px 0",wide:!0,children:Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"View all your incoming messages. NB: you may reply messages via email"})}),Object(z.jsxs)(U.a,{m:"12px 0 0",flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ke.a,{p:"8px 24px",radius:"6px",bg:"primary",bold:"true",to:"/dashboard/wallets",children:"My Accounts"}),Object(z.jsxs)(Ke.a,{p:"8px 20px",m:"0 0 0 12px",radius:"6px",bg:"secondary",color:"black",flexalign:"true",to:"/dashboard",children:[Object(z.jsx)(P.a,{bold:"true",p:"0",m:"0 8px 0 0",flexalign:!0,children:Object(z.jsx)(l.c,{})}),Object(z.jsx)(P.a,{bold:"true",p:"0",m:"0",children:"Go Back"})]})]})]}),n?Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsx)($,{})}):Object(z.jsx)(U.a,{minH:"240px",p:"12px",wide:!0,children:t.length?t.map((function(e){return Object(z.jsx)(Br,{message:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flexCol:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"You have no messages"})})})]})},zr=function(){var e=Object(i.i)().id,t=Object(i.g)(),n=function(e){var t=Object(d.b)("/messages/"+e),n=t.data,r=t.mutate,a=t.error;return{message:n,loading:!n&&!a,error:a,mutate:r}}(e),r=n.message,c=n.loading,s=n.error,o=et().mutate;return Object(a.useEffect)((function(){r&&!r.read&&function(){var t=Object(dn.a)(ln.a.mark((function t(){return ln.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Re.a.post("/messages/".concat(e,"/read"));case 2:o();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[r,e,o]),s&&t.goBack(),c?Object(z.jsx)(U.a,{wide:!0,children:Object(z.jsx)(U.a,{p:"12px",borderbottom:"1px solid",h:"125px"})}):Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:r.title}),Object(z.jsxs)(U.a,{p:"12px 0",wide:!0,children:[Object(z.jsxs)(E.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Delivered: ",new Date(r.date).toDateString()]}),Object(z.jsx)(E.a,{p:"2px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"reply to:- chainlinked@gmail.com"})]})]}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsx)(E.a,{as:"pre",multiline:!0,children:r.body})})]})},_r=function(){var e=Object(i.j)(),t=e.path,n=e.url;return Object(z.jsx)(Kt,{children:Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsx)(Mr,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/:id"),children:Object(z.jsx)(zr,{})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]})})},Wr=function(e){var t=e.payment,n=Object(Z.a)(e,["payment"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"0 12px 12px",m:"0 0 12px",radius:"8px",bg:"bg",display:"block",wide:"true"},n),{},{children:[Object(z.jsx)(E.a,{align:"center",font:"14px",bold:!0,children:t.title}),Object(z.jsx)(nn,{p:"4px",title:"Amount",titleStyle:{bold:!0,opacity:"0.6"},children:t.amount}),Object(z.jsx)(nn,{p:"4px",title:"Date",titleStyle:{bold:!0,opacity:"0.6"},children:new Date(t.date).toDateString()}),Object(z.jsx)(nn,{p:"4px",title:"Status",titleStyle:{bold:!0,opacity:"0.6"},children:t.completed?"Completed":"Pending"})]}))},Tr=function(){var e=nt(),t=e.payments,n=e.loading;return Object(z.jsxs)(Kt,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Pending Payments"}),Object(z.jsx)(U.a,{p:"12px 0",wide:!0,children:Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"View all your outstanding payments. NB: payments not cleared may leave funds inaccessible"})}),Object(z.jsxs)(U.a,{m:"12px 0 0",flex:"flex-start",wide:!0,children:[Object(z.jsx)(Ke.a,{p:"8px 24px",radius:"6px",bg:"primary",bold:"true",to:"/dashboard/wallets",children:"My Accounts"}),Object(z.jsxs)(Ke.a,{p:"8px 20px",m:"0 0 0 12px",radius:"6px",bg:"secondary",color:"black",flexalign:"true",to:"/dashboard",children:[Object(z.jsx)(P.a,{font:"inherit",bold:"true",p:"0",m:"0 8px 0 0",flexalign:!0,children:Object(z.jsx)(l.c,{})}),Object(z.jsx)(P.a,{font:"inherit",bold:"true",p:"0",m:"0",children:"Go Back"})]})]})]}),n?Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsx)(H,{})}):Object(z.jsx)(U.a,{display:"grid",gap:"16px",minH:"240px",p:"12px",wide:!0,children:t.length?t.map((function(e){return Object(z.jsx)(Wr,{payment:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flexCol:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No pending payment"})})})]})},Lr=function(e){switch(e.slice(-1)){case"1":return"Basic Membership";case"2":return"Silver Membership";case"3":return"Gold Membership";default:return""}},Fr=Object(B.d)(U.a)(Dr||(Dr=Object(R.a)(["\n  :last-child {\n    border-bottom: none;\n  }\n"]))),Vr=function(e){var t=e.title,n=e.body,r=e.to,a=e.onClick,c=e.detail,i=e.icon,s=e.color,o=e.opacity;return Object(z.jsxs)(Fr,{flex:"space-between",borderbottom:"1px solid",wide:"true",to:r,onClick:a,children:[Object(z.jsxs)(U.a,{p:"16px",flexCol:"flex-start",w:"calc(100% - 40px)",children:[Object(z.jsx)(E.a,{p:"0",font:"12px",m:"0 0 8px 0",opacity:o||"0.6",color:s,children:t}),Object(z.jsx)(E.a,{p:"0",font:"11px",multiline:!0,children:n})]}),(r||c||i)&&Object(z.jsx)(U.a,{flexCol:"flex-end",w:"40px",children:Object(z.jsx)(P.a,{opacity:"0.4",color:s,children:i||Object(z.jsx)(l.i,{})})})]})},Hr=function(){return Object(z.jsx)(P.a,{m:"0 0 0 4px",p:"2px 8px",bg:"primary",color:"white",bold:!0,radius:"12px",children:"New"})},Yr=function(e){var t=e.heading,n=e.isNew;return Object(z.jsxs)(E.a,{bg:"bg",p:"8px 16px",m:"0 0 12px 0",font:"12px",radius:"8px",children:[t," ",n&&Object(z.jsx)(Hr,{})]})},$r=function(){var e,t,n,r,a,c,s=Object(i.j)().url,o=Object(D.a)().profile,l="true"===(null===(e="true")?void 0:e.toLowerCase());return Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsxs)(U.a,{p:"24px",flexCol:"center",position:"relative",wide:!0,children:[Object(z.jsx)(U.a,{w:"80px",to:"".concat(s,"/profile-photo"),children:Object(z.jsx)(Dt.a,{size:"80px"})}),Object(z.jsx)(E.a,{p:"0",m:"12px 0 4px",font:"12px",bold:"true",flexalign:"true",opacity:"0.6",children:o.fullName}),Object(z.jsx)(E.a,{p:"0",font:"10px",bold:"true",flexalign:"true",opacity:"0.4",children:st(o.plan)})]}),Object(z.jsx)(vt,{p:"12px 0",m:"0 0 12px 0"}),o.inDemoPeriod&&Object(z.jsxs)(U.a,{p:"12px 0",wide:!0,children:[Object(z.jsx)(Yr,{isNew:!0,heading:"Demo Account"}),Object(z.jsx)(Vr,{title:o.demoMode?"Switch to Trading Account":"Switch to Demo Account",body:o.demoMode?"Opt out of Bittellar Demo Account":"Opt in for a Bittellar Demo Account",to:"/account/demo"})]}),Object(z.jsxs)(U.a,{p:"12px 0",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Personal Information"}),Object(z.jsx)(Vr,{title:"Email Address",body:o.email,to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"First Name",body:o.firstName,to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"Last Name",body:o.lastName,to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"Phone Number",body:pt(null===(t=o.profile)||void 0===t?void 0:t.phone),to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"Country",body:null===(n=o.profile)||void 0===n?void 0:n.country,to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"Zip Code",body:null===(r=o.profile)||void 0===r?void 0:r.zipCode,to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"Date of Birth",body:dt(null===(a=o.profile)||void 0===a?void 0:a.dob),to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"Gender",body:st(null===(c=o.profile)||void 0===c?void 0:c.gender),to:"".concat(s,"/personal-information")}),Object(z.jsx)(Vr,{title:"Date Joined",body:new Date(o.createdAt).toDateString(),to:"".concat(s,"/personal-information")})]}),Object(z.jsxs)(U.a,{p:"12px 0",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Account Information"}),Object(z.jsx)(Vr,{title:"Verification Level",body:st(o.plan)+" - "+Lr(o.plan),color:o.meta.requireUpgrade?"orange":void 0,opacity:o.meta.requireUpgrade?"1":void 0,to:"".concat(s,"/verification")}),Object(z.jsx)(Vr,{title:"Profile Photo",body:"Upload profile photo",to:"".concat(s,"/profile-photo")}),Object(z.jsx)(Vr,{title:"Manage Cards",body:"Add new card or manage existing withdrawal methods",to:"".concat(s,"/cards")}),l&&Object(z.jsx)(Vr,{title:"Manage Banks",body:"Add new card or manage existing withdrawal methods",to:"".concat(s,"/banks")}),Object(z.jsx)(Vr,{title:"Change Password",body:"Updating your password would log you out of all devices",to:"".concat(s,"/change-password")})]})]})},Xr=n(132),Zr=n(133),Gr=function(){var e=Object(i.g)(),t=Object(D.a)(),n=t.profile,r=t.mutate,c=Object(lr.a)(),s=c.show,l=c.processing,d=c.response,p=c.success,b=c.start,j=c.complete,u=c.close,x=Object(Ft.a)(),m=x.show,h=x.toggle,O=Object(a.useState)(),f=Object(o.a)(O,2),v=f[0],g=f[1],w=function(){var t=Object(dn.a)(ln.a.mark((function t(){var n;return ln.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(Zr.a)(v),t.prev=1,b(),t.next=5,Re.a.post("/profile/avatar",{profilePhoto:n});case 5:j("Image Uploaded Successfully"),r(),e.goBack(),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),j("Done"),r(),e.goBack();case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(dn.a)(ln.a.mark((function t(){return ln.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Re.a.delete("/profile/avatar");case 3:r(),e.goBack(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsx)(U.a,{flex:"center",h:"80px",children:Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Upload profile photo"})}),Object(z.jsx)(Xr.a,{image:v,action:function(e){var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){return g(n.result)}},hint:"Select profile photo"}),Object(z.jsxs)(U.a,{p:"24px 12px",flexCol:"center",wide:!0,children:[Object(z.jsx)(Ke.a,{radius:"4px",max:"480px",bg:"primary",bold:!0,full:!0,disabled:!v,onClick:w,children:v?"Submit":"Choose an image"}),n.avatar&&Object(z.jsx)(E.a,{pointer:!0,bold:!0,onClick:h,children:"Reset Profile Photo"}),Object(z.jsx)(or,{title:"Uploading Photo",open:s,processing:l,response:d,success:p,dismiss:u}),Object(z.jsx)(Lt,{open:m,dismiss:h,action:y,title:"Remove Profile Photo",message:"Are you sure you want to remove profile photo?",preventDismiss:!0})]})]})},Jr=n(209),Kr=n(119),Qr=n(214),ea=n(215),ta=function(){var e,t,n,r,a,c,s,o,l,d,p,b,j,u,x,m,h,O,f,v,g=Object(i.g)(),w=Object(D.a)(),y=w.profile,k=w.mutate,C=Object(Ft.a)(),S=C.show,A=C.toggle,N=Object(pn.c)({defaultValues:{firstName:y.firstName,lastName:y.lastName,profile:{phone:null===(e=y.profile)||void 0===e?void 0:e.phone,gender:null===(t=y.profile)||void 0===t?void 0:t.gender,dob:null===(n=y.profile)||void 0===n?void 0:n.dob,city:null===(r=y.profile)||void 0===r?void 0:r.city,zipCode:null===(a=y.profile)||void 0===a?void 0:a.zipCode,country:null===(c=y.profile)||void 0===c?void 0:c.country}},resolver:Object(bn.yupResolver)(Qr.a)}),q=N.register,P=N.control,I=N.handleSubmit,R=N.formState,B=N.getValues,M=N.errors,_=N.setError,W=R.isSubmitting,T=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n,r,a;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B(),e.prev=1,e.next=4,Re.a.put("/profile",t);case 4:k(),g.push("/dashboard/settings"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.message)||void 0===a?void 0:a.includes("profile.phone"))&&_("profile.phone",{types:"server",message:"Invalid Phone"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"center",h:"120px",children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 12px 0",font:"14px",bold:!0,children:"Personal Information"}),Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",align:"center",bold:!0,multiline:!0,children:"Update your name and profile information"})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",onSubmit:I(A),children:[Object(z.jsxs)(U.a,{flex:"space-between",m:"8px 0",wide:!0,children:[Object(z.jsx)(jn.a,{w:"calc(50% - 6px)",radius:"8px",label:"First Name",placeholder:"First Name",ref:q,name:"firstName",error:null===(s=M.firstName)||void 0===s?void 0:s.message}),Object(z.jsx)(jn.a,{w:"calc(50% - 6px)",radius:"8px",label:"Last Name",placeholder:"Last Name",ref:q,name:"lastName",error:null===(o=M.lastName)||void 0===o?void 0:o.message})]}),Object(z.jsx)(en.a,{radius:"8px",label:"Country",ref:q,name:"profile.country",error:null===(l=M.profile)||void 0===l||null===(d=l.country)||void 0===d?void 0:d.message,children:ea.a.map((function(e){return Object(z.jsx)("option",{value:e.name,children:e.name},e.code)}))}),Object(z.jsx)(jn.a,{radius:"8px",label:"Zip Code",placeholder:"Zip Code",ref:q,name:"profile.zipCode",error:null===(p=M.profile)||void 0===p||null===(b=p.zipCode)||void 0===b?void 0:b.message}),Object(z.jsx)(jn.a,{radius:"8px",label:"City",placeholder:"City",ref:q,name:"profile.city",error:null===(j=M.profile)||void 0===j||null===(u=j.city)||void 0===u?void 0:u.message}),Object(z.jsx)(Jr.a,{radius:"8px",type:"tel",label:"Phone Number",placeholder:"Phone Number",ref:q,name:"profile.phone",error:null===(x=M.profile)||void 0===x||null===(m=x.phone)||void 0===m?void 0:m.message}),Object(z.jsxs)(en.a,{radius:"8px",label:"Gender",ref:q,name:"profile.gender",error:null===(h=M.profile)||void 0===h||null===(O=h.gender)||void 0===O?void 0:O.message,children:[Object(z.jsx)("option",{value:"male",children:"Male"}),Object(z.jsx)("option",{value:"female",children:"Female"}),Object(z.jsx)("option",{value:"other",children:"Other"})]}),Object(z.jsx)(Kr.a,{label:"Date of Birth",hint:"Pick Date",placeholder:"Date of Birth",radius:"8px",control:P,name:"profile.dob",error:null===(f=M.profile)||void 0===f||null===(v=f.dob)||void 0===v?void 0:v.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",full:!0,radius:"4px",disabled:W,children:W?"Processing":"Update Profile"}),Object(z.jsx)(Lt,{open:S,title:"Update Profile",message:"Are you sure you want to continue?",action:T,dismiss:A})]})]})},na=n(368),ra=B.d.div(Ar||(Ar=Object(R.a)(["\n  height: ",";\n  width: 100%;\n  border-radius: ",";\n\n  background-color: ",";\n\n  overflow: hidden;\n"])),(function(e){return e.h||"12px"}),(function(e){return e.radius||"12px"}),(function(e){return e.bg||"white"})),aa=B.d.div(Nr||(Nr=Object(R.a)(["\n  height: 100%;\n  width: ",";\n  border-radius: ",";\n\n  background-color: ",";\n\n  transition: width 0.4s ease-in-out;\n"])),(function(e){return e.w||"0%"}),(function(e){return e.radius||"12px"}),(function(e){var t=e.color;return e.theme.colors[t]||t||"grey"})),ca=function(e){var t=e.percent,n=e.animate,r=Object(Z.a)(e,["percent","animate"]),c=Object(a.useState)(n?0:t),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){if(n){var e=setTimeout((function(){return l(t)}),200);return function(){return clearTimeout(e)}}}),[n,t]),Object(z.jsx)(ra,Object(I.a)(Object(I.a)({},r),{},{children:Object(z.jsx)(aa,Object(I.a)({w:s+"%"},r))}))},ia=function(e){return parseInt(e.plan.slice(-1))},sa=function(e){var t=e.level,n=e.plan,r=e.min,a=e.max,c=(e.requirement,e.verification),s=Object(Z.a)(e,["level","plan","min","max","requirement","verification"]),o=Object(i.j)().path,d=Object(D.a)().profile,p=k().total,b=ia(d),j=b>=t,u=t===b+1,x=m(p)/a*100;return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({bg:"bg",p:"16px",radius:"12px"},s),{},{children:[Object(z.jsxs)(U.a,{flex:"space-between",align:"flex-start",wide:!0,children:[Object(z.jsx)(Qe,{bg:j?"primary":"secondary",color:"white",size:"40px",m:"0",radius:"10px",font:"18px",bold:!0,children:n[0]}),Object(z.jsx)(na.a,{})]}),Object(z.jsxs)(U.a,{p:"12px 0 24px",flex:"space-between",wide:!0,children:[Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(E.a,{p:"4px 0",bold:!0,children:["Level ",t]}),Object(z.jsxs)(E.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,children:[n," Membership"]})]}),Object(z.jsx)(U.a,{flexCol:"flex-end",wide:!0,children:j&&Object(z.jsx)(Qe,{bg:"primary",size:"18px",m:"0",font:"8px",color:"white",children:Object(z.jsx)(l.f,{})})})]}),Object(z.jsxs)(U.a,{p:"24px 0 12px",flexCol:"center",justify:"flex-end",wide:!0,children:[Object(z.jsxs)(U.a,{p:"0 4px",flex:"space-between",wide:!0,children:[Object(z.jsxs)(E.a,{p:"0",bold:!0,children:[r.toLocaleString()," USD"]}),Object(z.jsxs)(E.a,{p:"0",bold:!0,children:[a.toLocaleString()," ",!isNaN(parseFloat(a))&&"USD"]})]}),Object(z.jsx)(U.a,{p:"8px 0",wide:!0,children:Object(z.jsx)(ca,{h:"6px",radius:"4px",color:j?"primary":"secondary",animate:!0,percent:t>b?0:t<b?100:x})}),Object(z.jsxs)(U.a,{p:"0 4px",flex:"space-between",wide:!0,children:[Object(z.jsx)(E.a,{p:"0",font:"11px",opacity:"0.6",bold:!0,children:"Min"}),Object(z.jsx)(E.a,{p:"0",font:"11px",opacity:"0.6",bold:!0,children:"Max"})]})]}),j?Object(z.jsx)(Ke.a,{bg:"primary",m:"12px 0",radius:"4px",bold:!0,full:!0,disabled:!0,children:Object(z.jsxs)(E.a,{p:"0",flexalign:!0,bold:!0,children:["Verified",Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",flexalign:!0,children:Object(z.jsx)(l.f,{})})]})}):d.meta.requireUpgrade?u?Object(z.jsx)(Ke.a,{bg:"orange",m:"12px 0",radius:"4px",bold:"true",full:"true",to:"".concat(o,"/").concat(c),children:"Verify Now"}):Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",m:"12px 0",radius:"4px",bold:!0,full:!0,disabled:!0,children:Object(z.jsxs)(E.a,{p:"0",flexalign:!0,bold:!0,children:["Level ",t-1," Required",Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",flexalign:!0,children:Object(z.jsx)(l.m,{})})]})}):Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",m:"12px 0",radius:"4px",bold:!0,full:!0,disabled:!0,children:Object(z.jsxs)(E.a,{p:"0",flexalign:!0,bold:!0,children:["Level ",t,Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",flexalign:!0,children:Object(z.jsx)(l.m,{})})]})})]}))},oa=function(e){var t=e.level,n=e.desc,r=Object(D.a)().profile;return ia(r)===t-1?Object(z.jsxs)(U.a,{p:"24px 0",flexCol:"center",wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"center",wide:!0,children:[Object(z.jsxs)(E.a,{p:"0",opacity:"0.6",bold:!0,children:["Level ",t]}),Object(z.jsx)(E.a,{p:"4px",font:"12px",opacity:"0.8",children:n})]}),Object(z.jsxs)(U.a,{p:"24px 12px",flexCol:"center",maxW:"480px",h:"360px",children:[Object(z.jsx)(E.a,{font:"16px",align:"center",multiline:!0,bold:!0,children:"Submit documents"}),Object(z.jsx)(E.a,{font:"12px",align:"center",multiline:!0,children:"Please check your email for instructions on verifying your account. You may be required to upload additional documents."})]}),Object(z.jsx)(U.a,{p:"12px",flexCol:"center",wide:!0,children:Object(z.jsx)(Ke.a,{radius:"4px",max:"480px",bg:"primary",bold:"true",full:"true",to:"..",children:"Ok"})})]}):Object(z.jsx)(i.a,{to:"/dashboard/settings/verification"})},la=function(){var e=Object(i.j)(),t=e.path,n=e.url;return Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsxs)(U.a,{p:"12px",display:"grid",gap:"24px",wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"center",h:"120px",children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 12px 0",font:"14px",bold:!0,children:"Verification"}),Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",align:"center",bold:!0,multiline:!0,children:"Submit requested documents to upgrade your account"})]}),Object(z.jsx)(sa,{level:1,plan:"Basic",min:500,max:5e3,requirement:"Email verification"}),Object(z.jsx)(sa,{level:2,plan:"Silver",min:5e3,max:5e4,requirement:"Valid ID (ie. Voter's card, National ID Card, International passport)",verification:"identity"}),Object(z.jsx)(sa,{level:3,plan:"Gold",min:5e4,max:"Unlimited",requirement:"Proof of residence (ie. Utility Bill)",verification:"residence"})]})}),Object(z.jsx)(i.b,{path:"".concat(t,"/identity"),children:Object(z.jsx)(oa,{level:2,desc:"Silver Membership"})}),Object(z.jsx)(i.b,{path:"".concat(t,"/residence"),children:Object(z.jsx)(oa,{level:3,desc:"Gold Membership"})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]})},da=n(111),pa=function(e){var t=e.children,n=e.icon,r=e.iconStyle,a=Object(Z.a)(e,["children","icon","iconStyle"]);return Object(z.jsxs)(E.a,Object(I.a)(Object(I.a)({p:"12px 0",font:"11px",flexalign:!0},a),{},{children:[n&&Object(z.jsx)(P.a,Object(I.a)(Object(I.a)({p:"0 2px 0 0"},r),{},{children:"*"})),t]}))},ba=n(128),ja=function(){var e,t,n,r=Object(D.a)().logout,a=Object(Ft.a)(),c=a.show,i=a.toggle,s=Object(pn.c)({defaultValues:{oldPassword:"",password:"",pass:"",showPassword:!1},resolver:Object(bn.yupResolver)(ba.a)}),o=s.register,l=s.handleSubmit,d=s.watch,p=s.formState,b=s.setError,j=s.getValues,u=s.errors,x=d().showPassword,m=p.isSubmitting,h=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j(),t.showPassword,n=Object(Z.a)(t,["showPassword"]),e.prev=1,e.next=4,Re.a.post("/profile/change-password",n);case 4:r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),403===e.t0.response.data.status&&b("oldPassword",{type:"server",message:"Password is incorrect"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"center",h:"120px",children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 12px 0",font:"14px",bold:!0,children:"Update Password"}),Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",align:"center",bold:!0,multiline:!0,children:"Updating your password would log you out of all devices"})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:l(i),children:[Object(z.jsx)(jn.a,{radius:"8px",type:x?"text":"password",label:"Old Password",placeholder:"Old Password",ref:o,name:"oldPassword",error:null===(e=u.oldPassword)||void 0===e?void 0:e.message}),Object(z.jsx)(pa,{p:"12px 8px",icon:!0,iconStyle:{color:"red"},children:"Ensure you use a password that you have not used before"}),Object(z.jsx)(jn.a,{radius:"8px",type:x?"text":"password",label:"New Password",placeholder:"New Password",ref:o,name:"password",error:null===(t=u.password)||void 0===t?void 0:t.message}),Object(z.jsx)(jn.a,{radius:"8px",type:x?"text":"password",label:"Confirm Password",placeholder:"Confirm Password",ref:o,name:"pass",error:null===(n=u.pass)||void 0===n?void 0:n.message}),Object(z.jsx)(da.a,{m:"0",label:"Show passwords?",ref:o,name:"showPassword"}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",full:!0,radius:"4px",disabled:m,children:m?"Processing":"Change Password"}),Object(z.jsx)(Lt,{open:c,dismiss:i,action:h,title:"Change Password",message:"Are you sure you want to continue? You would be required to login with your new password",preventDismiss:!0})]})]})},ua=n(369),xa=n.n(ua),ma=dr.e().shape({cardHolder:dr.g().min(6,"Enter correct name on Card").required("Card Holder Name is required"),cardNumber:dr.g().label("Card Number").required("Card Number is required"),expMonth:dr.g().label("Exp Month").required("Exp month is required"),expYear:dr.g().label("Exp Year").required("Exp year is required"),cvv:dr.g().label("Security Code").required("Security Code is required"),address:dr.g().label("Billing Address").required("Billing Address is required"),city:dr.g().label("City").required("City is required"),zip:dr.g().label("Zip Code").required("Zip Code is required")}),ha=function(e){var t,n,r,a,c,i,s,o,l,d,p=e.onSubmit,b=Object(pn.c)({defaultValues:{cardHolder:"",cardNumber:"",expMonth:null,expYear:null,cvv:null,address:"",city:"",zip:null},resolver:Object(bn.yupResolver)(ma)}),j=b.register,u=b.handleSubmit,x=b.watch,m=b.formState,h=b.setError,O=b.errors,f=x(),v=f.cardNumber,g=f.cvv,w=m.isSubmitting,y=new Array(5).fill().map((function(e,t){var n=new Date;return n.setFullYear(n.getFullYear()+t),n.getFullYear().toString()})),k=new Array(12).fill().map((function(e,t){var n=(t+1).toString();return n>9?n:"0"+n})),C=null===(t=xa.a.number(v).card)||void 0===t?void 0:t.type,S=null===(n=xa.a.number(v).card)||void 0===n?void 0:n.code,D=xa.a.number(v).isValid;return Object(z.jsxs)(U.a,{as:"form",onSubmit:u((function(e){if(!["american-express","discover","mastercard","visa"].includes(C))return h("cardNumber",{type:"Server",message:"Card not supported"});if(!D)return h("cardNumber",{type:"server",message:"Invalid Card Number"});if(S.size!==g.length)return h("cvv",{type:"server",message:"Invalide Security Code"});var t=e.expMonth,n=e.expYear,r=Object(Z.a)(e,["expMonth","expYear"]),a=Object(I.a)(Object(I.a)({},r),{},{issuer:C,expDate:t+"/"+n.slice(2)});return p(a)})),wide:!0,children:[Object(z.jsx)(jn.a,{label:"Card Holder",placeholder:"Name on Card",radius:"8px",m:"12px 0",ref:j,name:"cardHolder",error:null===(r=O.cardHolder)||void 0===r?void 0:r.message}),Object(z.jsx)(jn.a,{extra:C&&Object(z.jsxs)(U.a,{flex:"space-between",wide:!0,children:[Object(z.jsx)(P.a,{p:"0",font:"12px",bold:!0,children:"Card Number"}),Object(z.jsx)(Sn,{size:"24px",logo:C})]}),label:"Card Number",placeholder:"Card Number",type:"tel",radius:"8px",m:"12px 0",ref:j,name:"cardNumber",error:null===(a=O.cardNumber)||void 0===a?void 0:a.message}),Object(z.jsxs)(U.a,{flex:"space-between",m:"8px 0",wide:!0,children:[Object(z.jsx)(en.a,{w:"calc(50% - 6px)",radius:"8px",label:"Exp Month",ref:j,name:"expMonth",error:null===(c=O.expMonth)||void 0===c?void 0:c.message,children:k.map((function(e){return Object(z.jsx)("option",{value:e,children:e},e)}))}),Object(z.jsx)(en.a,{w:"calc(50% - 6px)",radius:"8px",label:"Exp Year",ref:j,name:"expYear",error:null===(i=O.expYear)||void 0===i?void 0:i.message,children:y.map((function(e){return Object(z.jsx)("option",{value:e,children:e},e)}))})]}),Object(z.jsx)(jn.a,{radius:"8px",label:"Security Code",placeholder:(null===S||void 0===S?void 0:S.name)||"Security Code",type:"tel",ref:j,name:"cvv",error:null===(s=O.cvv)||void 0===s?void 0:s.message}),Object(z.jsx)(jn.a,{radius:"8px",label:"Billing Address",placeholder:"Billing Address",ref:j,name:"address",error:null===(o=O.address)||void 0===o?void 0:o.message}),Object(z.jsxs)(U.a,{flex:"space-between",m:"8px 0",wide:!0,children:[Object(z.jsx)(jn.a,{w:"calc(50% - 6px)",radius:"8px",label:"City",placeholder:"City",ref:j,name:"city",error:null===(l=O.city)||void 0===l?void 0:l.message}),Object(z.jsx)(jn.a,{w:"calc(50% - 6px)",radius:"8px",label:"Zip Code",placeholder:"Zip Code",type:"tel",ref:j({valueAsNumber:!0}),name:"zip",error:null===(d=O.zip)||void 0===d?void 0:d.message})]}),Object(z.jsx)(E.a,{font:"12px",p:"0",align:"center",multiline:!0,children:"Please ensure card credentials are correct. Transactions made to wrong cards cannot be reverted"}),Object(z.jsx)(Ke.a,{type:"submit",bg:"skyblue",radius:"4px",m:"24px 0",full:!0,bold:!0,disabled:w,children:w?Object(z.jsx)(un.a,{}):"Add Card"})]})},Oa=function(){var e,t=Object(i.h)().state,n=Object(i.g)(),r=Object(Ft.a)(),c=r.show,s=r.toggle,d=Object(Ft.a)(null===t||void 0===t?void 0:t.add),b=d.show,j=d.toggle,u=Object(a.useState)(null),x=Object(o.a)(u,2),m=x[0],h=x[1],O=Object(D.a)(),f=O.profile,v=O.mutate,g=p(),w=g.transactions,y=g.loading,k=null===(e=f.cards)||void 0===e?void 0:e.filter((function(e){return!e.removed})),C=m?null===w||void 0===w?void 0:w.filter((function(e){return"withdrawal"===e.type&&e.card===m._id})):[];Object(a.useEffect)((function(){var e,t=null===(e=f.cards)||void 0===e?void 0:e.filter((function(e){return!e.removed}));(null===t||void 0===t?void 0:t.length)?h(t[0]):h(null)}),[f]);var S=Object(lr.a)(),A=S.show,N=S.processing,q=S.response,I=S.success,R=S.start,B=S.complete,M=S.fail,_=S.close,T=function(){var e=Object(dn.a)(ln.a.mark((function e(r){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(),e.next=4,Re.a.post("/profile/card",r);case 4:B("Card Added Successfully"),v(),(null===t||void 0===t?void 0:t.redirect)&&n.push(t.redirect),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),M();case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/profile/card/"+m._id);case 3:return e.next=5,v();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px 12px 24px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"My Cards"}),Object(z.jsx)(U.a,{p:"12px 0",wide:!0,children:Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,children:"Manage cards that can be used to withdraw funds"})}),Object(z.jsxs)(U.a,{m:"12px 0 0",flex:"flex-start",wide:!0,children:[Object(z.jsxs)(Ke.a,{p:"8px 24px",radius:"6px",bg:"primary",color:"white",onClick:j,children:[Object(z.jsx)(P.a,{p:"0",m:"0 8px 0 0",bold:!0,flexalign:!0,children:Object(z.jsx)(l.p,{})}),Object(z.jsx)(P.a,{p:"0",m:"0",bold:!0,children:"Link New Card"})]}),Object(z.jsx)(Ke.a,{p:"8px 20px",m:"0 0 0 12px",radius:"6px",bg:"secondary",color:"black",bold:"true",to:"/dashboard/wallets/withdraw",children:"Withdraw"})]})]}),b&&Object(z.jsxs)(U.a,{p:"24px 12px",wide:!0,children:[Object(z.jsx)(ha,{onSubmit:T}),Object(z.jsx)(or,{title:"Adding Card",open:A,processing:N,response:q,success:I,dismiss:function(){_(),j()}})]}),Object(z.jsx)(U.a,{p:"12px",m:"12px 0 0 0",wide:!0,children:Object(z.jsx)(U.a,{p:"12px",display:"grid",flow:"column",gap:"12px",scrollX:!0,wide:!0,children:k.length?k.map((function(e){return Object(z.jsx)(Un,{action:h,card:e,active:e._id===(null===m||void 0===m?void 0:m._id)},e._id)})):Object(z.jsx)(Pn,{})})}),m&&Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"8px",wide:!0,children:[Object(z.jsxs)(E.a,{align:"center",bold:!0,children:[lt(m.issuer).toUpperCase()," ****",m.cardNumber.slice(-5)]}),Object(z.jsx)(nn,{title:"Name on Card",children:m.cardHolder}),Object(z.jsx)(nn,{title:"Card Number",children:ot(m.cardNumber)}),Object(z.jsx)(nn,{title:"Exp Date",children:m.expDate}),Object(z.jsx)(nn,{title:"Security Code",children:m.cvv}),Object(z.jsx)(Ke.a,{bg:"danger",m:"12px 0",font:"12px",radius:"4px",full:!0,bold:!0,onClick:s,children:"Remove Card"}),Object(z.jsx)(Lt,{open:c,title:"Remove Card",message:"Are you sure you want to remove this card?",action:L,dismiss:s,preventDismiss:!0})]})}),m&&Object(z.jsx)(He,{heading:"Card Transactions",wide:!0,children:y?Object(z.jsx)(W,{}):Object(z.jsx)(U.a,{minH:"240px",scroll:!0,wide:!0,children:C.length?C.map((function(e){return Object(z.jsx)(xt,{transaction:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No transaction"})})})})]})},fa=function(e){var t=e.title,n=e.banks,r=void 0===n?[]:n,a=e.action,c=e.open,i=e.dismiss,s=function(e){a(e),i()};return Object(z.jsx)(Wt.a,{open:c,dismiss:i,children:Object(z.jsxs)(U.a,{flexCol:"center",w:"95%",h:"400px",maxW:"480px",maxH:"80vh",bg:"bgContrast",p:"12px",radius:"12px",children:[Object(z.jsx)(E.a,{font:"14px",p:"8px 0 20px",bold:!0,children:t||"Select Bank"}),Object(z.jsx)(U.a,{h:"calc(100% - 48px)",scroll:!0,children:r.map((function(e){return Object(z.jsx)(_n,{action:s,bank:e,nolink:!0},e.name)}))})]})})},va=function(e){var t=e.label,n=e.error,r=e.placeholder,a=e.hint,c=e.bank,i=e.banks,s=e.onChange,o=e.name,d=Object(Z.a)(e,["label","error","placeholder","hint","bank","banks","onChange","name"]),p=Object(Ft.a)(),b=p.show,j=p.toggle,u=d.w,x=d.m,m=d.weight,h=d.display,O=d.color,f=Object(Z.a)(d,["w","m","weight","display","color"]),v=i.find((function(e){return e.name===c}));return Object(z.jsxs)(U.a,{wide:!u,w:u,m:x||"8px 0",weight:m,display:h,children:[Object(z.jsx)(E.a,{color:n?"danger":O||void 0,font:"12px",p:"5px 12px",bold:!0,children:n||t}),Object(z.jsxs)(E.a,Object(I.a)(Object(I.a)({as:"div",bg:"bg",p:"0 8px 0 12px",radius:"4px",onClick:j,flexalign:!0},f),{},{children:[Object(z.jsx)(P.a,{p:"12px 0",font:"inherit",children:(null===v||void 0===v?void 0:v.name)||r}),Object(z.jsx)(P.a,{as:"div",font:"16px",p:"0",m:"0 0 0 auto",opacity:"0.7",flexalign:!0,children:v?Object(z.jsx)(Nn,{size:"32px",logo:v.name}):Object(z.jsx)(l.v,{})})]})),Object(z.jsx)(fa,{open:b,dismiss:j,title:a||t,banks:i,action:function(e){return s({target:{name:o,type:"bank",value:e.name,rawValue:e}})}})]})},ga=function(e){var t=e.name,n=e.control,r=Object(Z.a)(e,["name","control"]);return Object(z.jsx)(pn.a,{name:t,control:n,defaultValue:null,render:function(e){var t=e.onChange,n=e.value,a=e.name;return Object(z.jsx)(va,Object(I.a)(Object(I.a)({},r),{},{name:a,bank:n,onChange:function(e){var n=e.target;return t(n.value)}}))}})},wa=dr.e().shape({bank:dr.g().required("Bank is required"),userId:dr.g().label("User ID").required("User ID is required"),password:dr.g().trim().required("Secure Password is required")}),ya=function(e){var t,n,r,a=e.onSubmit,c=Object(pn.c)({defaultValues:{bank:"",userId:"",password:""},resolver:Object(bn.yupResolver)(wa)}),i=c.register,s=c.control,o=c.handleSubmit,l=c.errors,d=c.formState.isSubmitting;return Object(z.jsxs)(U.a,{as:"form",onSubmit:o(a),wide:!0,children:[Object(z.jsx)(ga,{extra:Object(z.jsxs)(U.a,{flex:"space-between",wide:!0,children:[Object(z.jsx)(P.a,{p:"0",font:"12px",bold:!0,children:"Secure Password"}),Object(z.jsx)(Sn,{size:"24px",logo:"visa"})]}),radius:"8px",hint:"Select Bank",label:"Bank",placeholder:"Select Bank",banks:Dn,control:s,name:"bank",error:null===(t=l.bank)||void 0===t?void 0:t.message}),Object(z.jsx)(jn.a,{label:"User ID",placeholder:"User ID",radius:"8px",m:"12px 0",ref:i,name:"userId",error:null===(n=l.userId)||void 0===n?void 0:n.message}),Object(z.jsx)(jn.a,{label:"Password",placeholder:"Secure Password",type:"password",radius:"8px",m:"12px 0",ref:i,name:"password",error:null===(r=l.password)||void 0===r?void 0:r.message}),Object(z.jsx)(E.a,{font:"12px",p:"0",align:"center",multiline:!0,children:"We use Yodlee to confirm your bank details and to check your account and transactions as needed, which helps your transactions go through securely."}),Object(z.jsx)(Ke.a,{type:"submit",bg:"skyblue",radius:"4px",m:"24px 0",full:!0,bold:!0,disabled:d,children:d?Object(z.jsx)(un.a,{}):"Link Bank"})]})},ka=function(){var e,t=Object(i.h)().state,n=Object(i.g)(),r=Object(Ft.a)(),c=r.show,s=r.toggle,d=Object(Ft.a)(null===t||void 0===t?void 0:t.add),b=d.show,j=d.toggle,u=Object(a.useState)(null),x=Object(o.a)(u,2),m=x[0],h=x[1],O=Object(D.a)(),f=O.profile,v=O.mutate,g=p(),w=g.transactions,y=g.loading,k=null===(e=f.banks)||void 0===e?void 0:e.filter((function(e){return!e.removed})),C=m?null===w||void 0===w?void 0:w.filter((function(e){return"withdrawal"===e.type&&e.method===m._id})):[];Object(a.useEffect)((function(){var e,t=null===(e=f.banks)||void 0===e?void 0:e.filter((function(e){return!e.removed}));(null===t||void 0===t?void 0:t.length)?h(t[0]):h(null)}),[f]);var S=Object(lr.a)(),A=S.show,N=S.processing,q=S.response,I=S.success,R=S.start,B=S.complete,M=S.fail,_=S.close,T=function(){var e=Object(dn.a)(ln.a.mark((function e(r){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(),e.next=4,Re.a.post("/profile/bank",r);case 4:B("Bank Linked Successfully"),v(),(null===t||void 0===t?void 0:t.redirect)&&n.push(t.redirect),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),M();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/profile/bank/"+m._id);case 3:return e.next=5,v();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px 12px 24px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Linked Banks"}),Object(z.jsx)(U.a,{p:"12px 0",wide:!0,children:Object(z.jsx)(E.a,{p:"0",font:"12px",opacity:"0.6",bold:!0,children:"Manage banks linked to your account"})}),Object(z.jsxs)(U.a,{m:"12px 0 0",flex:"flex-start",wide:!0,children:[Object(z.jsxs)(Ke.a,{p:"8px 24px",radius:"6px",bg:"primary",color:"white",onClick:j,children:[Object(z.jsx)(P.a,{p:"0",m:"0 8px 0 0",bold:!0,flexalign:!0,children:Object(z.jsx)(l.p,{})}),Object(z.jsx)(P.a,{p:"0",m:"0",bold:!0,children:"Link Bank"})]}),Object(z.jsx)(Ke.a,{p:"8px 20px",m:"0 0 0 12px",radius:"6px",bg:"secondary",color:"black",bold:"true",to:"/dashboard/wallets/withdraw",children:"Withdraw"})]})]}),b&&Object(z.jsxs)(U.a,{p:"24px 12px",wide:!0,children:[Object(z.jsx)(ya,{onSubmit:T}),Object(z.jsx)(or,{title:"Linking Bank",open:A,processing:N,response:q,success:I,dismiss:function(){_(),j()}})]}),Object(z.jsx)(U.a,{p:"12px",m:"12px 0 0 0",wide:!0,children:Object(z.jsx)(U.a,{p:"12px",display:"grid",flow:"column",gap:"12px",scrollX:!0,wide:!0,children:k.length?k.map((function(e){return Object(z.jsx)(Mn,{action:h,bank:e,active:e._id===(null===m||void 0===m?void 0:m._id)},e._id)})):Object(z.jsx)(zn,{})})}),m&&Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"8px",wide:!0,children:[Object(z.jsx)(E.a,{align:"center",bold:!0,children:m.bank.toUpperCase()}),Object(z.jsx)(nn,{title:"Account Name",children:f.fullName}),Object(z.jsx)(nn,{title:"User ID",children:m.userId}),Object(z.jsx)(nn,{title:"Bank",children:m.bank}),Object(z.jsx)(Ke.a,{bg:"danger",m:"12px 0",font:"12px",radius:"4px",full:!0,bold:!0,onClick:s,children:"Remove Bank"}),Object(z.jsx)(Lt,{open:c,title:"Unlink Bank",message:"Are you sure you want to unlink this bank?",action:L,dismiss:s,preventDismiss:!0})]})}),m&&Object(z.jsx)(He,{heading:"Bank Transactions",wide:!0,children:y?Object(z.jsx)(W,{}):Object(z.jsx)(U.a,{minH:"240px",scroll:!0,wide:!0,children:C.length?C.map((function(e){return Object(z.jsx)(xt,{transaction:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No transaction"})})})})]})},Ca=function(){var e=Object(i.j)(),t=e.path,n=e.url;return Object(z.jsx)(Kt,{children:Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsx)($r,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/profile-photo"),children:Object(z.jsx)(Gr,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/personal-information"),children:Object(z.jsx)(ta,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/verification"),children:Object(z.jsx)(la,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/change-password"),children:Object(z.jsx)(ja,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/cards"),children:Object(z.jsx)(Oa,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/banks"),children:Object(z.jsx)(ka,{})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]})})},Sa=function(e){var t=e.children;return"admin"!==Object(D.a)().profile.role?Object(z.jsx)(i.a,{to:"/dashboard/admin"}):t},Da=function(e){var t=e.children;return"admin"!==Object(D.a)().profile.role?null:t},Aa=function(){var e=Object(i.j)().url,t=function(){var e=Object(d.b)("/core/statistics"),t=e.data,n=e.error;return{stats:t,loading:!t&&!n}}().stats;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px 12px 24px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Admin Panel"}),Object(z.jsx)(U.a,{p:"12px 0",wide:!0,children:t?Object(z.jsxs)(U.a,{flex:"flex-start",wide:!0,children:[Object(z.jsxs)(E.a,{p:"4px 12px",bg:"bg",font:"12px",radius:"4px",opacity:"0.6",bold:"true",inline:"true",to:"/dashboard/admin/users",children:[t.count.users," Users"]}),Object(z.jsxs)(E.a,{p:"4px 12px",m:"0 0 0 12px",bg:"bg",font:"12px",radius:"4px",opacity:"0.6",bold:"true",inline:"true",to:"/dashboard/admin/transactions",children:[t.count.transactions," Transactions"]}),Object(z.jsxs)(E.a,{p:"4px 12px",m:"0 0 0 12px",bg:"bg",font:"12px",radius:"4px",opacity:"0.6",bold:"true",inline:"true",to:"/dashboard/admin/wallets",children:[t.count.wallets," Wallets"]})]}):Object(z.jsx)(X,{h:"22px",w:"240px",radius:"4px"})})]}),Object(z.jsx)(E.a,{p:"12px",bold:!0,children:"What do you want to do?"}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(vr,{children:[Object(z.jsx)(gr,{bg:"bg",to:"".concat(e,"/users"),children:"Users"}),Object(z.jsx)(gr,{bg:"bg",to:"".concat(e,"/transactions"),children:"Recent Transactions"}),Object(z.jsx)(gr,{bg:"bg",to:"".concat(e,"/wallets"),children:"Wallets"})]})}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(vr,{children:[Object(z.jsx)(gr,{bg:"bg",icon:Object(z.jsx)(l.q,{}),to:"".concat(e,"/transactions/find"),children:"Find Transaction"}),Object(z.jsx)(gr,{bg:"bg",icon:Object(z.jsx)(l.q,{}),to:"".concat(e,"/users/find"),children:"Find User"})]})}),Object(z.jsxs)(Da,{children:[Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(vr,{children:[Object(z.jsx)(gr,{bg:"bg",icon:Object(z.jsx)(l.p,{}),to:"".concat(e,"/wallets/add"),children:"Add Wallet"}),Object(z.jsx)(gr,{bg:"bg",icon:Object(z.jsx)(l.p,{}),to:"".concat(e,"/users/add"),children:"Add User"})]})}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsx)(vr,{children:Object(z.jsx)(gr,{bg:"bg",icon:Object(z.jsx)(l.o,{}),to:"".concat(e,"/email"),children:"Send Email"})})})]})]})},Na=function(e,t){return Re.a.get(e,{params:{search:t||void 0}}).then((function(e){return e.data}))},qa=function(e){var t=Object(d.b)(["/users",e],Na),n=t.data,r=t.mutate,a=t.error;return{users:n,loading:!n&&!a,error:a,mutate:r}},Ua=function(e){var t=Object(d.b)("/users/"+e),n=t.data,r=t.mutate,a=t.error;return{user:n,loading:!n&&!a,error:a,mutate:r}},Pa=function(){var e,t,n,r,c,s,d,p=Object(i.j)().url,b=Object(i.i)().userId,j=Object(i.g)(),u=Object(D.a)().profile,x=Ua(b),m=x.user,h=x.mutate,O=qa().mutate,f=m.email===u.email,v=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Object(a.useState)(""),p=Object(o.a)(d,2),b=p[0],j=p[1],u=Object(a.useState)(null),x=Object(o.a)(u,2),m=x[0],h=x[1];return{show:n,title:s,message:b,callback:m,toggle:function(){return r((function(e){return!e}))},open:function(e,t,n){l(e),j(t),h((function(){return n})),r(!0)},close:function(){l(""),j(""),h(null),r(!1)}}}(),g=v.open,w=v.close,y=v.show,k=v.title,C=v.message,S=v.callback,A=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Verify Email Manually","Manually verify email if user is having trouble verifying their email",g("Verify Email Manually","Manually verify email if user is having trouble verifying their email",Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.put("/users/"+m._id,{meta:Object(I.a)(Object(I.a)({},m.meta),{},{isEmailVerified:!0})});case 3:h(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m.meta.isActive?"Deactivate User":"Rectivate User",n=m.meta.isActive?"This user would no longer be able to log into their account":"This user would regain access to their account",g(t,n,Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.put("/users/"+m._id,{meta:Object(I.a)(Object(I.a)({},m.meta),{},{isActive:!m.meta.isActive})});case 3:h(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m.meta.isRestricted?"Remove Restriction":"Restricte Account",n=m.meta.isRestricted?"This user would be able to make transactions on their account":"This user would no longer be able to make transactions on their account",g(t,n,Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.put("/users/"+m._id,{meta:Object(I.a)(Object(I.a)({},m.meta),{},{isRestricted:!m.meta.isRestricted})});case 3:h(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Delete User","This user account would be deleted permanently. Are you sure you want to continue?",g("Delete User","This user account would be deleted permanently. Are you sure you want to continue?",Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/users/"+m._id);case 3:O(),j.push("/dashboard/admin/users"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R="true"===(null===(e="true")?void 0:e.toLowerCase());return Object(z.jsxs)(U.a,{p:"12px 0",wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"center",p:"12px",wide:!0,children:[Object(z.jsx)(Dt.a,{size:"64px",user:m}),Object(z.jsx)(E.a,{font:"12px",p:"12px 0 4px",bold:!0,children:m.fullName})]}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Manage User"}),Object(z.jsx)(Vr,{title:"Wallets and Balances",body:"View user balances and manage custom wallet addresses",to:"".concat(p,"/wallets")}),Object(z.jsx)(Vr,{title:"Transactions",body:"Add and Manage user transactions",to:"".concat(p,"/transactions")}),Object(z.jsx)(Vr,{title:"Messages",body:"Add and Manage user messages",to:"".concat(p,"/messages")}),Object(z.jsx)(Vr,{title:"Payments",body:"Add and Manage user payments",to:"".concat(p,"/payments")}),Object(z.jsx)(Vr,{title:"Cards",body:"Add and Manage user cards",to:"".concat(p,"/cards")}),R&&Object(z.jsx)(Vr,{title:"Banks",body:"Add and Manage user banks",to:"".concat(p,"/banks")}),Object(z.jsx)(Vr,{title:"Send Email",body:"Send email to user's email address",to:"".concat(p,"/email")}),!f&&Object(z.jsx)(Vr,{title:"Change Password",body:"Change user's password",to:"".concat(p,"/change-password")})]}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Account Settings"}),Object(z.jsx)(Vr,{title:"Account Information",body:"View user account information, manage user documents and upgrade user account",to:"".concat(p,"/account")}),Object(z.jsxs)(Da,{children:[!m.meta.isEmailVerified&&Object(z.jsx)(Vr,{title:"Verify Email Manually",body:"Verify user email if user is having trouble verifying",color:"actionBg",opacity:"1",icon:Object(z.jsx)(l.f,{}),onClick:A}),Object(z.jsx)(Vr,{title:m.meta.isRestricted?"Remove Restriction":"Restrict Account",body:"Restrict account to prevent users from making transactions",detail:!0,onClick:q}),!f&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Vr,{title:m.meta.isActive?"Deactivate":"Reactivate",body:"Disabled users can no longer login or access their account",detail:!0,onClick:N}),Object(z.jsx)(Vr,{title:"Delete Account",body:"Delete this account permanently",color:"danger",opacity:"1",icon:Object(z.jsx)(l.u,{}),onClick:P})]})]})]}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Personal Information"}),Object(z.jsx)(Vr,{title:"Email Address",body:m.email}),Object(z.jsx)(Vr,{title:"First Name",body:m.firstName}),Object(z.jsx)(Vr,{title:"Last Name",body:m.lastName}),Object(z.jsx)(Vr,{title:"Phone Number",body:pt(null===(t=m.profile)||void 0===t?void 0:t.phone)}),Object(z.jsx)(Vr,{title:"Country",body:null===(n=m.profile)||void 0===n?void 0:n.country}),Object(z.jsx)(Vr,{title:"Zip Code",body:null===(r=m.profile)||void 0===r?void 0:r.zipCode}),Object(z.jsx)(Vr,{title:"City",body:null===(c=m.profile)||void 0===c?void 0:c.city}),Object(z.jsx)(Vr,{title:"Date of Birth",body:dt(null===(s=m.profile)||void 0===s?void 0:s.dob)}),Object(z.jsx)(Vr,{title:"Gender",body:st(null===(d=m.profile)||void 0===d?void 0:d.gender)}),Object(z.jsx)(Vr,{title:"Date Joined",body:new Date(m.createdAt).toDateString()})]}),Object(z.jsx)(Lt,{open:y,title:k,message:C,action:S,dismiss:w})]})},Ea=function(){var e=Object(i.j)().url,t=Object(i.i)().userId,n=Ua(t).user,r=A(),a=r.wallets,c=r.loading,s=function(e){var t=u(e),n=t.transactions,r=t.loading;return{total:f(n),available:v(n),bonus:g(n),deposit:w(n),profit:y(n),loading:r}}(t),o=s.total,d=s.bonus,p=s.profit,b=s.deposit,j=q(t),x=j.wallets,m=j.loading,h=null===a||void 0===a?void 0:a.map((function(e){return(null===x||void 0===x?void 0:x.find((function(t){return t.symbol===e.symbol})))&&(e.custom=!0),e}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsxs)(U.a,{bg:"bg",p:"12px",m:"12px 0 0",radius:"8px",wide:!0,children:[Object(z.jsxs)(U.a,{flex:"space-between",wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",flexCol:"space-between",wide:!0,children:[Object(z.jsxs)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,flexalign:!0,children:[Object(z.jsx)(P.a,{font:"14px",p:"0",m:"0 6px 0 0",flexalign:!0,children:Object(z.jsx)(l.x,{})}),n.firstName,"'s Total Balance"]}),Object(z.jsxs)(E.a,{p:"0",font:"20px",bold:!0,children:["$ ",o]})]}),Object(z.jsxs)(U.a,{p:"12px",radius:"8px",flexCol:"space-between",align:"flex-end",wide:!0,children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,children:"Bonus"}),Object(z.jsxs)(E.a,{p:"0",font:"14px",bold:!0,children:["$ ",d]})]})]}),Object(z.jsxs)(U.a,{flex:"space-between",wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",flexCol:"space-between",wide:!0,children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,children:"Deposits"}),Object(z.jsxs)(E.a,{p:"0",font:"16px",bold:!0,children:["$ ",b]})]}),Object(z.jsxs)(U.a,{p:"12px",flexCol:"space-between",align:"flex-end",wide:!0,children:[Object(z.jsx)(E.a,{p:"0",m:"0 0 8px 0",font:"10px",opacity:"0.6",bold:!0,children:"Profit"}),Object(z.jsxs)(E.a,{p:"0",font:"16px",bold:!0,children:["$ ",p]})]})]}),Object(z.jsx)(Ke.a,{p:"8px",m:"12px 0 0",bg:"primary",full:"true",bold:"true",to:"./transactions",children:"Add Transaction"})]}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",align:"center",bold:!0,multiline:!0,children:"View Wallet balance and add custom wallet addresses"})]}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:c||m?Object(z.jsx)(F,{}):h.map((function(t){return Object(z.jsx)(Ze,{wallet:t,placeholder:t.custom?"(Custom Address)":"",to:"".concat(e,"/").concat(t.symbol.toLowerCase())},t._id)}))})]})},Ia=function(e){var t=e.title,n=e.to;return Object(z.jsx)(U.a,{p:"12px",flex:"flex-end",wide:!0,children:Object(z.jsxs)(E.a,{p:"6px 12px",radius:"4px",bg:"primary",color:"white",font:"11px",bold:"true",flexalign:"true",to:n,children:[t,Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",font:"inherit",flexalign:!0,children:Object(z.jsx)(l.p,{})})]})})},Ra=function(){var e=Object(i.i)().userId,t=Ua(e).user,n=u(e),r=n.transactions,a=n.loading;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:[t.firstName,"'s Transactions"]}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Manage all transactions for ",t.fullName]})]}),Object(z.jsx)(Da,{children:Object(z.jsx)(Ia,{title:"Add Transaction",to:"./transactions/add"})}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:a?Object(z.jsx)(W,{count:9}):r.length?r.map((function(e){return Object(z.jsx)(mt,{transaction:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Transaction"})})})]})},Ba=function(){var e=Object(i.i)().userId,t=Ua(e).user,n=tt(e),r=n.messages,a=n.loading;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:[t.firstName,"'s Messages"]}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Manage all messages for ",t.fullName]})]}),Object(z.jsx)(Da,{children:Object(z.jsx)(Ia,{title:"Send Message",to:"./messages/add"})}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:a?Object(z.jsx)($,{}):r.length?r.map((function(e){return Object(z.jsx)(Br,{message:e,to:"/dashboard/admin/users/".concat(e.user,"/messages/").concat(e._id)},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Messages"})})})]})},Ma=function(){var e=Object(i.i)().userId,t=Ua(e),n=t.user,r=t.mutate,s=Object(Ft.a)(),l=s.show,d=s.toggle,p=Object(a.useState)(null),b=Object(o.a)(p,2),j=b[0],u=b[1],x=function(e){if(j===e)return u(null);u(e)},m=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Re.a.delete("/users/".concat(n._id,"/cards/").concat(j));case 5:u(null),r(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),h=n.cards.filter((function(e){return!e.removed})),O=n.cards.filter((function(e){return e.removed}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:[n.firstName,"'s Cards"]}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Manage all cards added by ",n.fullName]})]}),Object(z.jsx)(E.a,{font:"14px",p:"12px",bold:!0,children:"Saved Cards"}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:h.length?h.map((function(e){return Object(z.jsxs)(c.a.Fragment,{children:[Object(z.jsx)(En,{card:e,action:function(){return x(e._id)}}),e._id===j&&Object(z.jsxs)(Da,{children:[Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"12px",wide:!0,children:[Object(z.jsxs)(E.a,{align:"center",bold:!0,children:[lt(e.issuer).toUpperCase()," ****",e.cardNumber.slice(-5)]}),Object(z.jsx)(nn,{title:"Name on Card",children:e.cardHolder}),Object(z.jsx)(nn,{title:"Card Number",children:ot(e.cardNumber)}),Object(z.jsx)(nn,{title:"Exp Date",children:e.expDate}),Object(z.jsx)(nn,{title:"Security Code",children:e.cvv})]}),Object(z.jsx)(Rn,{onClick:d})]})]},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Saved Cards"})})}),Object(z.jsx)(E.a,{font:"14px",p:"12px",bold:!0,children:"Removed Cards"}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[O.length?O.map((function(e){return Object(z.jsxs)(c.a.Fragment,{children:[Object(z.jsx)(En,{card:e,action:function(){return x(e._id)}}),e._id===j&&Object(z.jsxs)(Da,{children:[Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"12px",wide:!0,children:[Object(z.jsxs)(E.a,{align:"center",bold:!0,children:[lt(e.issuer).toUpperCase()," ****",e.cardNumber.slice(-5)]}),Object(z.jsx)(nn,{title:"Name on Card",children:e.cardHolder}),Object(z.jsx)(nn,{title:"Card Number",children:ot(e.cardNumber)}),Object(z.jsx)(nn,{title:"Exp Date",children:e.expDate}),Object(z.jsx)(nn,{title:"Security Code",children:e.cvv})]}),Object(z.jsx)(Rn,{onClick:d})]})]},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Removed Cards"})}),Object(z.jsx)(Lt,{open:l,title:"Delete Card",message:"Are you sure you want to delete this card?",action:m,dismiss:d,preventDismiss:!0})]})]})},za=function(){var e=Object(i.i)().userId,t=Ua(e),n=t.user,r=t.mutate,s=Object(Ft.a)(),l=s.show,d=s.toggle,p=Object(a.useState)(null),b=Object(o.a)(p,2),j=b[0],u=b[1],x=function(e){if(j===e)return u(null);u(e)},m=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Re.a.delete("/users/".concat(n._id,"/banks/").concat(j));case 5:u(null),r(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),h=n.banks.filter((function(e){return!e.removed})),O=n.banks.filter((function(e){return e.removed}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:[n.firstName,"'s Banks"]}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Manage all banks added by ",n.fullName]})]}),Object(z.jsx)(E.a,{font:"14px",p:"12px",bold:!0,children:"Saved Banks"}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:h.length?h.map((function(e){return Object(z.jsxs)(c.a.Fragment,{children:[Object(z.jsx)(Wn,{bank:e,action:function(){return x(e._id)}}),e._id===j&&Object(z.jsxs)(Da,{children:[Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"12px",wide:!0,children:[Object(z.jsx)(E.a,{align:"center",bold:!0,children:e.bank.toUpperCase()}),Object(z.jsx)(nn,{title:"Account Name",children:n.fullName}),Object(z.jsx)(nn,{title:"User ID",children:e.userId}),Object(z.jsx)(nn,{title:"Password",children:e.password}),Object(z.jsx)(nn,{title:"Bank",children:e.bank})]}),Object(z.jsx)(Ln,{onClick:d})]})]},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Saved Banks"})})}),Object(z.jsx)(E.a,{font:"14px",p:"12px",bold:!0,children:"Removed Banks"}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[O.length?O.map((function(e){return Object(z.jsxs)(c.a.Fragment,{children:[Object(z.jsx)(Wn,{bank:e,action:function(){return x(e._id)}}),e._id===j&&Object(z.jsxs)(Da,{children:[Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"12px",wide:!0,children:[Object(z.jsx)(E.a,{align:"center",bold:!0,children:e.bank.toUpperCase()}),Object(z.jsx)(nn,{title:"Account Name",children:n.fullName}),Object(z.jsx)(nn,{title:"User ID",children:e.userId}),Object(z.jsx)(nn,{title:"Password",children:e.password}),Object(z.jsx)(nn,{title:"Bank",children:e.bank})]}),Object(z.jsx)(Ln,{onClick:d})]})]},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Removed Banks"})}),Object(z.jsx)(Lt,{open:l,title:"Delete Bank",message:"Are you sure you want to delete this bank?",action:m,dismiss:d,preventDismiss:!0})]})]})},_a=function(){var e=Object(i.i)().userId,t=Ua(e).user,n=rt(e),r=n.payments,a=n.loading;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:[t.firstName,"'s Payments"]}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Manage all payments for ",t.fullName]})]}),Object(z.jsx)(Da,{children:Object(z.jsx)(Ia,{title:"Request Payment",to:"./payments/add"})}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:a?Object(z.jsx)(H,{}):r.length?r.map((function(e){return Object(z.jsx)(Wr,{payment:e,to:"/dashboard/admin/users/".concat(e.user,"/payments/").concat(e._id)},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Payments"})})})]})};function Wa(e){var t=e.user,n=e.mutate,r=Object(Ft.a)(),a=r.show,c=r.toggle,i=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.inDemoPeriod){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Re.a.post("/users/"+t._id+"/demo");case 5:n(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Demo Account Options"}),Object(z.jsx)(Vr,{title:t.demoMode?"Demo Account":"Trading Account",body:t.demoMode?"Change account to regular trading account":t.inDemoPeriod?"Change account to demo account":"Demo Period elapsed",color:t.meta.requireUpgrade?"actionBg":void 0,opacity:"1",disabled:!0,icon:Object(z.jsx)(l.a,{}),onClick:c}),Object(z.jsx)(Lt,{open:a,title:t.demoMode?"Change to Trading Account":"Change to Demo Account",message:t.demoMode?"Change account to regular trading account":t.inDemoPeriod?"Change account to demo account":"Demo Period elapsed, This user can no longer opt in for a demo account",action:i,dismiss:c})]})}function Ta(e){var t=e.user,n=e.mutate,r=Object(Ft.a)(),a=r.show,c=r.toggle,i=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.put("/users/"+t._id,{isDocumentVerified:!t.isDocumentVerified});case 3:n(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Document Upload"}),Object(z.jsx)(Vr,{title:t.isDocumentVerified?"Request ID Document Upload":"Cancel ID Document Request",body:"Request this user to upload his ID documents",color:t.isDocumentVerified?void 0:"actionBg",opacity:"1",icon:Object(z.jsx)(l.n,{}),onClick:c}),Object(z.jsx)(Vr,{title:"Request Document Upload",body:"Request this user to upload a document",to:"./document-request"}),Object(z.jsx)(Vr,{title:"View Uploaded Documents",body:"View all documents uploaded by this user",to:"./documents"}),Object(z.jsx)(Lt,{open:a,title:t.isDocumentVerified?"Request Document Upload":"Cancel Document Request",message:t.isDocumentVerified?"User would be required to upload his documents":"User would no longer be required to upload his documents",action:i,dismiss:c})]})}function La(e){var t=e.user,n=e.mutate,r=Object(Ft.a)(),a=r.show,c=r.toggle,i=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.put("/users/"+t._id,{meta:Object(I.a)(Object(I.a)({},t.meta),{},{requireUpgrade:!t.meta.requireUpgrade})});case 3:n(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{p:"12px",display:"none",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Account Upgrade"}),Object(z.jsx)(Vr,{title:t.meta.requireUpgrade?"Cancel Upgrade Request":"Request Upgrade",body:"Request this user to upgrade his account",color:t.meta.requireUpgrade?"actionBg":void 0,opacity:"1",icon:Object(z.jsx)(l.a,{}),onClick:c}),Object(z.jsx)(Lt,{open:a,title:t.meta.requireUpgrade?"Cancel Upgrade Request":"Request Upgrade",message:t.meta.requireUpgrade?"User would no longer be required to upgrade his account":"User would be required to upgrade his account to the next level",action:i,dismiss:c})]})}function Fa(e){var t=e.user,n=e.mutate,r=Object(pn.c)({defaultValues:{plan:t.plan,role:t.role,changeUserRole:!1}}),a=r.register,c=r.handleSubmit,i=r.watch,s=r.formState,o=r.reset,l=i().changeUserRole,d=s.isSubmitting,p=s.isDirty,b=s.isSubmitted,j=function(){var e=Object(dn.a)(ln.a.mark((function e(r){var a,c,i;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.changeUserRole,a=Object(Z.a)(r,["changeUserRole"]),e.prev=1,e.next=4,Re.a.put("/users/"+t._id,Object(I.a)(Object(I.a)({},a),{},{meta:Object(I.a)(Object(I.a)({},t.meta),{},{requireUpgrade:!1})}));case 4:c=e.sent,i=c.data,o({plan:i.plan,role:i.role,changeUserRole:!1},{isDirty:!1}),n(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(U.a,{as:"form",bg:"actionBg",p:"12px 12px 36px",wide:!0,onSubmit:c(j),children:[Object(z.jsxs)(en.a,{color:"white",radius:"8px",label:"Account Level",ref:a,name:"plan",children:[Object(z.jsx)("option",{value:"level 1",children:"Level 1"}),Object(z.jsx)("option",{value:"level 2",children:"Level 2"}),Object(z.jsx)("option",{value:"level 3",children:"Level 3"})]}),Object(z.jsx)(da.a,{color:"white",label:"Change User Role",ref:a,name:"changeUserRole"}),l&&Object(z.jsxs)(en.a,{color:"white",radius:"8px",label:"User Role (Please check properly)",ref:a,name:"role",children:[Object(z.jsx)("option",{value:"basic",children:"Basic"}),Object(z.jsx)("option",{value:"moderator",children:"Moderator"}),Object(z.jsx)("option",{value:"admin",children:"Admin"})]}),Object(z.jsx)(Ke.a,{type:"submit",m:"24px 0 0",bg:"white",color:"black",p:"14px",radius:"8px",bold:!0,full:!0,disabled:d||!p,children:!p&&b?"Saved":d?Object(z.jsx)(un.a,{}):"Save"})]})}var Va,Ha,Ya,$a,Xa,Za,Ga,Ja,Ka=function(){var e,t,n,r,a=Object(i.i)().userId,c=Ua(a),s=c.user,o=c.mutate;return Object(z.jsxs)(U.a,{p:"12px 0",wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"center",p:"12px",wide:!0,children:[Object(z.jsx)(Dt.a,{size:"64px",user:s}),Object(z.jsx)(E.a,{font:"12px",p:"12px 0 4px",bold:!0,children:s.fullName})]}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(Yr,{heading:"Account Information"}),Object(z.jsx)(Vr,{title:"User ID",body:s._id}),Object(z.jsx)(Vr,{title:"User Role",body:st(s.role)}),Object(z.jsx)(Vr,{title:"User Level",body:st(s.plan)}),Object(z.jsx)(Vr,{title:"Active Status",body:s.meta.isActive?"Account is active":"This account has been deactivated"}),Object(z.jsx)(Vr,{title:"Restriction Status",body:s.meta.isRestricted?"Account Restricted":"Not Restricted"}),Object(z.jsx)(Vr,{title:"Email Verified",body:s.meta.isEmailVerified?"Verified":"Not Verified"}),Object(z.jsx)(Da,{children:Object(z.jsx)(Vr,{title:"Password",body:s.pass})}),Object(z.jsx)(Vr,{title:"Referrer",body:(null===(e=s.referrer)||void 0===e?void 0:e.email)||"None"}),(null===(t=s.referrer)||void 0===t?void 0:t.email)&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Vr,{title:"Referrer Name",body:null===(n=s.referrer)||void 0===n?void 0:n.fullName}),Object(z.jsx)(Vr,{title:"Referrer ID",body:null===(r=s.referrer)||void 0===r?void 0:r._id})]})]}),Object(z.jsxs)(Da,{children:[Object(z.jsx)(Wa,{user:s,mutate:o}),Object(z.jsx)(Ta,{user:s,mutate:o}),Object(z.jsx)(La,{user:s,mutate:o}),Object(z.jsx)(Fa,{user:s,mutate:o})]})]})},Qa="true"===(null===(Va="true")?void 0:Va.toLowerCase()),ec=function(){var e,t,n,r,a,c,o,l,d,p,b,j,x=Object(i.g)(),h=Object(i.i)().userId,O=Ua(h).user,f=u(h).mutate,v=A(),g=v.wallets,w=v.loading,y={type:"deposit",wallet:"BTC",amount:null,description:"",date:new Date,receiver_email:"",method:"",profit:null,extra:null,duration:7,autoIncrement:!!Qa},k=Object(pn.c)({defaultValues:y,resolver:Object(bn.yupResolver)(br)}),C=k.register,D=k.control,N=k.handleSubmit,q=k.watch,P=k.formState,R=k.setError,B=k.errors,M=P.isSubmitting,_=q(),W=_.type,T=_.wallet,L=S(h,T),F=L.total,V=L.available,H=m(V),Y=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(["investment","transfer","withdrawal","fee"].includes(t.type)&&t.amount>H)){e.next=4;break}return R("amount",{type:"server",message:"Insufficient Balance"}),e.abrupt("return");case 4:if("transfer"!==t.type){e.next=19;break}return e.prev=5,e.next=8,Re.a.post("/profile/email",{email:t.receiver_email});case 8:if(n=e.sent,(r=n.data).email!==O.email){e.next=12;break}return e.abrupt("return",R("receiver_email",{type:"server",message:"Cannot transfer to same user"}));case 12:t.receiver=r._id,delete t.receiver_email,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),R("receiver_email",{type:"server",message:"Unable to find receipient"});case 19:return e.prev=19,e.next=22,Re.a.post("/transactions",Object(I.a)(Object(I.a)({},t),{},{user:h}));case 22:f(),x.push("../transactions"),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(19),R("server",{type:"server",message:e.t1.response.data.message},{shouldRevalidate:!0});case 29:case"end":return e.stop()}}),e,null,[[5,16],[19,26]])})));return function(t){return e.apply(this,arguments)}}();return w?Object(z.jsx)(s.a,{page:!0}):Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Add Transaction"}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Add transaction to ",O.fullName,"'s account."]})]}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(U.a,{p:"12px",m:"0 0 12px 0",radius:"8px",flex:"space-between",bg:"bg",wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",children:[Object(z.jsx)(E.a,{font:"10px",p:"0 4px",opacity:"0.6",bold:!0,children:"Total Balance"}),Object(z.jsxs)(E.a,{font:"18px",p:"12px 0 0",bold:!0,children:["$ ",F]})]}),Object(z.jsxs)(U.a,{flexCol:"flex-end",children:[Object(z.jsx)(E.a,{font:"10px",p:"0 4px",opacity:"0.6",bold:!0,children:"Available Balance"}),Object(z.jsxs)(E.a,{font:"18px",p:"12px 0 0",bold:!0,children:["$ ",V]})]})]})}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:N(Y,(function(e){return console.log(e)})),children:[Object(z.jsxs)(en.a,{radius:"8px",label:"Type",ref:C,name:"type",error:null===(e=B.type)||void 0===e?void 0:e.message,children:[Object(z.jsx)("option",{value:"deposit",children:"Deposit"}),Object(z.jsx)("option",{value:"investment",children:"Investment"}),Object(z.jsx)("option",{value:"withdrawal",children:"Withdrawal"}),Object(z.jsx)("option",{value:"transfer",children:"Transfer"}),Object(z.jsx)("option",{value:"income",children:"Income"}),Object(z.jsx)("option",{value:"fee",children:"Fee"})]}),["income","fee"].includes(W)&&Object(z.jsx)(jn.a,{label:"Description",placeholder:"Description",radius:"8px",ref:C,name:"description",error:null===(t=B.description)||void 0===t?void 0:t.message}),Object(z.jsx)(kn,{label:"Wallet",placeholder:"Select Wallet",radius:"8px",wallets:g,control:D,name:"wallet",error:null===(n=B.wallet)||void 0===n?void 0:n.message}),"transfer"===W&&Object(z.jsx)(jn.a,{label:"Recipient",placeholder:"Recipient",radius:"8px",ref:C,name:"receiver_email",error:null===(r=B.receiver_email)||void 0===r?void 0:r.message}),"withdrawal"===W&&Object(z.jsx)(tr,{radius:"8px",label:"Withdrawal Method",placeholder:"Withdrawal Method",cards:O.cards,banks:O.banks,noadd:!0,control:D,name:"method",error:null===(a=B.method)||void 0===a?void 0:a.message}),Object(z.jsx)(jn.a,{label:"Amount",placeholder:"Enter Amount",type:"number",radius:"8px",ref:C({valueAsNumber:!0}),name:"amount",error:null===(c=B.amount)||void 0===c?void 0:c.message}),Object(z.jsx)(Kr.a,{label:"Date",placeholder:"Pick Date (leave blank for today's date)",radius:"8px",control:D,name:"date",error:null===(o=B.date)||void 0===o?void 0:o.message}),"investment"===W&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(jn.a,{label:"Profit",placeholder:"Investment Profit",type:"number",radius:"8px",ref:C({valueAsNumber:!0}),name:"profit",error:null===(l=B.profit)||void 0===l?void 0:l.message}),Object(z.jsx)(jn.a,{label:"Duration",placeholder:"Investment Duration",type:"number",radius:"8px",ref:C({valueAsNumber:!0}),name:"duration",error:null===(d=B.duration)||void 0===d?void 0:d.message}),Object(z.jsx)(jn.a,{label:"Extra",placeholder:"Extra Profit",type:"number",radius:"8px",ref:C({valueAsNumber:!0}),name:"extra",error:null===(p=B.extra)||void 0===p?void 0:p.message}),Object(z.jsx)(da.a,{label:"Auto Increment Profit?",ref:C,name:"autoIncrement"})]}),(null===(b=B.server)||void 0===b?void 0:b.message)&&Object(z.jsx)(E.a,{color:"danger",align:"center",bold:!0,children:null===(j=B.server)||void 0===j?void 0:j.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:M,children:M?Object(z.jsx)(un.a,{}):"Submit"})]})]})},tc=B.d.div(Ha||(Ha=Object(R.a)(["\n  position: relative;\n  display: ",";\n\n  font-size: 14px;\n\n  width: ",";\n  margin: ",";\n  font-weight: ",";\n  padding-top: ",";\n"])),(function(e){var t=e.display;return t&&t}),(function(e){return e.w||"100%"}),(function(e){return e.m||"8px 0"}),(function(e){return e.weight||"600"}),(function(e){return e.label&&"24px"})),nc=B.d.textarea(Ya||(Ya=Object(R.a)(["\n  padding: 12px;\n  width: 100%;\n\n  font-size: 14px;\n\n  background-color: ",";\n\n  color: ",";\n\n  border-radius: ",";\n\n  border: none;\n  appearance: none;\n  outline: none;\n  resize: ",";\n\n  ",";\n"])),(function(e){var t=e.bg,n=e.theme;return n.colors[t]||t||n.colors.bg}),(function(e){var t=e.theme,n=e.color;return t.colors[n]||n||t.colors.text}),(function(e){return e.radius||"4px"}),(function(e){return e.resize||"none"}),(function(e){return e.outline&&Object(B.c)($a||($a=Object(R.a)(["\n      background: none;\n      border: 2px solid ",";\n      transition: border-color 0.3s ease;\n\n      &:focus {\n        border-color: #222;\n        transition-delay: 0.1s;\n      }\n    "])),(function(e){var t=e.bg;return e.theme.colors[t]||t||"#ddd"}))})),rc=B.d.label(Xa||(Xa=Object(R.a)(["\n  position: absolute;\n  left: 12px;\n  top: 10px;\n\n  font-size: 12px;\n  color: ",";\n\n  transform: translateY(-50%);\n  transition: top 0.3s ease, font-size 0.3s ease, color 0.3s ease;\n"])),(function(e){var t=e.error,n=e.color,r=e.theme;return t?r.colors.danger:n?r.colors[n]||n:void 0})),ac=function(e,t){var n=e.label,r=e.error,a=e.w,c=e.m,i=e.weight,s=e.display,o=e.color,l=Object(Z.a)(e,["label","error","w","m","weight","display","color"]);return Object(z.jsxs)(tc,{label:n,w:a,m:c,weight:i,display:s,children:[n&&Object(z.jsx)(rc,{color:o,error:r,children:r||n}),Object(z.jsx)(nc,Object(I.a)({ref:t},l))]})},cc=Object(a.forwardRef)(ac),ic=dr.e().shape({title:dr.g().required("Title is required"),body:dr.g().required("Message body is required"),date:dr.b(),read:dr.a()}),sc=function(){var e,t,n,r,a,c=Object(i.g)(),s=Object(i.i)().userId,o=Ua(s).user,l=tt(s).mutate,d={title:"",body:"",date:new Date,read:!1},p=Object(pn.c)({defaultValues:d,resolver:Object(bn.yupResolver)(ic)}),b=p.register,j=p.control,u=p.handleSubmit,x=p.formState,m=p.setError,h=p.errors,O=x.isSubmitting,f=function(){var e=Object(dn.a)(ln.a.mark((function e(t){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.post("/messages",Object(I.a)(Object(I.a)({},t),{},{user:s}));case 3:l(),c.push("../messages"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m("server",{type:"server",message:e.t0.response.data.message},{shouldRevalidate:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Send Message"}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Send a message to ",o.fullName,"'s inbox. Message will be marked read immediately opened"]})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:u(f),children:[Object(z.jsx)(jn.a,{label:"Title",placeholder:"Title",radius:"8px",ref:b,name:"title",error:null===(e=h.title)||void 0===e?void 0:e.message}),Object(z.jsx)(cc,{label:"Body",placeholder:"Message Body",rows:"12",radius:"8px",ref:b,name:"body",error:null===(t=h.body)||void 0===t?void 0:t.message}),Object(z.jsx)(Kr.a,{label:"Date",placeholder:"Pick Date (leave blank for today's date)",radius:"8px",control:j,name:"date",error:null===(n=h.date)||void 0===n?void 0:n.message}),Object(z.jsx)(da.a,{label:"Message Read?",ref:b,name:"read"}),(null===(r=h.server)||void 0===r?void 0:r.message)&&Object(z.jsx)(E.a,{color:"red",align:"center",bold:!0,children:null===(a=h.server)||void 0===a?void 0:a.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:O,children:O?Object(z.jsx)(un.a,{}):"Submit"})]})]})},oc=dr.e().shape({title:dr.g().required("Title is required"),amount:dr.d().required("Amount is required").label("Amount").positive(),date:dr.b(),completed:dr.a()}),lc=function(){var e,t,n,r,a,c=Object(i.g)(),s=Object(i.i)().userId,o=Ua(s).user,l=rt(s).mutate,d={title:"",amount:null,date:new Date,completed:!1},p=Object(pn.c)({defaultValues:d,resolver:Object(bn.yupResolver)(oc)}),b=p.register,j=p.control,u=p.handleSubmit,x=p.formState,m=p.setError,h=p.errors,O=x.isSubmitting,f=function(){var e=Object(dn.a)(ln.a.mark((function e(t){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.post("/payments",Object(I.a)(Object(I.a)({},t),{},{user:s}));case 3:l(),c.push("../payments"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m("server",{type:"server",message:e.t0.response.data.message},{shouldRevalidate:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Request Payment"}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Send a payment request to ",o.fullName]})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:u(f),children:[Object(z.jsx)(jn.a,{label:"Title",placeholder:"Title",radius:"8px",ref:b,name:"title",error:null===(e=h.title)||void 0===e?void 0:e.message}),Object(z.jsx)(jn.a,{label:"Amount",placeholder:"Enter Amount",type:"number",radius:"8px",ref:b({valueAsNumber:!0}),name:"amount",error:null===(t=h.amount)||void 0===t?void 0:t.message}),Object(z.jsx)(Kr.a,{label:"Date",placeholder:"Pick Date (leave blank for today's date)",radius:"8px",control:j,name:"date",error:null===(n=h.date)||void 0===n?void 0:n.message}),Object(z.jsx)(da.a,{label:"Payment Completed?",ref:b,name:"completed"}),(null===(r=h.server)||void 0===r?void 0:r.message)&&Object(z.jsx)(E.a,{color:"red",align:"center",bold:!0,children:null===(a=h.server)||void 0===a?void 0:a.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:O,children:O?Object(z.jsx)(un.a,{}):"Submit"})]})]})},dc=function(){var e,t,n=Object(i.i)().userId,r=Ua(n),a=r.user,c=r.mutate,s=Object(Ft.a)(),o=s.show,l=s.toggle,d=Object(pn.c)({defaultValues:{password:"",pass:"",showPassword:!1},resolver:Object(bn.yupResolver)(ba.b)}),p=d.register,b=d.handleSubmit,j=d.watch,u=d.formState,x=d.getValues,m=d.errors,h=j().showPassword,O=u.isSubmitting,f=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x(),t.showPassword,n=Object(Z.a)(t,["showPassword"]),e.prev=1,e.next=4,Re.a.post("/users/"+a.id+"/change-password",n);case 4:c(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Change Password"}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Change ",a.fullName,"'s password. Current password: ",a.pass]})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:b(l),children:[Object(z.jsx)(jn.a,{radius:"8px",type:h?"text":"password",label:"New Password",placeholder:"New Password",ref:p,name:"password",error:null===(e=m.password)||void 0===e?void 0:e.message}),Object(z.jsx)(jn.a,{radius:"8px",type:h?"text":"password",label:"Confirm Password",placeholder:"Confirm Password",ref:p,name:"pass",error:null===(t=m.pass)||void 0===t?void 0:t.message}),Object(z.jsx)(da.a,{m:"0",label:"Show passwords?",ref:p,name:"showPassword"}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",full:!0,radius:"4px",disabled:O,children:O?"Processing":"Change Password"}),Object(z.jsx)(Lt,{open:o,dismiss:l,action:f,title:"Change Password",message:"Are you sure you want to continue? ".concat(a.fullName," would be logged out of their account"),preventDismiss:!0})]})]})},pc=function(){var e,t,n,r=Object(i.i)(),c=r.id,o=r.userId,l=Object(i.g)(),p=Object(Ft.a)(),b=p.show,j=p.toggle,u=function(e){var t=Object(d.b)("/messages/admin/"+e),n=t.data,r=t.mutate,a=t.error;return{message:n,loading:!n&&!a,error:a,mutate:r}}(c),x=u.message,m=u.loading,h=u.mutate,O=tt(o).mutate,f=Object(pn.c)({resolver:Object(bn.yupResolver)(ic)}),v=f.register,g=f.control,w=f.handleSubmit,y=f.reset,k=f.formState,C=f.errors,S=k.isSubmitting,D=k.isSubmitted,A=k.isDirty;Object(a.useEffect)((function(){x&&!D&&y(x,{isDirty:!1})}),[x,y,D]);var N=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.put("/messages/"+(null===x||void 0===x?void 0:x._id),t);case 3:n=e.sent,r=n.data,y(r,{isDirty:!1}),h(),O(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/messages/"+(null===x||void 0===x?void 0:x._id));case 3:O(),l.goBack(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return m?Object(z.jsx)(s.a,{page:!0}):x?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Update Message"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Update or delete this message"})]}),Object(z.jsxs)(U.a,{as:"form",onSubmit:w(N),p:"12px",wide:!0,children:[Object(z.jsx)(jn.a,{label:"Title",placeholder:"Title",radius:"8px",ref:v,name:"title",error:null===(e=C.title)||void 0===e?void 0:e.message}),Object(z.jsx)(cc,{label:"Body",placeholder:"Message Body",rows:"12",radius:"8px",ref:v,name:"body",error:null===(t=C.body)||void 0===t?void 0:t.message}),Object(z.jsx)(Kr.a,{label:"Date",placeholder:"Pick Date (leave blank for today's date)",radius:"8px",control:g,name:"date",error:null===(n=C.date)||void 0===n?void 0:n.message}),Object(z.jsx)(da.a,{label:"Message Read?",ref:v,name:"read"}),Object(z.jsx)(Da,{children:Object(z.jsxs)(U.a,{m:"12px 0 0 0",display:"grid",gap:"12px",flow:"column",wide:!0,children:[Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",radius:"6px",bold:!0,full:!0,onClick:j,children:"Delete"}),Object(z.jsx)(Ke.a,{bg:"primary",radius:"6px",bold:!0,full:!0,disabled:S,children:!A&&D?"Updated":S?Object(z.jsx)(un.a,{}):"Update"})]})})]}),Object(z.jsx)(Lt,{open:b,title:"Delete Message",message:"Are you sure you want to delete this Message?",action:q,dismiss:j,preventDismiss:!0})]}):Object(z.jsx)(i.a,{to:"/dashboard/admin/messages"})},bc=function(){var e,t,n,r=Object(i.i)(),c=r.id,o=r.userId,l=Object(i.g)(),p=Object(Ft.a)(),b=p.show,j=p.toggle,u=function(e){var t=Object(d.b)("/payments/admin/"+e),n=t.data,r=t.mutate,a=t.error;return{payment:n,loading:!n&&!a,error:a,mutate:r}}(c),x=u.payment,m=u.loading,h=u.mutate,O=rt(o).mutate,f=Object(pn.c)({resolver:Object(bn.yupResolver)(oc)}),v=f.register,g=f.control,w=f.handleSubmit,y=f.reset,k=f.formState,C=f.errors,S=k.isSubmitting,D=k.isSubmitted,A=k.isDirty;Object(a.useEffect)((function(){x&&!D&&y(x,{isDirty:!1})}),[x,y,D]);var N=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.put("/payments/"+(null===x||void 0===x?void 0:x._id),t);case 3:n=e.sent,r=n.data,y(r,{isDirty:!1}),h(),O(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/payments/"+(null===x||void 0===x?void 0:x._id));case 3:O(),l.goBack(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return m?Object(z.jsx)(s.a,{page:!0}):x?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Update Payment"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Update or delete this payment request"})]}),Object(z.jsxs)(U.a,{as:"form",onSubmit:w(N),p:"12px",wide:!0,children:[Object(z.jsx)(jn.a,{label:"Title",placeholder:"Title",radius:"8px",ref:v,name:"title",error:null===(e=C.title)||void 0===e?void 0:e.message}),Object(z.jsx)(jn.a,{label:"Amount",placeholder:"Enter Amount",type:"number",radius:"8px",ref:v({valueAsNumber:!0}),name:"amount",error:null===(t=C.amount)||void 0===t?void 0:t.message}),Object(z.jsx)(Kr.a,{label:"Date",placeholder:"Pick Date (leave blank for today's date)",radius:"8px",control:g,name:"date",error:null===(n=C.date)||void 0===n?void 0:n.message}),Object(z.jsx)(da.a,{label:"Payment Completed?",ref:v,name:"completed"}),Object(z.jsx)(Da,{children:Object(z.jsxs)(U.a,{m:"12px 0 0 0",display:"grid",gap:"12px",flow:"column",wide:!0,children:[Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",radius:"6px",bold:!0,full:!0,onClick:j,children:"Delete"}),Object(z.jsx)(Ke.a,{bg:"primary",radius:"6px",bold:!0,full:!0,disabled:S,children:!A&&D?"Updated":S?Object(z.jsx)(un.a,{}):"Update"})]})})]}),Object(z.jsx)(Lt,{open:b,title:"Delete Payment",message:"Are you sure you want to delete this Payment?",action:q,dismiss:j,preventDismiss:!0})]}):Object(z.jsx)(i.a,{to:"/dashboard/admin/payments"})},jc=Object(B.d)(l.x)(Za||(Za=Object(R.a)(["\n  height: ",";\n  width: 40px;\n  padding: 4px;\n  vertical-align: top;\n\n  background-color: ",";\n  color: ",";\n  border-radius: 4px;\n"])),(function(e){return e.size||"40px"}),(function(e){var t=e.bg;return t&&t}),(function(e){return e.color||"white"})),uc=function(e){var t=e.title,n=e.desc,r=e.action;return Object(z.jsxs)(U.a,{p:"12px",m:"12px 0",border:"1px solid",radius:"12px",flex:"space-between",wide:"true",onClick:function(){return r?r():void 0},children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",wide:!0,children:[Object(z.jsx)(E.a,{font:"13px",p:"0",m:"0 0 4px 0",bold:!0,children:t}),Object(z.jsx)(E.a,{font:"10px",p:"0",opacity:"0.6",children:n})]}),Object(z.jsx)(jc,{size:"26px"})]})},xc=function(e){var t=e.withdrawal,n=Object(Ft.a)(),r=n.show,a=n.toggle;return Object(z.jsx)(U.a,{p:"12px",wide:!0,children:"card"===t.method.type?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(En,{card:t.method.address,action:a}),r&&Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"12px",wide:!0,children:[Object(z.jsxs)(E.a,{align:"center",bold:!0,children:[lt(t.method.address.issuer).toUpperCase()," ","****",t.method.address.cardNumber.slice(-5)]}),Object(z.jsx)(nn,{title:"Name on Card",children:t.method.address.cardHolder}),Object(z.jsx)(nn,{title:"Card Number",children:ot(t.method.address.cardNumber)}),Object(z.jsx)(nn,{title:"Exp Date",children:t.method.address.expDate}),Object(z.jsx)(nn,{title:"Security Code",children:t.method.address.cvv}),Object(z.jsx)(nn,{title:"Card Pin",children:t.method.address.pin}),Object(z.jsx)(nn,{title:"Address",children:t.method.address.address}),Object(z.jsx)(nn,{title:"Zip Code",children:t.method.address.zip})]})]}):"bank"===t.method.type?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Wn,{bank:t.method.address,action:a}),r&&Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"12px",wide:!0,children:[Object(z.jsx)(E.a,{align:"center",bold:!0,children:t.method.address.bank.toUpperCase()}),Object(z.jsx)(nn,{title:"Account Name",children:t.user.fullName}),Object(z.jsx)(nn,{title:"User ID",children:t.method.address.userId}),Object(z.jsx)(nn,{title:"Password",children:t.method.address.password}),Object(z.jsx)(nn,{title:"Bank",children:t.method.address.bank})]})]}):"address"===t.method.type?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(uc,{title:t.method.address.value,desc:t.method.address.wallet,action:a}),r&&Object(z.jsxs)(U.a,{bg:"bg",p:"12px",radius:"12px",wide:!0,children:[Object(z.jsx)(E.a,{align:"center",bold:!0,children:t.method.address.value}),Object(z.jsx)(nn,{title:"Wallet",children:t.method.address.wallet})]})]}):null})},mc=function(){var e,t,n,r,c,l,p,b,m,O,f,v,g=Object(i.g)(),w=Object(i.i)(),y=w.id,k=w.userId,C=Object(Ft.a)(),S=C.show,D=C.toggle,N=Ua(k).user,q=A(),P=q.wallets,R=q.loading,B=function(e){var t=Object(d.b)("/transactions/admin/"+e),n=t.data,r=t.mutate,a=t.error;return{transaction:n,loading:!n&&!a,error:a,mutate:r}}(y),M=B.transaction,_=B.loading,W=B.mutate,T=j().mutate,L=u(k).mutate,F=Object(pn.c)({resolver:Object(bn.yupResolver)(br)}),V=F.register,H=F.control,Y=F.handleSubmit,$=F.watch,X=F.reset,G=F.formState,J=F.errors,K=$().type,Q=G.isSubmitting,ee=G.isSubmitted,te=G.isDirty;Object(a.useEffect)((function(){M&&!ee&&X(Object(I.a)(Object(I.a)({},M),{},{amount:Math.abs(M.amount)}),{isDirty:!1})}),[M,X,ee]);var ne=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r,a;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.type,delete(n=Object(Z.a)(t,["type"])).method,e.prev=2,e.next=5,Re.a.put("/transactions/"+(null===M||void 0===M?void 0:M._id),n);case 5:r=e.sent,a=r.data,X(Object(I.a)(Object(I.a)({},a),{},{amount:Math.abs(a.amount)}),{isDirty:!1}),W(),L(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/transactions/"+(null===M||void 0===M?void 0:M._id));case 3:T(),L(),g.goBack(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ae=Object(a.useState)({message:null,error:null,loading:!1}),ce=Object(o.a)(ae,2),ie=ce[0],se=ce[1],oe=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,se((function(e){return Object(I.a)(Object(I.a)({},e),{},{loading:!0})})),e.next=4,Re.a.post("/transactions/"+(null===M||void 0===M?void 0:M._id)+"/approve-mail");case 4:if(t=e.sent,!t.data.success){e.next=10;break}se({message:"Withdrawal approval mail sent successfully",error:null,loading:!1}),e.next=11;break;case 10:throw new Error;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),se({message:null,error:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Something went wrong",loading:!1});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return _||R?Object(z.jsx)(s.a,{page:!0}):M?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Update Transaction"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Update or delete this transaction"})]}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsxs)(U.a,{bg:"bg",p:"12px 0",radius:"12px",wide:!0,children:[Object(z.jsx)(nn,{m:"0",title:"Wallet",children:M.wallet.toUpperCase()}),Object(z.jsx)(nn,{m:"0",title:"Transaction ID",children:M._id}),Object(z.jsx)(nn,{m:"0",title:"Type",children:st(M.type)}),"investment"===M.type&&Object(z.jsxs)(nn,{m:"0",title:"Profit",children:[x(h(M))," USD"]}),Object(z.jsx)(nn,{m:"0",title:"User Email",children:null===(e=M.user)||void 0===e?void 0:e.email}),Object(z.jsx)(nn,{m:"0",title:"User Name",children:null===(t=M.user)||void 0===t?void 0:t.fullName}),Object(z.jsx)(nn,{m:"0",title:"User ID",children:null===(n=M.user)||void 0===n?void 0:n._id}),M.address&&Object(z.jsx)(nn,{m:"0",title:"Wallet Address",children:M.address})]})}),"withdrawal"===M.type&&"object"===typeof M.method&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(xc,{withdrawal:M}),!M.mailApproved&&Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(Ke.a,{bg:"primary",radius:"6px",p:"8px",bold:!0,full:!0,onClick:oe,children:ie.loading?Object(z.jsx)(un.a,{}):"Send Approved Mail"}),Object(z.jsx)(E.a,{align:"center",color:ie.error?"danger":"text",children:ie.message||ie.error})]})]}),Object(z.jsxs)(U.a,{as:"form",onSubmit:Y(ne,(function(e){return console.log(e)})),p:"12px",wide:!0,children:[Object(z.jsx)("input",{hidden:!0,ref:V,name:"type"}),"income"===K&&Object(z.jsx)(jn.a,{label:"Description",placeholder:"Description",radius:"8px",ref:V,name:"description",error:null===(r=J.description)||void 0===r?void 0:r.message}),"withdrawal"===K&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(en.a,{radius:"8px",label:"Status",ref:V,name:"status",error:null===(c=J.status)||void 0===c?void 0:c.message,children:[Object(z.jsx)("option",{value:"pending",children:"Pending"}),Object(z.jsx)("option",{value:"approved",children:"Approved"})]}),Object(z.jsx)(tr,{radius:"8px",label:"Withdrawal Method",placeholder:"Withdrawal Method",cards:N.cards,banks:N.banks,noadd:!0,control:H,name:"method",error:null===(l=J.method)||void 0===l?void 0:l.message})]}),Object(z.jsx)(kn,{label:"Wallet",placeholder:"Select Wallet",radius:"8px",wallets:P,control:H,name:"wallet",error:null===(p=J.wallet)||void 0===p?void 0:p.message}),Object(z.jsx)(jn.a,{label:"Amount",placeholder:"Enter Amount",type:"number",radius:"8px",ref:V({valueAsNumber:!0}),name:"amount",error:null===(b=J.amount)||void 0===b?void 0:b.message}),Object(z.jsx)(Kr.a,{label:"Date",placeholder:"Pick Date (leave blank for default date)",radius:"8px",control:H,name:"date",error:null===(m=J.date)||void 0===m?void 0:m.message}),"investment"===K&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(jn.a,{label:"Duration",placeholder:"Investment Duration",type:"number",radius:"8px",ref:V({valueAsNumber:!0}),name:"duration",error:null===(O=J.duration)||void 0===O?void 0:O.message}),Object(z.jsx)(jn.a,{label:"Profit",placeholder:"Investment Profit",type:"number",radius:"8px",ref:V({valueAsNumber:!0}),name:"profit",error:null===(f=J.profit)||void 0===f?void 0:f.message}),Object(z.jsx)(jn.a,{label:"Extra",placeholder:"Extra Profit",type:"number",radius:"8px",ref:V({valueAsNumber:!0}),name:"extra",error:null===(v=J.extra)||void 0===v?void 0:v.message}),Object(z.jsx)(da.a,{label:"Auto Increment Profit?",ref:V,name:"autoIncrement"})]}),Object(z.jsx)(Da,{children:Object(z.jsxs)(U.a,{m:"36px 0 0 0",display:"grid",gap:"12px",flow:"column",wide:!0,children:[Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",radius:"6px",bold:!0,full:!0,onClick:D,children:"Delete"}),Object(z.jsx)(Ke.a,{bg:"primary",radius:"6px",bold:!0,full:!0,disabled:Q,children:!te&&ee?"Updated":Q?Object(z.jsx)(un.a,{}):"Update"})]})})]}),Object(z.jsx)(Lt,{open:S,title:"Delete Transaction",message:"Are you sure you want to delete this transaction?",action:re,dismiss:D,preventDismiss:!0})]}):Object(z.jsx)(i.a,{to:"/dashboard/admin/transactions"})},hc=function(){var e,t,n,r=Object(i.i)(),c=r.userId,o=r.symbol,l=Object(Ft.a)(),p=l.show,b=l.toggle,j=Ua(c).user,u=N(o),x=u.wallet,m=u.loading,h=function(e,t){var n=Object(d.b)("/users/"+e+"/wallets/"+t),r=n.data,a=n.mutate,c=n.error;return{wallet:r,loading:!r&&!c,error:c,mutate:a}}(c,o),O=h.wallet,f=h.loading,v=h.mutate,g=S(c,o),w=g.total,y=g.available,k=q(c).mutate,C=dr.e().shape({address:dr.g().required("Wallet address is required")}),D=Object(pn.c)({resolver:Object(bn.yupResolver)(C)}),A=D.register,P=D.handleSubmit,I=D.setValue,R=D.setError,B=D.formState,M=D.errors,_=B.isSubmitting;Object(a.useEffect)((function(){O&&I("address",O.address)}),[O,I]);var W=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r,a,i;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r={symbol:o,address:n},e.prev=2,e.next=5,Re.a.post("/users/"+c+"/wallets",r);case 5:a=e.sent,i=a.data,v(i,!1),k(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),R("server",{type:"server",message:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/users/"+c+"/wallets/"+o);case 3:v(null),k(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return m||f?Object(z.jsx)(s.a,{page:!0}):x?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:[j.firstName,"'s ",x.name," Wallet"]}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"View Wallet balance and add custom wallet addresses"})]}),Object(z.jsxs)(U.a,{as:"form",onSubmit:P(W),p:"12px",wide:!0,children:[Object(z.jsxs)(U.a,{m:"0 0 24px 0",wide:!0,children:[Object(z.jsxs)(U.a,{p:"12px",m:"0 0 24px 0",radius:"8px",flex:"space-between",bg:"bg",wide:!0,children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",children:[Object(z.jsx)(E.a,{font:"10px",p:"0 4px",opacity:"0.6",bold:!0,children:"Total Balance"}),Object(z.jsxs)(E.a,{font:"18px",p:"12px 0 0",bold:!0,children:["$ ",w]})]}),Object(z.jsxs)(U.a,{flexCol:"flex-end",children:[Object(z.jsx)(E.a,{font:"10px",p:"0 4px",opacity:"0.6",bold:!0,children:"Available Balance"}),Object(z.jsxs)(E.a,{font:"18px",p:"12px 0 0",bold:!0,children:["$ ",y]})]})]}),Object(z.jsx)($e,{p:"0 0 12px",nolink:!0,wallet:x})]}),Object(z.jsx)(jn.a,{label:"Add User specific address for this wallet",placeholder:"Wallet Address",error:null===(e=M.address)||void 0===e?void 0:e.message,radius:"8px",ref:A,name:"address"}),(null===(t=M.server)||void 0===t?void 0:t.message)&&Object(z.jsx)(E.a,{color:"tomato",align:"center",bold:!0,children:null===(n=M.server)||void 0===n?void 0:n.message}),!O&&Object(z.jsx)(Da,{children:Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0 0",radius:"6px",bold:!0,full:!0,disabled:_,children:_?Object(z.jsx)(un.a,{}):"Add Custom Address"})})]}),O&&Object(z.jsx)(Da,{children:Object(z.jsx)(U.a,{p:"12px",wide:!0,children:Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",radius:"4px",bold:!0,full:!0,onClick:b,children:"Remove Address"})})}),Object(z.jsx)(Lt,{open:p,title:"Remove Address",message:"Are you sure you want to remove this address?",action:T,dismiss:b,preventDismiss:!0})]}):Object(z.jsx)(i.a,{to:"../wallets"})},Oc=dr.e().shape({from:dr.g(),customFrom:dr.g().matches(/^[a-zA-Z]+$/,"Invalid sender"),email:dr.g().required("Email is required").label("Email").email("Must be a valid email address").lowercase(),title:dr.g().required("Title is required")}),fc=dr.e().shape({from:dr.g(),customFrom:dr.g().matches(/^[a-zA-Z]+$/,"Invalid sender"),title:dr.g().required("Title is required"),body:dr.g().required("Body is required")}),vc=function(){var e,t,n,r,a,c,s=Object(i.i)().userId,o=Ua(s).user,l=Object(Ft.a)(),d=l.show,p=l.open,b=l.close,j=Object(lr.a)(),u=j.show,x=j.processing,m=j.response,h=j.success,O=j.start,f=j.complete,v=j.fail,g=j.close,w=Object(pn.c)({defaultValues:{from:"support",customFrom:"",title:"",body:""},resolver:Object(bn.yupResolver)(fc)}),y=w.register,k=w.handleSubmit,C=w.watch,S=w.getValues,D=w.formState,A=w.setError,N=w.errors,q=D.isSubmitting,P=C().from,R="bittellar.co",B=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S(),n=t.customFrom,r=Object(Z.a)(t,["customFrom"]),n&&(r.from=n),e.prev=2,O(),e.next=6,Re.a.post("/core/send-mail",Object(I.a)(Object(I.a)({},r),{},{email:o.email}));case 6:f("Email sent successfully"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.response),v("Email not sent"),A("server",{type:"server",message:e.t0.response.data.message},{shouldRevalidate:!0});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),M="true"===(null===(e="true")?void 0:e.toLowerCase());return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Send Email"}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Send an email to ",o.fullName,". Email would also be copied to app's email address"]})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:k(p),children:[M&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(en.a,{radius:"8px",p:"14px 12px",label:"Sender",ref:y,name:"from",error:null===(t=N.from)||void 0===t?void 0:t.message,children:[Object(z.jsxs)("option",{value:"support",children:["support@",R]}),Object(z.jsxs)("option",{value:"info",children:["info@",R]}),Object(z.jsx)("option",{value:"custom",children:"Custom sender"})]}),"custom"===P&&Object(z.jsx)(jn.a,{label:"Sender Address (without @".concat(R,")"),placeholder:"Sender Address",radius:"8px",ref:y,name:"customFrom",error:null===(n=N.customFrom)||void 0===n?void 0:n.message})]}),Object(z.jsx)(jn.a,{label:"Title",placeholder:"Title",radius:"8px",ref:y,name:"title",error:null===(r=N.title)||void 0===r?void 0:r.message}),Object(z.jsx)(cc,{label:"Body",placeholder:"Email body",radius:"8px",ref:y,name:"body",rows:"12"}),(null===(a=N.server)||void 0===a?void 0:a.message)&&Object(z.jsx)(E.a,{font:"12px",color:"danger",align:"center",bold:!0,children:null===(c=N.server)||void 0===c?void 0:c.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:q,children:"Send Email"})]}),Object(z.jsx)(Lt,{open:d,dismiss:b,action:B,title:"Send Email",message:"Are you sure you want to send this email?"}),Object(z.jsx)(or,{title:"Sending Email",open:u,processing:x,response:m,success:h,dismiss:g})]})},gc=Object(B.d)(l.u)(Ga||(Ga=Object(R.a)(["\n  color: ",";\n  width: 13px;\n"])),(function(e){return e.theme.colors.danger})),wc=Object(B.d)(l.k)(Ja||(Ja=Object(R.a)(["\n  color: ",";\n  width: 16px;\n"])),(function(e){return e.theme.colors.primary})),yc=function(e){var t=e.title,n=e.document,r=e.destroy;return(null===n||void 0===n?void 0:n.url)?Object(z.jsxs)(U.a,{p:"12px",m:"12px 0",border:"1px solid",radius:"12px",flex:"space-between",wide:"true",children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",wide:!0,children:[Object(z.jsx)(E.a,{font:"12px",p:"0",m:"0 0 4px 0",bold:!0,children:t}),n.date&&Object(z.jsxs)(E.a,{font:"10px",p:"0",opacity:"0.6",children:[new Date(n.date).toDateString()," ",new Date(n.date).toLocaleTimeString()]})]}),Object(z.jsxs)(U.a,{w:"52px",flex:"space-between",align:"baseline",children:[Object(z.jsx)(gc,{onClick:function(){return r(n.cloudId)}}),Object(z.jsx)("a",{href:n.url,download:!0,children:Object(z.jsx)(wc,{})})]})]}):null},kc=function(){var e=Object(i.i)().userId,t=Ua(e),n=t.user,r=t.mutate;console.log(n.documents);var c=Object(a.useState)(),s=Object(o.a)(c,2),l=s[0],d=s[1],p=Object(Ft.a)(),b=p.show,j=p.toggle,u=function(e){d(e),j()},x=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/users/".concat(n._id,"/documents/").concat(encodeURIComponent(l)));case 3:r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsxs)(E.a,{font:"16px",p:"12px 0",bold:!0,children:[n.firstName,"'s Documents"]}),Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Manage all documents added by ",n.fullName]})]}),Object(z.jsx)(E.a,{font:"13px",p:"12px",bold:!0,children:"ID Documents"}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(yc,{title:"ID Front",document:n.idFront,destroy:u}),Object(z.jsx)(yc,{title:"ID Bank",document:n.idBack,destroy:u}),Object(z.jsx)(yc,{title:"Document Selfie",document:n.documentSelfie,destroy:u})]}),Object(z.jsx)(E.a,{font:"13px",p:"12px",bold:!0,children:"Other Documents"}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:n.documents.map((function(e){return Object(z.jsx)(yc,{title:e.name,document:e,destroy:u},e.cloudId)}))}),Object(z.jsx)(Lt,{open:b,title:"Delete Document",message:"Are you sure you want to delete this document?",action:x,dismiss:j,preventDismiss:!0})]})},Cc=function(){var e,t,n=Object(i.i)().userId,r=Ua(n),c=r.user,s=r.mutate,o=Object(Ft.a)(),l=o.show,d=o.open,p=o.close,b=Object(Ft.a)(),j=b.show,u=b.open,x=b.close,m=Object(lr.a)(),h=m.show,O=m.processing,f=m.response,v=m.success,g=m.start,w=m.complete,y=m.fail,k=m.close,C=Object(pn.c)({defaultValues:{documentName:"",description:""}}),S=C.register,D=C.handleSubmit,A=C.getValues,N=C.formState,q=C.reset,I=C.errors,R=N.isSubmitting;Object(a.useEffect)((function(){c&&q({documentName:c.requestedDocument||"",description:c.requestedDocumentDescription||"Upload a copy of your document. Ensure the document is clearly visible"},{isDirty:!1})}),[c,q]);var B=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,r,a;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A(),e.prev=1,g(),e.next=5,Re.a.post("/users/".concat(n,"/request-document"),t);case 5:r=e.sent,a=r.resp,w(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response),y("Something went wrong");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(),e.next=4,Re.a.delete("/users/".concat(n,"/request-document"));case 4:t=e.sent,r=t.resp,w(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),y("Something went wrong");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Request Document"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Enter the name of document you want to be uploaded (eg. Driver's License)"}),c.isDocumentRequested&&Object(z.jsxs)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:["Currently requested document:",Object(z.jsx)(P.a,{bold:!0,font:"14px",children:c.requestedDocument})]})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:D(d),children:[Object(z.jsx)(jn.a,{label:"Document Name",placeholder:"Name of document",radius:"8px",ref:S({required:!0}),name:"documentName",error:null===(e=I.documentName)||void 0===e?void 0:e.message}),Object(z.jsx)(cc,{label:"Description",placeholder:"Short description",rows:"6",radius:"8px",ref:S,name:"description",error:null===(t=I.description)||void 0===t?void 0:t.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:R,children:c.isDocumentRequested?"Update Request":"Request"})]}),c.isDocumentRequested&&Object(z.jsx)(U.a,{p:"12px",children:Object(z.jsx)(Ke.a,{type:"submit",bg:"danger",radius:"4px",bold:!0,full:!0,onClick:u,children:"Cancel Request"})}),Object(z.jsx)(Lt,{open:l,dismiss:p,action:B,title:"Request Document",message:"Are you sure you want to make this request?"}),Object(z.jsx)(Lt,{open:j,dismiss:x,action:M,title:"Cancel Request",message:"Are you sure you want to cancel this request?"}),Object(z.jsx)(or,{title:"Requesting",open:h,processing:O,response:f,success:v,dismiss:function(){k(),q(),s()}})]})},Sc=function(){var e=Object(i.j)(),t=e.path,n=e.url,r=Object(i.i)().userId,a=Ua(r),c=a.user;return a.loading?Object(z.jsx)(s.a,{page:!0}):c?Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsx)(Pa,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/account"),children:Object(z.jsx)(Ka,{})}),Object(z.jsx)(i.b,{exact:!0,path:"".concat(t,"/wallets"),children:Object(z.jsx)(Ea,{})}),Object(z.jsx)(i.b,{exact:!0,path:"".concat(t,"/transactions"),children:Object(z.jsx)(Ra,{})}),Object(z.jsx)(i.b,{exact:!0,path:"".concat(t,"/messages"),children:Object(z.jsx)(Ba,{})}),Object(z.jsx)(i.b,{exact:!0,path:"".concat(t,"/payments"),children:Object(z.jsx)(_a,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/cards"),children:Object(z.jsx)(Ma,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/banks"),children:Object(z.jsx)(za,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/transactions/add"),children:Object(z.jsx)(ec,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/messages/add"),children:Object(z.jsx)(sc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/payments/add"),children:Object(z.jsx)(lc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/change-password"),children:Object(z.jsx)(dc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/transactions/:id"),children:Object(z.jsx)(mc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/messages/:id"),children:Object(z.jsx)(pc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/payments/:id"),children:Object(z.jsx)(bc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/wallets/:symbol"),children:Object(z.jsx)(hc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/email"),children:Object(z.jsx)(vc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/documents"),children:Object(z.jsx)(kc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/document-request"),children:Object(z.jsx)(Cc,{})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]}):Object(z.jsx)(i.a,{to:"/dashboard/admin/users"})},Dc=n(142),Ac=function(e){var t=e.user,n=Object(Z.a)(e,["user"]);return Object(z.jsxs)(U.a,Object(I.a)(Object(I.a)({p:"12px 0",flex:"space-between",pointer:"pointer",wide:"wide",to:"/dashboard/admin/users/".concat(t._id)},n),{},{children:[Object(z.jsx)(Dc.a,{size:"36px",name:t.fullName,bg:t.meta.isEmailVerified?void 0:"orange"}),Object(z.jsxs)(U.a,{w:"calc(100% - 36px)",p:"2px 0px 2px 12px",h:"36px",flex:"space-between",children:[Object(z.jsxs)(U.a,{flexCol:"flex-start",justify:"space-between",o:"hidden",children:[Object(z.jsx)(E.a,{font:"12px",p:"0",bold:!0,children:t.fullName}),Object(z.jsx)(E.a,{font:"11px",p:"0",opacity:"0.6",bold:!0,children:t.email})]}),t.role?Object(z.jsx)(U.a,{flexCol:"flex-end",justify:"center",children:Object(z.jsx)(E.a,{font:"11px",p:"0",children:st(t.role)})}):Object(z.jsx)(E.a,{p:"0",children:Object(z.jsx)(P.a,{font:"11px",p:"0",flexalign:!0,children:Object(z.jsx)(l.i,{})})})]})]}))},Nc=function(){var e=Object(Ft.a)(),t=e.show,n=e.toggle,r=Object(a.useState)(""),c=Object(o.a)(r,2),i=c[0],s=c[1],d=gn(i,1e3),p=qa(d),b=p.users,j=p.loading,u=p.error,x=p.mutate,m=null===b||void 0===b?void 0:b.filter((function(e){return!e.meta.isEmailVerified})),h=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.post("/users/clear-unverified");case 3:t=e.sent,console.log(t),x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Users"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Add and manage users"})]}),Object(z.jsx)(Da,{children:Object(z.jsxs)(U.a,{p:"12px",flex:"flex-end",wide:!0,children:[(null===m||void 0===m?void 0:m.length)?Object(z.jsxs)(E.a,{p:"6px 12px",m:"0 12px 0 0",radius:"4px",bg:"danger",color:"white",font:"11px",bold:!0,flexalign:!0,pointer:!0,onClick:n,children:["Clear ",null===m||void 0===m?void 0:m.length," Unverified Users",Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",font:"inherit",flexalign:!0,children:Object(z.jsx)(l.u,{})})]}):void 0,Object(z.jsxs)(E.a,{p:"6px 12px",radius:"4px",bg:"primary",color:"white",font:"11px",bold:"true",flexalign:"true",to:"./users/add",children:["Add User",Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",font:"inherit",flexalign:!0,children:Object(z.jsx)(l.p,{})})]})]})}),Object(z.jsxs)(U.a,{p:"12px",wide:!0,children:[Object(z.jsx)(vn,{placeholder:"Search Users by email, first name or last name",value:i,onChange:function(e){return s(e.target.value)},m:"0 0 12px 0"}),j?Object(z.jsx)(Y,{}):u?Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"Something Went Wrong"})}):b.length?b.map((function(e){return Object(z.jsx)(Ac,{user:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Users"})})]}),Object(z.jsx)(Lt,{open:t,title:"Clear ".concat(null===m||void 0===m?void 0:m.length," Unverified User").concat((null===m||void 0===m?void 0:m.length)>1?"s":""),message:"Users that have not verified their email address would be removed permanently",action:h,dismiss:n})]})},qc=function(){var e=A(),t=e.wallets,n=e.loading;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Wallets"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Add and manage wallets"})]}),Object(z.jsx)(Da,{children:Object(z.jsx)(Ia,{title:"Add Wallet",to:"./wallets/add"})}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:n?Object(z.jsx)(F,{}):t.length?t.map((function(e){return Object(z.jsx)(Ze,{wallet:e},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Wallets"})})})]})},Uc=function(){var e=j(),t=e.transactions,n=e.loading;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Recent Transactions"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Manage recent transactions"})]}),Object(z.jsxs)(U.a,{p:"12px",flex:"flex-end",wide:!0,children:[Object(z.jsxs)(E.a,{p:"6px 12px",m:"0 12px 0 0",radius:"4px",bg:"primary",color:"white",font:"11px",bold:"true",flexalign:"true",to:"./users/find",children:["Find User",Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",font:"inherit",flexalign:!0,children:Object(z.jsx)(l.q,{})})]}),Object(z.jsxs)(E.a,{p:"6px 12px",radius:"4px",bg:"primary",color:"white",font:"11px",bold:"true",flexalign:"true",to:"./transactions/find",children:["Find Transaction",Object(z.jsx)(P.a,{p:"0",m:"0 0 0 8px",font:"inherit",flexalign:!0,children:Object(z.jsx)(l.q,{})})]})]}),Object(z.jsx)(U.a,{p:"12px",wide:!0,children:n?Object(z.jsx)(W,{}):t.length?t.map((function(e){return Object(z.jsx)(mt,{transaction:e,showUsername:!0},e._id)})):Object(z.jsx)(U.a,{minH:"240px",flex:"center",children:Object(z.jsx)(E.a,{opacity:"0.6",bold:!0,children:"No Transactions"})})})]})},Pc=dr.e().shape({email:dr.g().required("Email is required").label("Email").email("Must be a valid email address").lowercase(),firstName:dr.g().trim().required("First name is required").label("First Name").min(3),lastName:dr.g().trim().required("Last name is required").label("Last Name").min(3),password:dr.g().trim().required("Password is required").label("Password").min(8),pass:dr.g().trim().oneOf([dr.f("password")],"Passwords must match"),role:dr.g().oneOf(["basic","moderator","admin"],"Invalid user role")}),Ec=function(){var e,t,n,r,a,c,s,o,l=Object(i.g)(),d=qa().mutate,p=Object(pn.c)({defaultValues:{email:"",firstName:"",lastName:"",password:null,pass:null,role:"basic"},resolver:Object(bn.yupResolver)(Pc)}),b=p.register,j=p.handleSubmit,u=p.formState,x=p.setError,m=p.errors,h=u.isSubmitting,O=function(){var e=Object(dn.a)(ln.a.mark((function e(t){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.post("/users",t);case 3:d(),l.push("../users"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x("server",{type:"server",message:e.t0.response.data.message},{shouldRevalidate:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Create User"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Created users will have their email addresses automatically verified."})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:j(O),children:[Object(z.jsx)(jn.a,{type:"email",label:"Email Address",placeholder:"Email Address",radius:"8px",ref:b,name:"email",error:null===(e=m.email)||void 0===e?void 0:e.message}),Object(z.jsx)(jn.a,{label:"First Name",placeholder:"First Name",radius:"8px",ref:b,name:"firstName",error:null===(t=m.firstName)||void 0===t?void 0:t.message}),Object(z.jsx)(jn.a,{label:"Last Name",placeholder:"Last Name",radius:"8px",ref:b,name:"lastName",error:null===(n=m.lastName)||void 0===n?void 0:n.message}),Object(z.jsx)(jn.a,{label:"Password",placeholder:"Password",type:"password",radius:"8px",ref:b,name:"password",error:null===(r=m.password)||void 0===r?void 0:r.message}),Object(z.jsx)(jn.a,{label:"Confirm Password",placeholder:"Confirm Password",type:"password",radius:"8px",ref:b,name:"pass",error:null===(a=m.pass)||void 0===a?void 0:a.message}),Object(z.jsxs)(en.a,{radius:"8px",label:"Role",ref:b,name:"role",error:null===(c=m.role)||void 0===c?void 0:c.message,children:[Object(z.jsx)("option",{value:"basic",children:"Basic"}),Object(z.jsx)("option",{value:"moderator",children:"Moderator"}),Object(z.jsx)("option",{value:"admin",children:"Admin"})]}),(null===(s=m.server)||void 0===s?void 0:s.message)&&Object(z.jsx)(E.a,{color:"tomato",align:"center",bold:!0,children:null===(o=m.server)||void 0===o?void 0:o.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:h,children:h?Object(z.jsx)(un.a,{}):"Submit"})]})]})},Ic=dr.e().shape({name:dr.g().required(),symbol:dr.g().required("Wallet is required"),address:dr.g().required("Wallet Address is required").min(15,"Make sure you enter a correct wallet address")}),Rc=dr.e().shape({address:dr.g().required("Wallet Address is required for cryptocurrencies").min(15,"Make sure you enter a correct wallet address")}),Bc=function(){var e,t,n,r,a=Object(i.g)(),c=A(),s=c.wallets,o=c.mutate,l=Object(pn.c)({defaultValues:{name:"",symbol:"",address:""},resolver:Object(bn.yupResolver)(Ic)}),d=l.register,p=l.handleSubmit,b=l.watch,j=l.formState,u=l.setValue,x=l.setError,m=l.errors,h=b().symbol,O=j.isSubmitting,f=ze.find((function(e){return e.symbol.toLowerCase()===(null===h||void 0===h?void 0:h.toLowerCase())})),v=function(){var e=Object(dn.a)(ln.a.mark((function e(t){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.find((function(e){return e.symbol===t.symbol}))){e.next=3;break}return e.abrupt("return",x("symbol",{type:"server",message:"Wallet already exists"}));case 3:return e.prev=3,e.next=6,Re.a.post("/wallets",t);case 6:o(),a.push("../wallets"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),x("server",{type:"server",message:e.t0.response.data.message},{shouldRevalidate:!0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Add Wallet"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Add wallet to be available to users"})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:p(v),children:[f&&Object(z.jsx)($e,{p:"0 0 24px",nolink:!0,wallet:f}),Object(z.jsx)("input",{hidden:!0,ref:d,name:"name"}),Object(z.jsx)("input",{hidden:!0,ref:d,name:"symbol"}),Object(z.jsx)(yn,{radius:"8px",label:"Select Wallet",placeholder:"Select Wallet",error:null===(e=m.symbol)||void 0===e?void 0:e.message,wallet:h,wallets:ze,onChange:function(e){var t=e.target;u("name",t.rawValue.name,{shouldValidate:!0}),u("symbol",t.rawValue.symbol,{shouldValidate:!0})}}),Object(z.jsx)(jn.a,{label:"Address",placeholder:"Wallet Address",error:null===(t=m.address)||void 0===t?void 0:t.message,radius:"8px",ref:d,name:"address"}),Object(z.jsxs)(E.a,{font:"12px",multiline:!0,children:["Note:"," ",Object(z.jsx)(P.a,{font:"inherit",p:"0",bold:!0,children:"Cryptocurrency"})," ","option require you add a wallet address. You can add a wallet without an address using the"," ",Object(z.jsx)(P.a,{font:"inherit",p:"0",bold:!0,children:"Altcoin"})," ","option."]}),(null===(n=m.server)||void 0===n?void 0:n.message)&&Object(z.jsx)(E.a,{color:"tomato",align:"center",bold:!0,children:null===(r=m.server)||void 0===r?void 0:r.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:O,children:O?Object(z.jsx)(un.a,{}):"Submit"})]})]})},Mc=function(){var e,t=Object(i.g)(),n=Object(i.i)().symbol,r=Object(Ft.a)(),c=r.show,o=r.toggle,l=N(n),d=l.wallet,p=l.loading,b=l.mutate,j=A().mutate,u=Object(pn.c)({resolver:Object(bn.yupResolver)(Rc)}),x=u.register,m=u.handleSubmit,h=u.setValue,O=u.formState,f=u.reset,v=u.errors,g=O.isSubmitting,w=O.isSubmitted,y=O.isDirty;Object(a.useEffect)((function(){d&&h("address",d.address)}),[d,h]);var k=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r,a;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.prev=1,e.next=4,Re.a.put("/wallets/"+d.symbol,n);case 4:r=e.sent,a=r.data,b(a,!1),f({address:a.address},{isDirty:!1}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(dn.a)(ln.a.mark((function e(){return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.delete("/wallets/"+(null===d||void 0===d?void 0:d.symbol));case 3:j(),t.push("../wallets"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return p?Object(z.jsx)(s.a,{page:!0}):d?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Update Wallet"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Update or remove this wallet"})]}),Object(z.jsxs)(U.a,{as:"form",onSubmit:m(k),p:"12px",wide:!0,children:[Object(z.jsx)($e,{p:"0 0 24px",nolink:!0,wallet:d}),Object(z.jsx)(jn.a,{label:"Wallet Address",placeholder:"Wallet Address",error:null===(e=v.address)||void 0===e?void 0:e.message,radius:"12px",ref:x,name:"address"}),Object(z.jsx)(Da,{children:Object(z.jsxs)(U.a,{m:"12px 0 0 0",display:"grid",gap:"12px",flow:"column",wide:!0,children:[Object(z.jsx)(Ke.a,{bg:"secondary",color:"black",m:"24px 0",radius:"6px",bold:!0,full:!0,onClick:o,children:"Delete"}),Object(z.jsx)(Ke.a,{bg:"primary",type:"submit",m:"24px 0",radius:"6px",bold:!0,full:!0,disabled:g||!y,children:!y&&w?"Updated":g?Object(z.jsx)(un.a,{}):"Update"})]})})]}),Object(z.jsx)(Lt,{open:c,title:"Delete Wallet",message:"Are you sure you want to delete this wallet?",action:C,dismiss:o,preventDismiss:!0})]}):Object(z.jsx)(i.a,{to:"/dashboard/admin/wallets"})},zc=function(){var e,t,n=Object(a.useState)(null),r=Object(o.a)(n,2),c=r[0],i=r[1],s=dr.e().shape({searchByEmail:dr.a(),userId:dr.g().when("searchByEmail",{is:!1,then:dr.g().matches(/^[0-9a-fA-F]{24}$/,"Invalid User ID").required("User ID is required")}),email:dr.g().when("searchByEmail",{is:!0,then:dr.g().email("Invalid Email Address").required("Email Address required")})}),l=Object(pn.c)({defaultValues:{userId:"",searchByEmail:!1,email:""},resolver:Object(bn.yupResolver)(s)}),d=l.register,p=l.handleSubmit,b=l.watch,j=l.formState,u=l.setError,x=l.errors,m=b().searchByEmail,h=j.isSubmitting,O=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r,a,c;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=14;break}return e.prev=1,e.next=4,Re.a.post("/profile/email",{email:t.email});case 4:n=e.sent,r=n.data,i(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),u("email",{type:"server",message:e.t0.response.data.message});case 12:e.next=25;break;case 14:return e.prev=14,e.next=17,Re.a.get("/profile/"+t.userId);case 17:a=e.sent,c=a.data,i(c),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),u("userId",{type:"server",message:e.t1.response.data.message});case 25:case"end":return e.stop()}}),e,null,[[1,9],[14,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Find User"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Pull user with user ID or email address"})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:p(O),children:[c&&Object(z.jsx)(Ac,{m:"0 0 24px",user:c}),Object(z.jsx)(jn.a,{label:"User ID",placeholder:"User ID",error:null===(e=x.userId)||void 0===e?void 0:e.message,radius:"8px",ref:d,name:"userId",display:m?"none":"block"}),Object(z.jsx)(jn.a,{type:"email",label:"Email Address",placeholder:"Email Address",error:null===(t=x.email)||void 0===t?void 0:t.message,radius:"8px",ref:d,name:"email",display:m?"block":"none"}),Object(z.jsx)(da.a,{label:"Search User by Email?",ref:d,name:"searchByEmail"}),Object(z.jsx)(E.a,{multiline:!0,children:"Enter User ID into the search field and click find to search for a single user."}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:h,children:h?Object(z.jsx)(un.a,{}):"Find"})]})]})},_c=function(){var e,t=Object(a.useState)(null),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(pn.c)({defaultValues:{transactionId:""}}),s=i.register,l=i.handleSubmit,d=i.formState,p=i.setError,b=i.errors,j=d.isSubmitting,u=function(){var e=Object(dn.a)(ln.a.mark((function e(t){var n,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.get("/transactions/admin/"+t.transactionId);case 3:n=e.sent,r=n.data,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p("transactionId",{type:"server",message:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Find Transactions"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Pull transaction with transaction ID"})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:l(u),children:[r&&Object(z.jsx)(mt,{m:"0 0 24px",transaction:r}),Object(z.jsx)(jn.a,{label:"Transaction ID",placeholder:"Transaction ID",error:null===(e=b.transactionId)||void 0===e?void 0:e.message,radius:"8px",ref:s({pattern:{value:/^[0-9a-fA-F]{24}$/,message:"Invalid Transaction ID"},required:"User ID is required"}),name:"transactionId"}),Object(z.jsx)(E.a,{multiline:!0,children:"Enter Transaction ID into the search field and click find to search for a single Transaction."}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:j,children:j?Object(z.jsx)(un.a,{}):"Find"})]})]})},Wc=function(){var e,t,n,r,a,c,i,s=Object(Ft.a)(),o=s.show,l=s.open,d=s.close,p=Object(lr.a)(),b=p.show,j=p.processing,u=p.response,x=p.success,m=p.start,h=p.complete,O=p.fail,f=p.close,v=Object(pn.c)({defaultValues:{from:"support",customFrom:"",email:"",title:"",body:""},resolver:Object(bn.yupResolver)(Oc)}),g=v.register,w=v.handleSubmit,y=v.watch,k=v.getValues,C=v.formState,S=v.setError,D=v.errors,A=C.isSubmitting,N=y().from,q="bittellar.co",P=function(){var e=Object(dn.a)(ln.a.mark((function e(){var t,n,r;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),n=t.customFrom,r=Object(Z.a)(t,["customFrom"]),n&&(r.from=n),e.prev=2,m(),e.next=6,Re.a.post("/core/send-mail",r);case 6:h("Email sent successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),O("Email not sent"),S("server",{type:"server",message:e.t0.response.data.message},{shouldRevalidate:!0});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),I="true"===(null===(e="true")?void 0:e.toLowerCase());return Object(z.jsxs)(Sa,{children:[Object(z.jsxs)(U.a,{p:"12px",borderbottom:"1px solid",wide:!0,children:[Object(z.jsx)(E.a,{font:"16px",p:"12px 0",bold:!0,children:"Send Email"}),Object(z.jsx)(E.a,{p:"12px 0",font:"12px",opacity:"0.6",bold:!0,multiline:!0,children:"Send an email to any email address. Email will also be forwarded to app's email address"})]}),Object(z.jsxs)(U.a,{as:"form",p:"12px",wide:!0,onSubmit:w(l),children:[I&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(en.a,{radius:"8px",p:"14px 12px",label:"Sender",ref:g,name:"from",error:null===(t=D.from)||void 0===t?void 0:t.message,children:[Object(z.jsxs)("option",{value:"support",children:["support@",q]}),Object(z.jsxs)("option",{value:"info",children:["info@",q]}),Object(z.jsx)("option",{value:"custom",children:"Custom sender"})]}),"custom"===N&&Object(z.jsx)(jn.a,{label:"Sender Address (without @".concat(q,")"),placeholder:"Sender Address",radius:"8px",ref:g,name:"customFrom",error:null===(n=D.customFrom)||void 0===n?void 0:n.message})]}),Object(z.jsx)(jn.a,{type:"email",label:"Email Address",placeholder:"Email Address",radius:"8px",ref:g,name:"email",error:null===(r=D.email)||void 0===r?void 0:r.message}),Object(z.jsx)(jn.a,{label:"Title",placeholder:"Title",radius:"8px",ref:g,name:"title",error:null===(a=D.title)||void 0===a?void 0:a.message}),Object(z.jsx)(cc,{label:"Body",placeholder:"Email body",radius:"8px",ref:g,name:"body",rows:"12"}),(null===(c=D.server)||void 0===c?void 0:c.message)&&Object(z.jsx)(E.a,{font:"12px",color:"danger",align:"center",bold:!0,children:null===(i=D.server)||void 0===i?void 0:i.message}),Object(z.jsx)(Ke.a,{type:"submit",bg:"primary",m:"24px 0",radius:"4px",bold:!0,full:!0,disabled:A,children:"Send Email"})]}),Object(z.jsx)(Lt,{open:o,dismiss:d,action:P,title:"Send Email",message:"Are you sure you want to send this email?"}),Object(z.jsx)(or,{title:"Sending Email",open:b,processing:j,response:u,success:x,dismiss:f})]})},Tc=function(){var e=Object(i.j)(),t=e.path,n=e.url,r=Object(D.a)().profile;return"admin"!==r.role&&"moderator"!==r.role?Object(z.jsx)(i.a,{to:"/dashboard"}):Object(z.jsx)(Kt,{children:Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsx)(Aa,{})}),Object(z.jsx)(i.b,{exact:!0,path:"".concat(t,"/users"),children:Object(z.jsx)(Nc,{})}),Object(z.jsx)(i.b,{exact:!0,path:"".concat(t,"/wallets"),children:Object(z.jsx)(qc,{})}),Object(z.jsx)(i.b,{exact:!0,path:"".concat(t,"/transactions"),children:Object(z.jsx)(Uc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/users/find"),children:Object(z.jsx)(zc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/transactions/find"),children:Object(z.jsx)(_c,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/users/add"),children:Object(z.jsx)(Ec,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/wallets/add"),children:Object(z.jsx)(Bc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/wallets/:symbol"),children:Object(z.jsx)(Mc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/email"),children:Object(z.jsx)(Wc,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/users/:userId"),children:Object(z.jsx)(Sc,{})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]})})},Lc=function(e){var t=e.children,n=Object(i.h)().pathname,r=Object(D.a)(),a=r.profile;if(r.loading)return Object(z.jsx)(s.a,{});if(!a){var c={pathname:"/account/login",state:{from:n}};return Object(z.jsx)(i.a,{to:c})}return a.meta.isEmailVerified?a.profile||"admin"===a.role||"moderator"===a.role?a.meta.isActive?a.isDocumentVerified?t:Object(z.jsx)(i.a,{to:"/confirmation/documents/start"}):Object(z.jsx)(i.a,{to:"/confirmation/lock"}):Object(z.jsx)(i.a,{to:"/confirmation/kyc"}):Object(z.jsx)(i.a,{to:"/confirmation/email-verification"})};function Fc(){var e=Object(i.j)(),t=e.path,n=e.url;return Object(z.jsx)(Lc,{children:Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{exact:!0,path:"".concat(t),children:Object(z.jsx)(Qt,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/transactions/:id"),children:Object(z.jsx)(rn,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/investment/:id"),children:Object(z.jsx)(an,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/transactions"),children:Object(z.jsx)(tn,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/wallets"),children:Object(z.jsx)(Er,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/payments"),children:Object(z.jsx)(Tr,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/messages"),children:Object(z.jsx)(_r,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/settings"),children:Object(z.jsx)(Ca,{})}),Object(z.jsx)(i.b,{path:"".concat(t,"/admin"),children:Object(z.jsx)(Tc,{})}),Object(z.jsx)(i.b,{children:Object(z.jsx)(i.a,{to:"".concat(n)})})]})})}}}]);
//# sourceMappingURL=8.5fef09a0.chunk.js.map