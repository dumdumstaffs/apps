(this.webpackJsonplambda=this.webpackJsonplambda||[]).push([[9],{109:function(e,t,n){"use strict";var a,c,r,i,o,l=n(0),s=n(94),p=n(31),d=n(13),u=n(19),b=n(10),j=n(100),x=n(128),h=n(123),m=n(95),f=n(1),O=b.d.aside(a||(a=Object(d.a)(["\n  grid-area: navbar;\n  height: 48px;\n  width: 100%;\n\n  margin: 0;\n  padding: 0 80px;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  z-index: 2;\n\n  background-color: ",";\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  /* display: none; */\n\n  @media screen and (max-width: ",") {\n    padding: 0 12px;\n  }\n"])),(function(e){var t=e.bg,n=e.theme;return n.colors[t]||t||n.colors.bgContrast}),(function(e){return e.theme.breakpoints.xl})),g=Object(b.d)(j.e)(c||(c=Object(d.a)(["\n  font-size: 24px;\n  width: 24px;\n"]))),v=b.d.h3(r||(r=Object(d.a)(["\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    width: 20px;\n    display: inline-block;\n    margin-right: 8px;\n  }\n"]))),y=b.d.div(i||(i=Object(d.a)(["\n  position: fixed;\n  top: calc(48px + 12px);\n  left: 80px;\n\n  width: calc(100% - 24px);\n  max-width: 360px;\n  max-height: 0;\n  transition: max-height 0.15s ease-out;\n  overflow: hidden;\n\n  background-color: ",";\n  border-radius: 12px;\n\n  ","\n\n  @media screen and (max-width: ",") {\n    left: 12px;\n  }\n"])),(function(e){var t=e.bg,n=e.theme;return n.colors[t]||t||n.colors.bgContrast}),(function(e){return e.open&&Object(b.c)(o||(o=Object(d.a)(["\n      max-height: 500px;\n      transition: max-height 0.25s ease-in;\n    "])))}),(function(e){return e.theme.breakpoints.xl})),w=function(){var e=Object(l.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],c=function(){return a(!n)};return Object(f.jsxs)(O,{children:[Object(f.jsx)(g,{onClick:c}),Object(f.jsx)(u.b,{to:"/dashboard",children:Object(f.jsxs)(v,{children:[Object(f.jsx)(x.a,{}),"Bitmax Pro"]})}),Object(f.jsx)(h.a,{open:n,onClick:c}),Object(f.jsx)(y,{open:n,children:Object(f.jsxs)(s.a,{p:"12px",wide:!0,children:[Object(f.jsx)(m.a,{as:"a",display:"block",href:"https://".concat("bitmaxpro.com"),children:"Home"}),Object(f.jsx)(m.a,{display:"block",to:"/account/login",children:"Login"}),Object(f.jsx)(m.a,{display:"block",to:"/account/register",children:"Register"}),Object(f.jsx)(m.a,{display:"block",to:"/account/forgot-password",children:"Forgot Password"})]})})]})};t.a=function(e){var t=e.children;return Object(f.jsxs)(s.a,{flex:"center",bg:"bg",m:"48px 0 0 0",h:"calc(100% - 48px)",minH:"calc(100vh - 48px)",children:[Object(f.jsx)(w,{}),Object(f.jsx)(s.a,{p:"16px",m:"64px 0",bg:"bgContrast",radius:"6px",maxW:"calc(100vw - 28px)",w:"400px",h:"auto",children:t})]})}},360:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var a=n(0),c=n(2),r=n(32),i=n(98),o=n.n(i),l=n(99),s=n(103),p=n(106),d=n(94),u=n(95),b=n(105),j=n(112),x=n(96),h=n(104),m=n(115),f=n(109),O=n(102),g=n(190),v=n(30),y=n(191),w=n(1),k=function(){var e,t,n,a,r,i,k,S,D,C,I,_,P,E,N,R,U,z=Object(c.g)(),F=Object(O.a)(),V=F.profile,M=F.mutate,L=Object(s.c)({defaultValues:{firstName:V.firstName,lastName:V.lastName,profile:{phone:"",gender:"",dob:new Date,city:"",zipCode:"",country:(null===(e=y.a.find((function(e){return"US"===e.code})))||void 0===e?void 0:e.name)||"",ssn:"",employmentStatus:""}},resolver:Object(p.yupResolver)(g.a)}),Y=L.register,B=L.control,A=L.handleSubmit,T=L.watch,q=L.errors,K=L.setError,H=L.formState,W=T().profile.country,G=H.isSubmitting,J=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date(t.profile.dob),a=new Date,c=new Date(a.setFullYear(a.getFullYear()-10)),n<c){e.next=6;break}return e.abrupt("return",K("profile.dob",{type:"server",message:"Select valid Date"}));case 6:return e.prev=6,e.next=9,v.a.put("/profile",t);case 9:return e.next=11,M();case 11:z.push("/dashboard"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return V.profile?Object(w.jsx)(c.a,{to:"/dashboard"}):Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{font:"16px",p:"0",align:"center",bold:!0,children:"KYC Verification"}),Object(w.jsx)(u.a,{font:"12px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Kindly complete identification process to complete verification"})]}),Object(w.jsxs)(d.a,{as:"form",wide:!0,onSubmit:A(J),children:[Object(w.jsx)("input",{hidden:!0,ref:Y,name:"firstName"}),Object(w.jsx)("input",{hidden:!0,ref:Y,name:"lastName"}),Object(w.jsx)(j.a,{radius:"6px",p:"12px",label:"Country",ref:Y,name:"profile.country",error:null===(t=q.profile)||void 0===t||null===(n=t.country)||void 0===n?void 0:n.message,children:y.a.map((function(e){return Object(w.jsx)("option",{value:e.name,children:e.name},e.code)}))}),"United States"===W&&Object(w.jsx)(b.a,{radius:"6px",p:"12px",label:"Social Security Number",placeholder:"SSN",ref:Y,name:"profile.ssn",error:null===(a=q.profile)||void 0===a||null===(r=a.ssn)||void 0===r?void 0:r.message}),Object(w.jsx)(b.a,{radius:"6px",p:"12px",label:"zip Code",placeholder:"Zip Code",ref:Y,name:"profile.zipCode",error:null===(i=q.profile)||void 0===i||null===(k=i.zipCode)||void 0===k?void 0:k.message}),Object(w.jsx)(b.a,{radius:"6px",p:"12px",label:"City",placeholder:"City",ref:Y,name:"profile.city",error:null===(S=q.profile)||void 0===S||null===(D=S.city)||void 0===D?void 0:D.message}),Object(w.jsx)(b.a,{radius:"6px",p:"12px",type:"tel",label:"Phone Number",placeholder:"Phone Number",ref:Y,name:"profile.phone",error:null===(C=q.profile)||void 0===C||null===(I=C.phone)||void 0===I?void 0:I.message}),Object(w.jsxs)(j.a,{radius:"6px",p:"12px",label:"Employment Status",ref:Y,name:"profile.employmentStatus",error:null===(_=q.profile)||void 0===_||null===(P=_.employmentStatus)||void 0===P?void 0:P.message,children:[Object(w.jsx)("option",{value:"Employed",children:"Employed"}),Object(w.jsx)("option",{value:"Unemployed",children:"Unemployed"}),Object(w.jsx)("option",{value:"Self Employed",children:"Self Employed"}),Object(w.jsx)("option",{value:"Retired",children:"Retired"})]}),Object(w.jsxs)(j.a,{radius:"6px",p:"12px",label:"Gender",ref:Y,name:"profile.gender",error:null===(E=q.profile)||void 0===E||null===(N=E.gender)||void 0===N?void 0:N.message,children:[Object(w.jsx)("option",{value:"male",children:"Male"}),Object(w.jsx)("option",{value:"female",children:"Female"}),Object(w.jsx)("option",{value:"other",children:"Other"})]}),Object(w.jsx)(m.a,{radius:"6px",p:"12px",label:"Date of Birth",hint:"Pick Date",placeholder:"Date of Birth",control:B,name:"profile.dob",error:null===(R=q.profile)||void 0===R||null===(U=R.dob)||void 0===U?void 0:U.message}),Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"2px",p:"14px 12px",m:"12px 0",font:"13px",full:!0,bold:!0,disabled:G,children:G?Object(w.jsx)(h.a,{}):"Submit"})]})]})},S=n(31),D=n(101),C=function(){var e=Object(O.a)().profile,t=Object(a.useState)(!1),n=Object(S.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),p=Object(S.a)(s,2),b=p[0],j=p[1],m=Object(a.useState)(!1),g=Object(S.a)(m,2),y=g[0],k=g[1],C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,v.a.post("/profile/request-email-verification");case 4:i(!0),j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return e.meta.isEmailVerified?Object(w.jsx)(c.a,{to:"/dashboard"}):Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Verify Your Email"}),Object(w.jsx)(u.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:r?"We just sent you a verification link. Check your email and click on the link to verify your account":"Please check your email to verify your account"})]}),Object(w.jsxs)(d.a,{m:"24px 0 0",wide:!0,children:[!r&&Object(w.jsxs)(u.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,children:["Didn't get a verification email?",Object(w.jsx)(D.a,{font:"inherit",color:"primary",p:"0",m:"0 0 0 4px",bold:!0,underline:!0,onClick:function(){return k(!0)},children:"Click Here"})]}),y&&Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"2px",m:"12px 0 12px",full:!0,bold:!0,disabled:r,onClick:C,children:b?Object(w.jsx)(h.a,{}):r?"Please check your email":"Request Verification"})]})]})},I=n(8),_={loading:!0,valid:!1},P=function(e,t){switch(t.type){case"load":return Object(I.a)(Object(I.a)({},e),{},{loading:!0});case"success":return{loading:!1,valid:!0};case"error":return{loading:!1,valid:!1}}},E=function(){var e=Object(c.i)().token,t=Object(c.g)(),n=Object(O.a)().mutate,i=Object(a.useReducer)(P,_),s=Object(S.a)(i,2),p=s[0],b=p.loading,j=p.valid,h=s[1];Object(a.useEffect)((function(){e||h({type:"error"}),function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/auth/verify-email",{emailToken:e});case 3:n=t.sent,a=n.data,h({type:"success",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),h({type:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()()}),[e]);var m=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:t.push("/dashboard");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b?Object(w.jsx)(r.a,{}):j?Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Email Verification"}),Object(w.jsx)(u.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Your email has been verified"})]}),Object(w.jsx)(d.a,{wide:!0,children:Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"2px",m:"24px 0 12px",full:!0,bold:!0,onClick:m,children:"Log In"})})]}):Object(w.jsx)(f.a,{children:Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Email Verification"}),Object(w.jsx)(u.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Sorry this link is broken"})]})})},N=function(){var e=Object(O.a)(),t=e.profile,n=e.logout;return t.meta.isActive?Object(w.jsx)(c.a,{to:"/dashboard"}):Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{p:"0",m:"0 0 012px 0",align:"center",bold:!0,children:"Account Disabled"}),Object(w.jsx)(u.a,{font:"12px",p:"0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Your account has been deactivated"})]}),Object(w.jsxs)(d.a,{wide:!0,children:[Object(w.jsx)(u.a,{font:"12px",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"If you think this is a mistake kindly send us a message"}),Object(w.jsx)(x.a,{type:"submit",bg:"secondary",color:"black",radius:"2px",m:"12px 0",full:!0,bold:!0,onClick:n,children:"Log Out"})]})]})},R=function(e){var t=e.title,n=e.desc;return Object(w.jsxs)(d.a,{p:"12px 16px",m:"0 0 12px 0",bg:"bg",radius:"8px",wide:!0,children:[Object(w.jsx)(u.a,{p:"0",m:"0 0 8px 0",opacity:"0.8",font:"12px",weight:"500",children:t}),Object(w.jsx)(u.a,{p:"0",weight:"400",opacity:"0.9",font:"10px",multiline:!0,children:n})]})},U=function(){return Object(O.a)().profile.isDocumentVerified?Object(w.jsx)(c.a,{to:"/dashboard"}):Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{font:"16px",p:"0",align:"center",bold:!0,children:"Submit Documents"}),Object(w.jsx)(u.a,{font:"11px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"We need to verify your information. Please submit the following documents"})]}),Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(R,{title:"1.) Photo of ID (front side)",desc:"International Passport, Driver's License or National ID"}),Object(w.jsx)(R,{title:"2.) Photo of ID (back side)",desc:"Same document as above"}),Object(w.jsx)(R,{title:"3.) Take a selfie holding your ID",desc:"A photo clearly showing your face and your ID"})]}),Object(w.jsx)(d.a,{wide:!0,children:Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"6px",p:"12px 12px",m:"12px 0",font:"13px",full:"true",bold:"true",to:"/confirmation/documents/1",children:"Start Verification"})})]})},z=n(35),F=n.n(z),V=n(139),M=n(111),L=n(140),Y=function(){var e=Object(c.g)(),t=Object(O.a)().profile,n=Object(M.a)(),r=n.processing,i=n.start,s=n.complete,p=n.fail,b=Object(a.useState)(),j=Object(S.a)(b,2),m=j[0],g=j[1],y=Object(a.useState)(null),k=Object(S.a)(y,2),D=k[0],C=k[1],I=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=Object(L.a)(m),!(atob(a.split("base64,")[1]).length/Math.pow(1024,2)>10)){t.next=5;break}return t.abrupt("return",C("File too large, max file size is 10 MB"));case 5:return t.prev=5,i(),t.next=9,F.a.post("https://api.cloudinary.com/v1_1/bitmax/image/upload",{file:a,upload_preset:"bitbank"});case 9:return c=t.sent,r=c.data,t.next=13,v.a.post("/profile/document/1",{url:r.secure_url,cloudId:r.public_id});case 13:s({mssg:"Document Submitted Successfully"}),e.push("/confirmation/documents/2"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),p(t.t0.response.message);case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}();return t.isDocumentVerified?Object(w.jsx)(c.a,{to:"/dashboard"}):Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{font:"16px",p:"0",align:"center",bold:!0,children:"Step 1"}),Object(w.jsx)(u.a,{font:"11px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Kindly submit a photo of your ID Document (International Passport, Driver's License or National ID)"})]}),Object(w.jsxs)(d.a,{as:"form",wide:!0,onSubmit:I,children:[Object(w.jsx)(V.a,{image:m,action:function(e){var t=e.target.files[0];if(C(null),t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){return g(n.result)}}},hint:"Select Document"}),D&&Object(w.jsx)(u.a,{p:"0",m:"4px 0 0 0",align:"center",color:"danger",bold:!0,children:D}),Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"6px",p:"12px 12px",m:"12px 0",font:"13px",full:!0,bold:!0,disabled:r||!m,children:r?Object(w.jsx)(h.a,{}):m?"Upload Photo":"Choose an image"})]})]})},B=function(){var e=Object(c.g)(),t=Object(M.a)(),n=t.processing,r=t.start,i=t.complete,s=t.fail,p=Object(a.useState)(),b=Object(S.a)(p,2),j=b[0],m=b[1],O=Object(a.useState)(null),g=Object(S.a)(O,2),y=g[0],k=g[1],D=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),k(!1),a=Object(L.a)(j),!(atob(a.split("base64,")[1]).length/Math.pow(1024,2)>10)){t.next=6;break}return t.abrupt("return",k("File too large, max file size is 10 MB"));case 6:return t.prev=6,r(),t.next=10,F.a.post("https://api.cloudinary.com/v1_1/bitmax/image/upload",{file:a,upload_preset:"bitbank"});case 10:return c=t.sent,l=c.data,t.next=14,v.a.post("/profile/document/2",{url:l.secure_url,cloudId:l.public_id});case 14:i({mssg:"Document Submitted Successfully"}),e.push("/confirmation/documents/3"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),k(!0),s(t.t0.response.message);case 22:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{font:"16px",p:"0",align:"center",bold:!0,children:"Step 2"}),Object(w.jsx)(u.a,{font:"11px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Kindly submit a photo of the back of your ID document"})]}),Object(w.jsxs)(d.a,{as:"form",wide:!0,onSubmit:D,children:[Object(w.jsx)(V.a,{image:j,action:function(e){var t=e.target.files[0];if(k(null),t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){return m(n.result)}}},hint:"Select Document"}),y&&Object(w.jsx)(u.a,{p:"0",m:"4px 0 0 0",align:"center",color:"danger",bold:!0,children:y}),Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"6px",p:"12px 12px",m:"12px 0",font:"13px",full:!0,bold:!0,disabled:n||!j,children:n?Object(w.jsx)(h.a,{}):j?"Upload Photo":"Choose an image"})]})]})},A=function(){var e=Object(c.g)(),t=Object(M.a)(),n=t.processing,r=t.start,i=t.complete,s=t.fail,p=Object(a.useState)(),b=Object(S.a)(p,2),j=b[0],m=b[1],O=Object(a.useState)(!1),g=Object(S.a)(O,2),y=g[0],k=g[1],D=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),k(!1),a=Object(L.a)(j),!(atob(a.split("base64,")[1]).length/Math.pow(1024,2)>10)){t.next=6;break}return t.abrupt("return",k("File too large, max file size is 10 MB"));case 6:return t.prev=6,r(),t.next=10,F.a.post("https://api.cloudinary.com/v1_1/bitmax/image/upload",{file:a,upload_preset:"bitbank"});case 10:return c=t.sent,l=c.data,t.next=14,v.a.post("/profile/document/3",{url:l.secure_url,cloudId:l.public_id});case 14:i({mssg:"Document Submitted Successfully"}),e.push("/confirmation/documents/completed"),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(6),k(!0),s(t.t0.response.message),console.log(t.t0,t.t0.response);case 23:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{font:"16px",p:"0",align:"center",bold:!0,children:"Step 3"}),Object(w.jsx)(u.a,{font:"11px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:"Take a photo of you holding the ID you just submitted. Ensure the front of the ID is visible"})]}),Object(w.jsxs)(d.a,{as:"form",wide:!0,onSubmit:D,children:[Object(w.jsx)(V.a,{image:j,action:function(e){var t=e.target.files[0];if(k(null),t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){return m(n.result)}}},hint:"Select Document"}),y&&Object(w.jsx)(u.a,{p:"0",m:"4px 0 0 0",align:"center",color:"danger",bold:!0,children:y}),Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"6px",p:"12px 12px",m:"12px 0",font:"13px",full:!0,bold:!0,disabled:n||!j,children:n?Object(w.jsx)(h.a,{}):j?"Upload Photo":"Choose an image"})]})]})},T=function(){var e=Object(c.g)(),t=Object(O.a)().profile,n=Object(M.a)(),r=n.processing,i=n.start,s=n.complete,p=Object(a.useRef)(),b=Object(a.useState)(),j=Object(S.a)(b,2),m=j[0],g=j[1],y=Object(a.useState)(null),k=Object(S.a)(y,2),D=k[0],C=k[1],I=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",m),n.append("upload_preset","bitbank"),t.prev=3,i(),t.next=7,F.a.post("https://api.cloudinary.com/v1_1/bitmax/image/upload",n);case 7:return a=t.sent,c=a.data,t.next=11,v.a.post("/profile/document/upload",{url:c.secure_url,cloudId:c.public_id});case 11:s({mssg:"Document Submitted Successfully"}),e.push({pathname:"/confirmation/documents/completed",state:{title:"Upload Successful",message:"Thank you. Your documents has been received and is currently being processed."}}),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(3);case 17:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(){return t.apply(this,arguments)}}();return t.requestedDocument?Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsxs)(u.a,{font:"16px",p:"0",align:"center",bold:!0,children:["Upload ",t.requestedDocument]}),Object(w.jsx)(u.a,{font:"11px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:t.requestedDocumentDescription})]}),Object(w.jsxs)(d.a,{wide:!0,children:[Object(w.jsx)("input",{ref:p,type:"file",onChange:function(e){var t=e.target.files[0];if(C(null),g(null),t){if(t.size/Math.pow(1024,2)>10)return C("File too large, max file size is 10 MB");g(t)}},hidden:!0}),Object(w.jsxs)(d.a,{p:"48px 0",flex:"space-between",wide:!0,children:[Object(w.jsx)(u.a,{children:(null===m||void 0===m?void 0:m.name)||"No file chosen"}),Object(w.jsx)(x.a,{p:"6px",bg:"primary",onClick:function(){return p.current.click()},children:m?"Choose another file":"Choose file"})]}),D&&Object(w.jsx)(u.a,{p:"0",m:"4px 0 0 0",align:"center",color:"danger",bold:!0,children:D}),Object(w.jsx)(x.a,{bg:"primary",radius:"6px",p:"12px 12px",m:"12px 0",font:"13px",full:!0,bold:!0,disabled:r||!m,onClick:I,children:r?Object(w.jsx)(h.a,{}):m?"Upload Document":"Choose a document"})]})]}):Object(w.jsx)(c.a,{to:"/dashboard"})},q=function(){var e=Object(c.h)().state,t=Object(O.a)().mutate;return Object(a.useEffect)((function(){t()}),[t]),Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(d.a,{p:"12px 0",wide:!0,children:[Object(w.jsx)(u.a,{font:"16px",p:"0",align:"center",bold:!0,children:(null===e||void 0===e?void 0:e.title)||"Verification Completed"}),Object(w.jsx)(u.a,{font:"11px",p:"0",m:"12px 0 0 0",align:"center",opacity:"0.6",bold:!0,multiline:!0,children:(null===e||void 0===e?void 0:e.message)||"Thank you. Your documents are being processed and you can already access your account"})]}),Object(w.jsx)(d.a,{wide:!0,children:Object(w.jsx)(x.a,{type:"submit",bg:"primary",radius:"6px",p:"12px 12px",m:"12px 0",full:"true",bold:"true",to:"/dashboard",children:"Go To Dashboard"})})]})},K=function(e){var t=e.children,n=Object(c.h)(),a=Object(O.a)(),i=a.profile;if(a.loading)return Object(w.jsx)(r.a,{});var o=n.pathname.split("/").slice(0,3).join("/"),l=["/confirmation/verify-email"].includes(o);return i||l?t:Object(w.jsx)(c.a,{to:"/account/login"})};function H(){var e=Object(c.j)().path;return Object(w.jsx)(K,{children:Object(w.jsxs)(c.d,{children:[Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/kyc"),children:Object(w.jsx)(k,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/verify-email/:token"),children:Object(w.jsx)(E,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/email-verification"),children:Object(w.jsx)(C,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/lock"),children:Object(w.jsx)(N,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/documents/start"),children:Object(w.jsx)(U,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/documents/1"),children:Object(w.jsx)(Y,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/documents/2"),children:Object(w.jsx)(B,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/documents/3"),children:Object(w.jsx)(A,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/documents/upload"),children:Object(w.jsx)(T,{})}),Object(w.jsx)(c.b,{exact:!0,path:"".concat(e,"/documents/completed"),children:Object(w.jsx)(q,{})}),Object(w.jsx)(c.b,{children:Object(w.jsx)(c.a,{to:"/"})})]})})}}}]);
//# sourceMappingURL=9.31efdf0e.chunk.js.map