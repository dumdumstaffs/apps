{"version":3,"sources":["components/organisms/AuthNavBar.js","components/templates/Auth.js","components/pages/restriction/KYC.js","components/pages/restriction/EmailVerification.js","components/pages/restriction/VerifyEmail.js","components/pages/restriction/Deactivated.js","components/pages/restriction/DocumentStart.js","components/pages/restriction/IdFront.js","components/pages/restriction/IdBack.js","components/pages/restriction/DocumentSelfie.js","components/pages/restriction/DocumentUpload.js","components/pages/restriction/DocumentCompleted.js","routes/RestrictionRoute.js"],"names":["Wrapper","styled","aside","bg","theme","colors","bgContrast","breakpoints","xl","Menu","FaBars","Heading","h3","Dropdown","div","open","css","AuthNavBar","useState","dropdownOpen","setDropdownOpen","toggleDropdown","onClick","to","src","alt","process","Backdrop","Container","p","wide","Text","as","display","href","Auth","children","flex","m","h","minH","radius","maxW","w","KYC","history","useHistory","useProfile","profile","mutate","useForm","defaultValues","firstName","lastName","phone","gender","city","zipCode","country","countries","find","c","code","name","resolver","yupResolver","profileSchema","register","handleSubmit","errors","watch","formState","isSubmitting","onSubmit","formData","axiosInstance","put","push","console","log","response","font","align","bold","opacity","multiline","hidden","ref","Select","label","error","message","map","value","Input","placeholder","ssn","type","Button","full","disabled","Spinner","RequestEmailVerification","requested","setRequested","loading","setLoading","showRequestButton","setShowRequestButton","requestVerification","post","meta","isEmailVerified","SubText","color","underline","initialState","valid","callbackReducer","state","VerifyEmail","token","useParams","useReducer","dispatch","useEffect","verifyEmail","emailToken","data","payload","login","PreLoader","Deactivated","logout","isActive","Requirement","title","desc","weight","DocumentStart","isDocumentVerified","IdFront","useProcess","processing","start","complete","fail","document","setDocument","setError","e","preventDefault","compressedBase64","compressImageDataURL","mssg","Upload","image","action","file","target","files","reader","FileReader","readAsDataURL","onloadend","result","hint","IdBack","DocumentSelfie","inputRef","useRef","FormData","append","axios","url","secure_url","cloudId","public_id","pathname","requestedDocument","requestedDocumentDescription","onChange","size","current","click","DocumentCompleted","useLocation","AuthChecker","location","path","split","slice","join","whitelisted","includes","RestrictionRoute","useRouteMatch","exact","EmailVerification","DocumentUpload"],"mappings":"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","file":"static/js/8.bb381948.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled, { css } from \"styled-components\";\nimport { FaBars } from \"react-icons/fa\";\n\nimport Backdrop from \"../atoms/Backdrop\";\nimport Container from \"../atoms/Container\";\nimport Text from \"../atoms/Text\";\n\nconst Wrapper = styled.aside`\n  grid-area: navbar;\n  height: 48px;\n  width: 100%;\n\n  margin: 0;\n  padding: 0 80px;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  z-index: 2;\n\n  background-color: ${({ bg, theme }) =>\n    theme.colors[bg] || bg || theme.colors.bgContrast};\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  /* display: none; */\n\n  @media screen and (max-width: ${({ theme }) => theme.breakpoints.xl}) {\n    padding: 0 12px;\n  }\n`;\n\nconst Menu = styled(FaBars)`\n  font-size: 24px;\n  width: 24px;\n`;\n\nconst Heading = styled.h3`\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    width: 20px;\n    display: inline-block;\n    margin-right: 8px;\n  }\n`;\n\nconst Dropdown = styled.div`\n  position: fixed;\n  top: calc(48px + 12px);\n  left: 80px;\n\n  width: calc(100% - 24px);\n  max-width: 360px;\n  max-height: 0;\n  transition: max-height 0.15s ease-out;\n  overflow: hidden;\n\n  background-color: ${({ bg, theme }) =>\n    theme.colors[bg] || bg || theme.colors.bgContrast};\n  border-radius: 12px;\n\n  ${({ open }) =>\n    open &&\n    css`\n      max-height: 500px;\n      transition: max-height 0.25s ease-in;\n    `}\n\n  @media screen and (max-width: ${({ theme }) => theme.breakpoints.xl}) {\n    left: 12px;\n  }\n`;\n\nconst AuthNavBar = () => {\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const toggleDropdown = () => setDropdownOpen(!dropdownOpen);\n\n  return (\n    <Wrapper>\n      <Menu onClick={toggleDropdown} />\n      <Link to=\"/dashboard\">\n        <Heading>\n          <img src=\"/logo.png\" alt=\"logo\" />\n          {process.env.REACT_APP_NAME}\n        </Heading>\n      </Link>\n\n      <Backdrop open={dropdownOpen} onClick={toggleDropdown} />\n      <Dropdown open={dropdownOpen}>\n        <Container p=\"12px\" wide>\n          <Text\n            as=\"a\"\n            display=\"block\"\n            href={`https://${process.env.REACT_APP_DOMAIN}`}\n          >\n            Home\n          </Text>\n          <Text display=\"block\" to=\"/account/login\">\n            Login\n          </Text>\n          <Text display=\"block\" to=\"/account/register\">\n            Register\n          </Text>\n          <Text display=\"block\" to=\"/account/forgot-password\">\n            Forgot Password\n          </Text>\n        </Container>\n      </Dropdown>\n    </Wrapper>\n  );\n};\n\nexport default AuthNavBar;\n","import React from \"react\";\n\nimport Container from \"../atoms/Container\";\n\nimport AuthNavBar from \"../organisms/AuthNavBar\";\n\nconst Auth = ({ children }) => {\n  return (\n    <Container\n      flex=\"center\"\n      bg=\"bg\"\n      m=\"48px 0 0 0\"\n      h=\"calc(100% - 48px)\"\n      minH=\"calc(100vh - 48px)\"\n    >\n      <AuthNavBar />\n\n      <Container\n        p=\"16px\"\n        m=\"64px 0\"\n        bg=\"bgContrast\"\n        radius=\"6px\"\n        maxW=\"calc(100vw - 28px)\"\n        w=\"400px\"\n        h=\"auto\"\n      >\n        {children}\n      </Container>\n    </Container>\n  );\n};\n\nexport default Auth;\n","import React from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Input from \"../../atoms/Input\";\nimport Select from \"../../atoms/Select\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nimport { profileSchema } from \"../../../validators/profile\";\n\nimport axiosInstance from \"../../../utils/axios\";\n\nimport countries from \"../../../store/countries\";\n\nconst KYC = () => {\n  const history = useHistory();\n  const { profile, mutate } = useProfile();\n\n  const { register, handleSubmit, errors, watch, formState } = useForm({\n    defaultValues: {\n      firstName: profile.firstName,\n      lastName: profile.lastName,\n      profile: {\n        phone: \"\",\n        gender: \"\",\n        city: \"\",\n        zipCode: \"\",\n        country: countries.find((c) => c.code === \"US\")?.name || \"\",\n      },\n    },\n    resolver: yupResolver(profileSchema),\n  });\n\n  const {\n    profile: { country },\n  } = watch();\n\n  const { isSubmitting } = formState;\n\n  const onSubmit = async (formData) => {\n    try {\n      await axiosInstance.put(\"/profile\", formData);\n      await mutate();\n      history.push(\"/dashboard\");\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  if (profile.profile) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          KYC Verification\n        </Text>\n        <Text\n          font=\"12px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          Kindly complete identification process to complete verification\n        </Text>\n      </Container>\n      <Container as=\"form\" wide onSubmit={handleSubmit(onSubmit)}>\n        <input hidden ref={register} name=\"firstName\" />\n        <input hidden ref={register} name=\"lastName\" />\n        <Select\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"Country\"\n          ref={register}\n          name=\"profile.country\"\n          error={errors.profile?.country?.message}\n        >\n          {countries.map((country) => (\n            <option key={country.code} value={country.name}>\n              {country.name}\n            </option>\n          ))}\n        </Select>\n        <Input\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"Zip Code\"\n          placeholder=\"Zip Code\"\n          ref={register}\n          name=\"profile.zipCode\"\n          error={errors.profile?.zipCode?.message}\n        />\n        <Input\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"City\"\n          placeholder=\"City\"\n          ref={register}\n          name=\"profile.city\"\n          error={errors.profile?.city?.message}\n        />\n        {country === \"United States\" && (\n          <Input\n            radius=\"6px\"\n            p=\"12px\"\n            label=\"Social Security Number\"\n            placeholder=\"SSN\"\n            ref={register}\n            name=\"profile.ssn\"\n            error={errors.profile?.ssn?.message}\n          />\n        )}\n\n        <Input\n          radius=\"6px\"\n          p=\"12px\"\n          type=\"tel\"\n          label=\"Phone Number\"\n          placeholder=\"Phone Number\"\n          ref={register}\n          name=\"profile.phone\"\n          error={errors.profile?.phone?.message}\n        />\n        <Select\n          radius=\"6px\"\n          p=\"12px\"\n          label=\"Gender\"\n          ref={register}\n          name=\"profile.gender\"\n          error={errors.profile?.gender?.message}\n        >\n          <option value=\"\">Select Gender</option>\n          <option value=\"male\">Male</option>\n          <option value=\"female\">Female</option>\n          <option value=\"other\">Other</option>\n        </Select>\n\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"2px\"\n          p=\"14px 12px\"\n          m=\"12px 0\"\n          font=\"13px\"\n          full\n          bold\n          disabled={isSubmitting}\n        >\n          {isSubmitting ? <Spinner /> : \"Submit\"}\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default KYC;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport SubText from \"../../atoms/SubText\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nimport axiosInstance from \"../../../utils/axios\";\n\nconst RequestEmailVerification = () => {\n  const { profile } = useProfile();\n\n  const [requested, setRequested] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [showRequestButton, setShowRequestButton] = useState(false);\n\n  const requestVerification = async () => {\n    try {\n      setLoading(true);\n      await axiosInstance.post(\"/profile/request-email-verification\");\n      setRequested(true);\n      setLoading(false);\n    } catch (err) {\n      // console.log(err);\n      setLoading(false);\n    }\n  };\n\n  if (profile.meta.isEmailVerified) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n          Verify Your Email\n        </Text>\n        <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n          {requested\n            ? \"We just sent you a verification link. Check your email and click on the link to verify your account\"\n            : \"Please check your email to verify your account\"}\n        </Text>\n      </Container>\n      <Container m=\"24px 0 0\" wide>\n        {!requested && (\n          <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold>\n            Didn't get a verification email?\n            <SubText\n              font=\"inherit\"\n              color=\"primary\"\n              p=\"0\"\n              m=\"0 0 0 4px\"\n              bold\n              underline\n              onClick={() => setShowRequestButton(true)}\n            >\n              Click Here\n            </SubText>\n          </Text>\n        )}\n        {showRequestButton && (\n          <Button\n            type=\"submit\"\n            bg=\"primary\"\n            radius=\"2px\"\n            m=\"12px 0 12px\"\n            full\n            bold\n            disabled={requested}\n            onClick={requestVerification}\n          >\n            {loading ? (\n              <Spinner />\n            ) : requested ? (\n              \"Please check your email\"\n            ) : (\n              \"Request Verification\"\n            )}\n          </Button>\n        )}\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default RequestEmailVerification;\n","import React, { useEffect, useReducer } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\n\nimport PreLoader from \"../../atoms/PreLoader\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nimport axiosInstance from \"../../../utils/axios\";\n\nconst initialState = {\n  loading: true,\n  valid: false,\n};\n\nconst callbackReducer = (state, { type }) => {\n  switch (type) {\n    case \"load\":\n      return { ...state, loading: true };\n\n    case \"success\":\n      return { loading: false, valid: true };\n\n    case \"error\":\n      return { loading: false, valid: false };\n\n    default:\n      break;\n  }\n};\n\nconst VerifyEmail = () => {\n  const { token } = useParams();\n  const history = useHistory();\n  const { mutate } = useProfile();\n\n  const [{ loading, valid }, dispatch] = useReducer(\n    callbackReducer,\n    initialState\n  );\n\n  useEffect(() => {\n    if (!token) {\n      dispatch({\n        type: \"error\",\n      });\n    }\n    const verifyEmail = async () => {\n      try {\n        // console.log(token);\n        const { data } = await axiosInstance.post(\"/auth/verify-email\", {\n          emailToken: token,\n        });\n        // console.log(data);\n        dispatch({\n          type: \"success\",\n          payload: data,\n        });\n      } catch (err) {\n        // console.log(err.response);\n        dispatch({\n          type: \"error\",\n        });\n      }\n    };\n    verifyEmail();\n  }, [token]);\n\n  const login = async () => {\n    await mutate();\n    history.push(\"/dashboard\");\n  };\n\n  if (loading) return <PreLoader />;\n\n  if (!valid)\n    return (\n      <AuthLayout>\n        <Container p=\"12px 0\" wide>\n          <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n            Email Verification\n          </Text>\n          <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n            Sorry this link is broken\n          </Text>\n        </Container>\n      </AuthLayout>\n    );\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n          Email Verification\n        </Text>\n        <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n          Your email has been verified\n        </Text>\n      </Container>\n      <Container wide>\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"2px\"\n          m=\"24px 0 12px\"\n          full\n          bold\n          onClick={login}\n        >\n          Log In\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default VerifyEmail;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nconst Deactivated = () => {\n  const { profile, logout } = useProfile();\n\n  if (profile.meta.isActive) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text p=\"0\" m=\"0 0 012px 0\" align=\"center\" bold>\n          Account Disabled\n        </Text>\n        <Text font=\"12px\" p=\"0\" align=\"center\" opacity=\"0.6\" bold multiline>\n          Your account has been deactivated\n        </Text>\n      </Container>\n      <Container wide>\n        <Text font=\"12px\" align=\"center\" opacity=\"0.6\" bold multiline>\n          If you think this is a mistake kindly send us a message\n        </Text>\n        <Button\n          type=\"submit\"\n          bg=\"secondary\"\n          color=\"black\"\n          radius=\"2px\"\n          m=\"12px 0\"\n          full\n          bold\n          onClick={logout}\n        >\n          Log Out\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default Deactivated;\n","import React from \"react\";\nimport { Redirect } from \"react-router\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nconst Requirement = ({ title, desc }) => (\n  <Container p=\"12px 16px\" m=\"0 0 12px 0\" bg=\"bg\" radius=\"8px\" wide>\n    <Text p=\"0\" m=\"0 0 8px 0\" opacity=\"0.8\" font=\"12px\" weight=\"500\">\n      {title}\n    </Text>\n    <Text p=\"0\" weight=\"400\" opacity=\"0.9\" font=\"10px\" multiline>\n      {desc}\n    </Text>\n  </Container>\n);\nconst DocumentStart = () => {\n  const { profile } = useProfile();\n\n  if (profile.isDocumentVerified) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          Submit Documents\n        </Text>\n        <Text\n          font=\"11px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          We need to verify your information. Please submit the following\n          documents\n        </Text>\n      </Container>\n\n      <Container p=\"12px 0\" wide>\n        <Requirement\n          title=\"1.) Photo of ID (front side)\"\n          desc=\"International Passport, Driver's License or National ID\"\n        />\n        <Requirement\n          title=\"2.) Photo of ID (back side)\"\n          desc=\"Same document as above\"\n        />\n        <Requirement\n          title=\"3.) Take a selfie holding your ID\"\n          desc=\"A photo clearly showing your face and your ID\"\n        />\n      </Container>\n\n      <Container wide>\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"6px\"\n          p=\"12px 12px\"\n          m=\"12px 0\"\n          font=\"13px\"\n          full=\"true\"\n          bold=\"true\"\n          to=\"/confirmation/documents/1\"\n        >\n          Start Verification\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default DocumentStart;\n","import React, { useState } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport Upload from \"../../molecules/Upload\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\nimport { useProcess } from \"../../../hooks/useProcess\";\n\nimport axiosInstance from \"../../../utils/axios\";\nimport { compressImageDataURL } from \"../../../utils/compress\";\n\nconst IdFront = () => {\n  const history = useHistory();\n  const { profile } = useProfile();\n\n  const { processing, response, start, complete, fail } = useProcess();\n\n  const [document, setDocument] = useState();\n  const [error, setError] = useState(false);\n\n  const handleDocument = (e) => {\n    const file = e.target.files[0];\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => setDocument(reader.result);\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setError(false);\n    const compressedBase64 = compressImageDataURL(document);\n\n    try {\n      start();\n      await axiosInstance.post(\"/profile/document/1\", {\n        document: compressedBase64,\n      });\n      complete({ mssg: \"Document Submitted Successfully\" });\n      history.push(\"/confirmation/documents/2\");\n    } catch (err) {\n      setError(true);\n      fail(err.response.message);\n    }\n  };\n\n  if (profile.isDocumentVerified) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          Step 1\n        </Text>\n        <Text\n          font=\"11px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          Kindly submit a photo of your ID Document (International Passport,\n          Driver's License or National ID)\n        </Text>\n      </Container>\n      <Container as=\"form\" wide onSubmit={onSubmit}>\n        <Upload\n          image={document}\n          action={handleDocument}\n          hint=\"Select Document\"\n        />\n        {error && processing && (\n          <Text p=\"0\" m=\"4px 0 0 0\" align=\"center\" color=\"danger\" bold>\n            {response}\n          </Text>\n        )}\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"6px\"\n          p=\"12px 12px\"\n          m=\"12px 0\"\n          font=\"13px\"\n          full\n          bold\n          disabled={processing || !document}\n        >\n          {processing ? (\n            <Spinner />\n          ) : document ? (\n            \"Upload Photo\"\n          ) : (\n            \"Choose an image\"\n          )}\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default IdFront;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport Upload from \"../../molecules/Upload\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProcess } from \"../../../hooks/useProcess\";\n\nimport axiosInstance from \"../../../utils/axios\";\nimport { compressImageDataURL } from \"../../../utils/compress\";\n\nconst IdBack = () => {\n  const history = useHistory();\n\n  const { processing, response, start, complete, fail } = useProcess();\n\n  const [document, setDocument] = useState();\n  const [error, setError] = useState(false);\n\n  const handleDocument = (e) => {\n    const file = e.target.files[0];\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => setDocument(reader.result);\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setError(false);\n    const compressedBase64 = compressImageDataURL(document);\n\n    try {\n      start();\n      await axiosInstance.post(\"/profile/document/2\", {\n        document: compressedBase64,\n      });\n      complete({ mssg: \"Document Submitted Successfully\" });\n      history.push(\"/confirmation/documents/3\");\n    } catch (err) {\n      setError(true);\n      fail(err.response.message);\n    }\n  };\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          Step 2\n        </Text>\n        <Text\n          font=\"11px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          Kindly submit a photo of the back of your ID document\n        </Text>\n      </Container>\n      <Container as=\"form\" wide onSubmit={onSubmit}>\n        <Upload\n          image={document}\n          action={handleDocument}\n          hint=\"Select Document\"\n        />\n        {error && (\n          <Text p=\"0\" m=\"4px 0 0 0\" align=\"center\" color=\"danger\" bold>\n            {response}\n          </Text>\n        )}\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"6px\"\n          p=\"12px 12px\"\n          m=\"12px 0\"\n          font=\"13px\"\n          full\n          bold\n          disabled={processing || !document}\n        >\n          {processing ? (\n            <Spinner />\n          ) : document ? (\n            \"Upload Photo\"\n          ) : (\n            \"Choose an image\"\n          )}\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default IdBack;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport Upload from \"../../molecules/Upload\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProcess } from \"../../../hooks/useProcess\";\n\nimport axiosInstance from \"../../../utils/axios\";\nimport { compressImageDataURL } from \"../../../utils/compress\";\n\nconst DocumentSelfie = () => {\n  const history = useHistory();\n\n  const { processing, response, start, complete, fail } = useProcess();\n\n  const [document, setDocument] = useState();\n  const [error, setError] = useState(false);\n\n  const handleDocument = (e) => {\n    const file = e.target.files[0];\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => setDocument(reader.result);\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setError(false);\n    const compressedBase64 = compressImageDataURL(document);\n\n    try {\n      start();\n      await axiosInstance.post(\"/profile/document/3\", {\n        document: compressedBase64,\n      });\n      complete({ mssg: \"Document Submitted Successfully\" });\n      history.push(\"/confirmation/documents/completed\");\n    } catch (err) {\n      setError(true);\n      fail(err.response.message);\n      console.log(err, err.response);\n    }\n  };\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          Step 3\n        </Text>\n        <Text\n          font=\"11px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          Take a photo of you holding the ID you just submitted. Ensure the\n          front of the ID is visible\n        </Text>\n      </Container>\n      <Container as=\"form\" wide onSubmit={onSubmit}>\n        <Upload\n          image={document}\n          action={handleDocument}\n          hint=\"Select Document\"\n        />\n        {error && (\n          <Text p=\"0\" m=\"4px 0 0 0\" align=\"center\" color=\"danger\" bold>\n            {response}\n          </Text>\n        )}\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"6px\"\n          p=\"12px 12px\"\n          m=\"12px 0\"\n          font=\"13px\"\n          full\n          bold\n          disabled={processing || !document}\n        >\n          {processing ? (\n            <Spinner />\n          ) : document ? (\n            \"Upload Photo\"\n          ) : (\n            \"Choose an image\"\n          )}\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default DocumentSelfie;\n","import React, { useState, useRef } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\nimport Spinner from \"../../atoms/Spinner\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\nimport { useProcess } from \"../../../hooks/useProcess\";\n\nimport axiosInstance from \"../../../utils/axios\";\n\nconst DocumentSelfie = () => {\n  const history = useHistory();\n  const { profile } = useProfile();\n\n  const { processing, start, complete } = useProcess();\n\n  const inputRef = useRef();\n  const [document, setDocument] = useState();\n  const [error, setError] = useState(null);\n\n  const handleDocument = (e) => {\n    const file = e.target.files[0];\n    setError(null);\n    setDocument(null);\n    if (file) {\n      if (file.size / 1024 ** 2 > 10)\n        return setError(\"File too large, max file size is 10 MB\");\n\n      setDocument(file);\n    }\n  };\n\n  const handleSubmit = async () => {\n    const formData = new FormData();\n    formData.append(\"file\", document);\n    formData.append(\"upload_preset\", `flashtradefx_public`);\n\n    try {\n      start();\n      const { data } = await axios.post(\n        `https://api.cloudinary.com/v1_1/flashtradefx/image/upload`,\n        formData\n      );\n      await axiosInstance.post(\"/profile/document/upload\", {\n        url: data.secure_url,\n        cloudId: data.public_id,\n      });\n      complete({ mssg: \"Document Submitted Successfully\" });\n      history.push({\n        pathname: \"/confirmation/documents/completed\",\n        state: {\n          title: \"Upload Successful\",\n          message:\n            \"Thank you. Your documents has been received and is currently being processed.\",\n        },\n      });\n    } catch (err) {\n      setError(\"Something went wrong!\");\n      complete();\n      // console.log(err, err.response);\n    }\n  };\n\n  if (!profile.requestedDocument) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          Upload {profile.requestedDocument}\n        </Text>\n        <Text\n          font=\"11px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          {profile.requestedDocumentDescription}\n        </Text>\n      </Container>\n      <Container wide>\n        <input ref={inputRef} type=\"file\" onChange={handleDocument} hidden />\n\n        <Container p=\"48px 0\" flex=\"space-between\" wide>\n          <Text>{document?.name || \"No file chosen\"}</Text>\n          <Button p=\"6px\" bg=\"primary\" onClick={() => inputRef.current.click()}>\n            {document ? \"Choose another file\" : \"Choose file\"}\n          </Button>\n        </Container>\n\n        {error && (\n          <Text p=\"0\" m=\"4px 0 0 0\" align=\"center\" color=\"danger\" bold>\n            {error}\n          </Text>\n        )}\n        <Button\n          bg=\"primary\"\n          radius=\"6px\"\n          p=\"12px 12px\"\n          m=\"12px 0\"\n          font=\"13px\"\n          full\n          bold\n          disabled={processing || !document}\n          onClick={handleSubmit}\n        >\n          {processing ? (\n            <Spinner />\n          ) : document ? (\n            \"Upload Document\"\n          ) : (\n            \"Choose a document\"\n          )}\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default DocumentSelfie;\n","import React, { useEffect } from \"react\";\nimport { useLocation } from \"react-router\";\n\nimport Container from \"../../atoms/Container\";\nimport Text from \"../../atoms/Text\";\nimport Button from \"../../atoms/Button\";\n\nimport AuthLayout from \"../../templates/Auth\";\n\nimport { useProfile } from \"../../../hooks/useProfile\";\n\nconst DocumentCompleted = () => {\n  const { state } = useLocation();\n  const { mutate } = useProfile();\n\n  useEffect(() => {\n    mutate();\n  }, [mutate]);\n\n  return (\n    <AuthLayout>\n      <Container p=\"12px 0\" wide>\n        <Text font=\"16px\" p=\"0\" align=\"center\" bold>\n          {state?.title || \"Verification Completed\"}\n        </Text>\n        <Text\n          font=\"11px\"\n          p=\"0\"\n          m=\"12px 0 0 0\"\n          align=\"center\"\n          opacity=\"0.6\"\n          bold\n          multiline\n        >\n          {state?.message ||\n            \"Thank you. Your documents are being processed and you can already access your account\"}\n        </Text>\n      </Container>\n      <Container wide>\n        <Button\n          type=\"submit\"\n          bg=\"primary\"\n          radius=\"6px\"\n          p=\"12px 12px\"\n          m=\"12px 0\"\n          full=\"true\"\n          bold=\"true\"\n          to=\"/dashboard\"\n        >\n          Go To Dashboard\n        </Button>\n      </Container>\n    </AuthLayout>\n  );\n};\n\nexport default DocumentCompleted;\n","import React from \"react\";\nimport {\n  Switch,\n  Route,\n  Redirect,\n  useRouteMatch,\n  useLocation,\n} from \"react-router-dom\";\n\nimport PreLoader from \"../components/atoms/PreLoader\";\n\nimport KYC from \"../components/pages/restriction/KYC\";\nimport EmailVerification from \"../components/pages/restriction/EmailVerification\";\nimport VerifyEmail from \"../components/pages/restriction/VerifyEmail\";\nimport Deactivated from \"../components/pages/restriction/Deactivated\";\nimport DocumentStart from \"../components/pages/restriction/DocumentStart\";\nimport IdFront from \"../components/pages/restriction/IdFront\";\nimport IdBack from \"../components/pages/restriction/IdBack\";\nimport DocumentSelfie from \"../components/pages/restriction/DocumentSelfie\";\nimport DocumentUpload from \"../components/pages/restriction/DocumentUpload\";\nimport DocumentCompleted from \"../components/pages/restriction/DocumentCompleted\";\n\nimport { useProfile } from \"../hooks/useProfile\";\n\nconst AuthChecker = ({ children }) => {\n  const location = useLocation();\n\n  const { profile, loading } = useProfile();\n\n  if (loading) return <PreLoader />;\n\n  const whitelist = [\"/confirmation/verify-email\"];\n  const path = location.pathname.split(\"/\").slice(0, 3).join(\"/\");\n  const whitelisted = whitelist.includes(path);\n\n  if (!profile && !whitelisted) return <Redirect to=\"/account/login\" />;\n\n  return children;\n};\n\nexport default function RestrictionRoute() {\n  const { path } = useRouteMatch();\n\n  return (\n    <AuthChecker>\n      <Switch>\n        <Route exact path={`${path}/kyc`}>\n          <KYC />\n        </Route>\n        <Route exact path={`${path}/verify-email/:token`}>\n          <VerifyEmail />\n        </Route>\n        <Route exact path={`${path}/email-verification`}>\n          <EmailVerification />\n        </Route>\n        <Route exact path={`${path}/lock`}>\n          <Deactivated />\n        </Route>\n\n        {/* documents */}\n        <Route exact path={`${path}/documents/start`}>\n          <DocumentStart />\n        </Route>\n        <Route exact path={`${path}/documents/1`}>\n          <IdFront />\n        </Route>\n        <Route exact path={`${path}/documents/2`}>\n          <IdBack />\n        </Route>\n        <Route exact path={`${path}/documents/3`}>\n          <DocumentSelfie />\n        </Route>\n        <Route exact path={`${path}/documents/upload`}>\n          <DocumentUpload />\n        </Route>\n        <Route exact path={`${path}/documents/completed`}>\n          <DocumentCompleted />\n        </Route>\n\n        <Route>\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n    </AuthChecker>\n  );\n}\n"],"sourceRoot":""}